var yT=Object.defineProperty,wT=Object.defineProperties;var bT=Object.getOwnPropertyDescriptors;var tw=Object.getOwnPropertySymbols;var ET=Object.prototype.hasOwnProperty,xT=Object.prototype.propertyIsEnumerable;var nw=(t,e,n)=>e in t?yT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_=(t,e)=>{for(var n in e||={})ET.call(e,n)&&nw(t,n,e[n]);if(tw)for(var n of tw(e))xT.call(e,n)&&nw(t,n,e[n]);return t},me=(t,e)=>wT(t,bT(e));var Tn=(t,e,n)=>new Promise((s,r)=>{var i=c=>{try{a(n.next(c))}catch(l){r(l)}},o=c=>{try{a(n.throw(c))}catch(l){r(l)}},a=c=>c.done?s(c.value):Promise.resolve(c.value).then(i,o);a((n=n.apply(t,e)).next())});var sw=null;var sf=1,rw=Symbol("SIGNAL");function Se(t){let e=sw;return sw=t,e}var iw={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function CT(t){if(!(af(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===sf)){if(!t.producerMustRecompute(t)&&!rf(t)){t.dirty=!1,t.lastCleanEpoch=sf;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=sf}}function ow(t){return t&&(t.nextProducerIndex=0),Se(t)}function aw(t,e){if(Se(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(af(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)of(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function rf(t){fl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],s=t.producerLastReadVersion[e];if(s!==n.version||(CT(n),s!==n.version))return!0}return!1}function cw(t){if(fl(t),af(t))for(let e=0;e<t.producerNode.length;e++)of(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function of(t,e){if(ST(t),fl(t),t.liveConsumerNode.length===1)for(let s=0;s<t.producerNode.length;s++)of(t.producerNode[s],t.producerIndexOfThis[s]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let s=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];fl(r),r.producerIndexOfThis[s]=e}}function af(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function fl(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ST(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function DT(){throw new Error}var _T=DT;function lw(t){_T=t}function H(t){return typeof t=="function"}function pl(t){let n=t(s=>{Error.call(s),s.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var gl=pl(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((s,r)=>`${r+1}) ${s.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Tr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let i of n)i.remove(this);else n.remove(this);let{initialTeardown:s}=this;if(H(s))try{s()}catch(i){e=i instanceof gl?i.errors:[i]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let i of r)try{uw(i)}catch(o){e=e??[],o instanceof gl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new gl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)uw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Tr(n,e)}remove(e){let{_finalizers:n}=this;n&&Tr(n,e),e instanceof t&&e._removeParent(this)}};Ye.EMPTY=(()=>{let t=new Ye;return t.closed=!0,t})();var cf=Ye.EMPTY;function ml(t){return t instanceof Ye||t&&"closed"in t&&H(t.remove)&&H(t.add)&&H(t.unsubscribe)}function uw(t){H(t)?t():t.unsubscribe()}var hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fi={setTimeout(t,e,...n){let{delegate:s}=Fi;return s?.setTimeout?s.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function vl(t){Fi.setTimeout(()=>{let{onUnhandledError:e}=hn;if(e)e(t);else throw t})}function Ar(){}var dw=lf("C",void 0,void 0);function hw(t){return lf("E",void 0,t)}function fw(t){return lf("N",t,void 0)}function lf(t,e,n){return{kind:t,value:e,error:n}}var Mr=null;function Li(t){if(hn.useDeprecatedSynchronousErrorHandling){let e=!Mr;if(e&&(Mr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:s}=Mr;if(Mr=null,n)throw s}}else t()}function pw(t){hn.useDeprecatedSynchronousErrorHandling&&Mr&&(Mr.errorThrown=!0,Mr.error=t)}var Nr=class extends Ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ml(e)&&e.add(this)):this.destination=AT}static create(e,n,s){return new Bi(e,n,s)}next(e){this.isStopped?df(fw(e),this):this._next(e)}error(e){this.isStopped?df(hw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?df(dw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},IT=Function.prototype.bind;function uf(t,e){return IT.call(t,e)}var hf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(s){yl(s)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(s){yl(s)}else yl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){yl(n)}}},Bi=class extends Nr{constructor(e,n,s){super();let r;if(H(e)||!e)r={next:e??void 0,error:n??void 0,complete:s??void 0};else{let i;this&&hn.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&uf(e.next,i),error:e.error&&uf(e.error,i),complete:e.complete&&uf(e.complete,i)}):r=e}this.destination=new hf(r)}};function yl(t){hn.useDeprecatedSynchronousErrorHandling?pw(t):vl(t)}function TT(t){throw t}function df(t,e){let{onStoppedNotification:n}=hn;n&&Fi.setTimeout(()=>n(t,e))}var AT={closed:!0,next:Ar,error:TT,complete:Ar};var Vi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $i(t){return t}function gw(t){return t.length===0?$i:t.length===1?t[0]:function(n){return t.reduce((s,r)=>r(s),n)}}var ae=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let s=new t;return s.source=this,s.operator=n,s}subscribe(n,s,r){let i=NT(n)?n:new Bi(n,s,r);return Li(()=>{let{operator:o,source:a}=this;i.add(o?o.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(s){n.error(s)}}forEach(n,s){return s=mw(s),new s((r,i)=>{let o=new Bi({next:a=>{try{n(a)}catch(c){i(c),o.unsubscribe()}},error:i,complete:r});this.subscribe(o)})}_subscribe(n){var s;return(s=this.source)===null||s===void 0?void 0:s.subscribe(n)}[Vi](){return this}pipe(...n){return gw(n)(this)}toPromise(n){return n=mw(n),new n((s,r)=>{let i;this.subscribe(o=>i=o,o=>r(o),()=>s(i))})}}return t.create=e=>new t(e),t})();function mw(t){var e;return(e=t??hn.Promise)!==null&&e!==void 0?e:Promise}function MT(t){return t&&H(t.next)&&H(t.error)&&H(t.complete)}function NT(t){return t&&t instanceof Nr||MT(t)&&ml(t)}function ff(t){return H(t?.lift)}function Pe(t){return e=>{if(ff(e))return e.lift(function(n){try{return t(n,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function Be(t,e,n,s,r){return new pf(t,e,n,s,r)}var pf=class extends Nr{constructor(e,n,s,r,i,o){super(e),this.onFinalize=i,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=r?function(a){try{r(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function vw(){return Pe((t,e)=>{let n=null;t._refCount++;let s=Be(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,i=n;n=null,r&&(!i||r===i)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(s),s.closed||(n=t.connect())})}var wl=class extends ae{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,ff(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ye;let n=this.getSubject();e.add(this.source.subscribe(Be(n,void 0,()=>{this._teardown(),n.complete()},s=>{this._teardown(),n.error(s)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ye.EMPTY)}return e}refCount(){return vw()(this)}};var yw=pl(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var It=(()=>{class t extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let s=new bl(this,this);return s.operator=n,s}_throwIfClosed(){if(this.closed)throw new yw}next(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let s of this.currentObservers)s.next(n)}})}error(n){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:s}=this;for(;s.length;)s.shift().error(n)}})}complete(){Li(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:s,isStopped:r,observers:i}=this;return s||r?cf:(this.currentObservers=null,i.push(n),new Ye(()=>{this.currentObservers=null,Tr(i,n)}))}_checkFinalizedStatuses(n){let{hasError:s,thrownError:r,isStopped:i}=this;s?n.error(r):i&&n.complete()}asObservable(){let n=new ae;return n.source=this,n}}return t.create=(e,n)=>new bl(e,n),t})(),bl=class extends It{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.next)===null||s===void 0||s.call(n,e)}error(e){var n,s;(s=(n=this.destination)===null||n===void 0?void 0:n.error)===null||s===void 0||s.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,s;return(s=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&s!==void 0?s:cf}};var ma=class extends It{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:s}=this;if(e)throw n;return this._throwIfClosed(),s}next(e){super.next(this._value=e)}};var gf={now(){return(gf.delegate||Date).now()},delegate:void 0};var El=class extends Ye{constructor(e,n){super()}schedule(e,n=0){return this}};var va={setInterval(t,e,...n){let{delegate:s}=va;return s?.setInterval?s.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=va;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var xl=class extends El{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var s;if(this.closed)return this;this.state=e;let r=this.id,i=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(i,r,n)),this.pending=!0,this.delay=n,this.id=(s=this.id)!==null&&s!==void 0?s:this.requestAsyncId(i,this.id,n),this}requestAsyncId(e,n,s=0){return va.setInterval(e.flush.bind(e,this),s)}recycleAsyncId(e,n,s=0){if(s!=null&&this.delay===s&&this.pending===!1)return n;n!=null&&va.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let s=this._execute(e,n);if(s)return s;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let s=!1,r;try{this.work(e)}catch(i){s=!0,r=i||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:s}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Tr(s,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ji=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,s){return new this.schedulerActionCtor(this,e).schedule(s,n)}};ji.now=gf.now;var Cl=class extends ji{constructor(e,n=ji.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let s;this._active=!0;do if(s=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,s){for(;e=n.shift();)e.unsubscribe();throw s}}};var mf=new Cl(xl),ww=mf;var Sl=new ae(t=>t.complete());function Dl(t){return t&&H(t.schedule)}function bw(t){return t[t.length-1]}function Hi(t){return Dl(bw(t))?t.pop():void 0}function Ew(t,e){return typeof bw(t)=="number"?t.pop():e}function Cw(t,e,n,s){function r(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(d){o(d)}}function c(u){try{l(s.throw(u))}catch(d){o(d)}}function l(u){u.done?i(u.value):r(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})}function xw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],s=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kr(t){return this instanceof kr?(this.v=t,this):new kr(t)}function Sw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(t,e||[]),r,i=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){s[h]&&(r[h]=function(f){return new Promise(function(g,y){i.push([h,f,g,y])>1||a(h,f)})})}function a(h,f){try{c(s[h](f))}catch(g){d(i[0][3],g)}}function c(h){h.value instanceof kr?Promise.resolve(h.value.v).then(l,u):d(i[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Dw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof xw=="function"?xw(t):t[Symbol.iterator](),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(i){n[i]=t[i]&&function(o){return new Promise(function(a,c){o=t[i](o),r(a,c,o.done,o.value)})}}function r(i,o,a,c){Promise.resolve(c).then(function(l){i({value:l,done:a})},o)}}var Ui=t=>t&&typeof t.length=="number"&&typeof t!="function";function _l(t){return H(t?.then)}function Il(t){return H(t[Vi])}function Tl(t){return Symbol.asyncIterator&&H(t?.[Symbol.asyncIterator])}function Al(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kT(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ml=kT();function Nl(t){return H(t?.[Ml])}function kl(t){return Sw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:s,done:r}=yield kr(n.read());if(r)return yield kr(void 0);yield yield kr(s)}}finally{n.releaseLock()}})}function Pl(t){return H(t?.getReader)}function Ve(t){if(t instanceof ae)return t;if(t!=null){if(Il(t))return PT(t);if(Ui(t))return RT(t);if(_l(t))return OT(t);if(Tl(t))return _w(t);if(Nl(t))return FT(t);if(Pl(t))return LT(t)}throw Al(t)}function PT(t){return new ae(e=>{let n=t[Vi]();if(H(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function RT(t){return new ae(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function OT(t){return new ae(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,vl)})}function FT(t){return new ae(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function _w(t){return new ae(e=>{BT(t,e).catch(n=>e.error(n))})}function LT(t){return _w(kl(t))}function BT(t,e){var n,s,r,i;return Cw(this,void 0,void 0,function*(){try{for(n=Dw(t);s=yield n.next(),!s.done;){let o=s.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{s&&!s.done&&(i=n.return)&&(yield i.call(n))}finally{if(r)throw r.error}}e.complete()})}function Kt(t,e,n,s=0,r=!1){let i=e.schedule(function(){n(),r?t.add(this.schedule(null,s)):this.unsubscribe()},s);if(t.add(i),!r)return i}function Rl(t,e=0){return Pe((n,s)=>{n.subscribe(Be(s,r=>Kt(s,t,()=>s.next(r),e),()=>Kt(s,t,()=>s.complete(),e),r=>Kt(s,t,()=>s.error(r),e)))})}function Ol(t,e=0){return Pe((n,s)=>{s.add(t.schedule(()=>n.subscribe(s),e))})}function Iw(t,e){return Ve(t).pipe(Ol(e),Rl(e))}function Tw(t,e){return Ve(t).pipe(Ol(e),Rl(e))}function Aw(t,e){return new ae(n=>{let s=0;return e.schedule(function(){s===t.length?n.complete():(n.next(t[s++]),n.closed||this.schedule())})})}function Mw(t,e){return new ae(n=>{let s;return Kt(n,e,()=>{s=t[Ml](),Kt(n,e,()=>{let r,i;try{({value:r,done:i}=s.next())}catch(o){n.error(o);return}i?n.complete():n.next(r)},0,!0)}),()=>H(s?.return)&&s.return()})}function Fl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ae(n=>{Kt(n,e,()=>{let s=t[Symbol.asyncIterator]();Kt(n,e,()=>{s.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Nw(t,e){return Fl(kl(t),e)}function kw(t,e){if(t!=null){if(Il(t))return Iw(t,e);if(Ui(t))return Aw(t,e);if(_l(t))return Tw(t,e);if(Tl(t))return Fl(t,e);if(Nl(t))return Mw(t,e);if(Pl(t))return Nw(t,e)}throw Al(t)}function ss(t,e){return e?kw(t,e):Ve(t)}function Fs(...t){let e=Hi(t);return ss(t,e)}function vf(t,e){let n=H(t)?t:()=>t,s=r=>r.error(n());return new ae(e?r=>e.schedule(s,0,r):s)}function Pw(t){return t instanceof Date&&!isNaN(t)}function Ue(t,e){return Pe((n,s)=>{let r=0;n.subscribe(Be(s,i=>{s.next(t.call(e,i,r++))}))})}var{isArray:VT}=Array;function $T(t,e){return VT(e)?t(...e):t(e)}function Rw(t){return Ue(e=>$T(t,e))}function Ow(t,e,n,s,r,i,o,a){let c=[],l=0,u=0,d=!1,h=()=>{d&&!c.length&&!l&&e.complete()},f=y=>l<s?g(y):c.push(y),g=y=>{i&&e.next(y),l++;let v=!1;Ve(n(y,u++)).subscribe(Be(e,b=>{r?.(b),i?f(b):e.next(b)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<s;){let b=c.shift();o?Kt(e,o,()=>g(b)):g(b)}h()}catch(b){e.error(b)}}))};return t.subscribe(Be(e,f,()=>{d=!0,h()})),()=>{a?.()}}function An(t,e,n=1/0){return H(e)?An((s,r)=>Ue((i,o)=>e(s,i,r,o))(Ve(t(s,r))),n):(typeof e=="number"&&(n=e),Pe((s,r)=>Ow(s,r,t,n)))}function Ll(t=1/0){return An($i,t)}function Fw(){return Ll(1)}function ya(...t){return Fw()(ss(t,Hi(t)))}function Bl(t){return new ae(e=>{Ve(t()).subscribe(e)})}var jT=["addListener","removeListener"],HT=["addEventListener","removeEventListener"],UT=["on","off"];function zi(t,e,n,s){if(H(n)&&(s=n,n=void 0),s)return zi(t,e,n).pipe(Rw(s));let[r,i]=qT(t)?HT.map(o=>a=>t[o](e,a,n)):zT(t)?jT.map(Lw(t,e)):WT(t)?UT.map(Lw(t,e)):[];if(!r&&Ui(t))return An(o=>zi(o,e,n))(Ve(t));if(!r)throw new TypeError("Invalid event target");return new ae(o=>{let a=(...c)=>o.next(1<c.length?c:c[0]);return r(a),()=>i(a)})}function Lw(t,e){return n=>s=>t[n](e,s)}function zT(t){return H(t.addListener)&&H(t.removeListener)}function WT(t){return H(t.on)&&H(t.off)}function qT(t){return H(t.addEventListener)&&H(t.removeEventListener)}function Bw(t=0,e,n=ww){let s=-1;return e!=null&&(Dl(e)?n=e:s=e),new ae(r=>{let i=Pw(t)?+t-n.now():t;i<0&&(i=0);let o=0;return n.schedule(function(){r.closed||(r.next(o++),0<=s?this.schedule(void 0,s):r.complete())},i)})}function Vl(...t){let e=Hi(t),n=Ew(t,1/0),s=t;return s.length?s.length===1?Ve(s[0]):Ll(n)(ss(s,e)):Sl}var Pr=new ae(Ar);function rs(t,e){return Pe((n,s)=>{let r=0;n.subscribe(Be(s,i=>t.call(e,i,r++)&&s.next(i)))})}function yf(t,e){return H(e)?An(t,e,1):An(t,1)}function Vw(t){return new ae(e=>t.subscribe(e))}var GT={connector:()=>new It};function $l(t,e=GT){let{connector:n}=e;return Pe((s,r)=>{let i=n();Ve(t(Vw(i))).subscribe(r),r.add(s.subscribe(i))})}function fn(t){return t<=0?()=>Sl:Pe((e,n)=>{let s=0;e.subscribe(Be(n,r=>{++s<=t&&(n.next(r),t<=s&&n.complete())}))})}function $w(){return Pe((t,e)=>{t.subscribe(Be(e,Ar))})}function jw(t){return Ue(()=>t)}function wf(t,e){return e?n=>ya(e.pipe(fn(1),$w()),n.pipe(wf(t))):An((n,s)=>Ve(t(n,s)).pipe(fn(1),jw(n)))}function bf(t,e=mf){let n=Bw(t,e);return wf(()=>n)}function jl(t){return Pe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Hw(t,e){let n=H(t)?t:()=>t;return H(e)?$l(e,{connector:n}):s=>new wl(s,n)}function Ef(t){return t?e=>$l(t)(e):e=>Hw(new It)(e)}function Ls(t,e){return Pe((n,s)=>{let r=null,i=0,o=!1,a=()=>o&&!r&&s.complete();n.subscribe(Be(s,c=>{r?.unsubscribe();let l=0,u=i++;Ve(t(c,u)).subscribe(r=Be(s,d=>s.next(e?e(c,d,u,l++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Hl(t,e,n){let s=H(t)||e||n?{next:t,error:e,complete:n}:t;return s?Pe((r,i)=>{var o;(o=s.subscribe)===null||o===void 0||o.call(s);let a=!0;r.subscribe(Be(i,c=>{var l;(l=s.next)===null||l===void 0||l.call(s,c),i.next(c)},()=>{var c;a=!1,(c=s.complete)===null||c===void 0||c.call(s),i.complete()},c=>{var l;a=!1,(l=s.error)===null||l===void 0||l.call(s,c),i.error(c)},()=>{var c,l;a&&((c=s.unsubscribe)===null||c===void 0||c.call(s)),(l=s.finalize)===null||l===void 0||l.call(s)}))}):$i}var ie=class extends Error{constructor(e,n){super(ru(e,n)),this.code=e}};function ru(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Eb(t){return{toString:t}.toString()}var $t=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("Could not find renamed property on target object.")}function jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(jt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Uw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var YT=De({__forward_ref__:De});function xb(t){return t.__forward_ref__=xb,t.toString=function(){return jt(this())},t}function gn(t){return XT(t)?t():t}function XT(t){return typeof t=="function"&&t.hasOwnProperty(YT)&&t.__forward_ref__===xb}function le(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function vn(t){return{providers:t.providers||[],imports:t.imports||[]}}function dp(t){return zw(t,Cb)||zw(t,Sb)}function zw(t,e){return t.hasOwnProperty(e)?t[e]:null}function QT(t){let e=t&&(t[Cb]||t[Sb]);return e||null}function Ww(t){return t&&(t.hasOwnProperty(qw)||t.hasOwnProperty(ZT))?t[qw]:null}var Cb=De({\u0275prov:De}),qw=De({\u0275inj:De}),Sb=De({ngInjectableDef:De}),ZT=De({ngInjectorDef:De}),K=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=le({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Db(t){return t&&!!t.\u0275providers}var KT=De({\u0275cmp:De}),JT=De({\u0275dir:De}),eA=De({\u0275pipe:De}),tA=De({\u0275mod:De}),Gw=De({\u0275fac:De}),wa=De({__NG_ELEMENT_ID__:De}),Yw=De({__NG_ENV_ID__:De});function _b(t){return typeof t=="string"?t:t==null?"":String(t)}function nA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():_b(t)}function sA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new ie(-200,t)}function hp(t,e){throw new ie(-201,!1)}var ce=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ce||{}),Mf;function Ib(){return Mf}function Jt(t){let e=Mf;return Mf=t,e}function Tb(t,e,n){let s=dp(t);if(s&&s.providedIn=="root")return s.value===void 0?s.value=s.factory():s.value;if(n&ce.Optional)return null;if(e!==void 0)return e;hp(t,"Injector")}var rA={},Ea=rA,iA="__NG_DI_FLAG__",Yl="ngTempTokenPath",oA="ngTokenPath",aA=/\n/gm,cA="\u0275",Xw="__source",Yi;function lA(){return Yi}function Bs(t){let e=Yi;return Yi=t,e}function uA(t,e=ce.Default){if(Yi===void 0)throw new ie(-203,!1);return Yi===null?Tb(t,void 0,e):Yi.get(t,e&ce.Optional?null:void 0,e)}function U(t,e=ce.Default){return(Ib()||uA)(gn(t),e)}function Ie(t,e=ce.Default){return U(t,iu(e))}function iu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Nf(t){let e=[];for(let n=0;n<t.length;n++){let s=gn(t[n]);if(Array.isArray(s)){if(s.length===0)throw new ie(900,!1);let r,i=ce.Default;for(let o=0;o<s.length;o++){let a=s[o],c=dA(a);typeof c=="number"?c===-1?r=a.token:i|=c:r=a}e.push(U(r,i))}else e.push(U(s))}return e}function dA(t){return t[iA]}function hA(t,e,n,s){let r=t[Yl];throw e[Xw]&&r.unshift(e[Xw]),t.message=fA(`
`+t.message,r,n,s),t[oA]=r,t[Yl]=null,t}function fA(t,e,n,s=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==cA?t.slice(2):t;let r=jt(e);if(Array.isArray(e))r=e.map(jt).join(" -> ");else if(typeof e=="object"){let i=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];i.push(o+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}r=`{${i.join(", ")}}`}return`${n}${s?"("+s+")":""}[${r}]: ${t.replace(aA,`
  `)}`}function xa(t,e){let n=t.hasOwnProperty(Gw);return n?t[Gw]:null}function fp(t,e){t.forEach(n=>Array.isArray(n)?fp(n,e):e(n))}function Ab(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}var Ca={},Mn=[],Sa=new K(""),Mb=new K("",-1),Nb=new K(""),Xl=class{get(e,n=Ea){if(n===Ea){let s=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw s.name="NullInjectorError",s}return n}},kb=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(kb||{}),kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(kn||{}),Or=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Or||{});function pA(t,e,n){let s=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let i=e.length;if(r+i===s||t.charCodeAt(r+i)<=32)return r}n=r+1}}function kf(t,e,n){let s=0;for(;s<n.length;){let r=n[s];if(typeof r=="number"){if(r!==0)break;s++;let i=n[s++],o=n[s++],a=n[s++];t.setAttribute(e,o,a,i)}else{let i=r,o=n[++s];mA(i)?t.setProperty(e,i,o):t.setAttribute(e,i,o),s++}}return s}function gA(t){return t===3||t===4||t===6}function mA(t){return t.charCodeAt(0)===64}function pp(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let s=0;s<e.length;s++){let r=e[s];typeof r=="number"?n=r:n===0||(n===-1||n===2?Qw(t,n,r,null,e[++s]):Qw(t,n,r,null,null))}}return t}function Qw(t,e,n,s,r){let i=0,o=t.length;if(e===-1)o=-1;else for(;i<t.length;){let a=t[i++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=i-1;break}}}for(;i<t.length;){let a=t[i];if(typeof a=="number")break;if(a===n){if(s===null){r!==null&&(t[i+1]=r);return}else if(s===t[i+1]){t[i+2]=r;return}}i++,s!==null&&i++,r!==null&&i++}o!==-1&&(t.splice(o,0,e),i=o+1),t.splice(i++,0,n),s!==null&&t.splice(i++,0,s),r!==null&&t.splice(i++,0,r)}var Pb="ng-template";function vA(t,e,n,s){let r=0;if(s){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&pA(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(gp(t))return!1;if(r=e.indexOf(1,r),r>-1){let i;for(;++r<e.length&&typeof(i=e[r])=="string";)if(i.toLowerCase()===n)return!0}return!1}function gp(t){return t.type===4&&t.value!==Pb}function yA(t,e,n){let s=t.type===4&&!n?Pb:t.value;return e===s}function wA(t,e,n){let s=4,r=t.attrs,i=r!==null?xA(r):0,o=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!o&&!pn(s)&&!pn(c))return!1;if(o&&pn(c))continue;o=!1,s=c|s&1;continue}if(!o)if(s&4){if(s=2|s&1,c!==""&&!yA(t,c,n)||c===""&&e.length===1){if(pn(s))return!1;o=!0}}else if(s&8){if(r===null||!vA(t,r,c,n)){if(pn(s))return!1;o=!0}}else{let l=e[++a],u=bA(c,r,gp(t),n);if(u===-1){if(pn(s))return!1;o=!0;continue}if(l!==""){let d;if(u>i?d="":d=r[u+1].toLowerCase(),s&2&&l!==d){if(pn(s))return!1;o=!0}}}}return pn(s)||o}function pn(t){return(t&1)===0}function bA(t,e,n,s){if(e===null)return-1;let r=0;if(s||!n){let i=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)i=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=i?1:2}return-1}else return CA(e,t)}function EA(t,e,n=!1){for(let s=0;s<e.length;s++)if(wA(t,e[s],n))return!0;return!1}function xA(t){for(let e=0;e<t.length;e++){let n=t[e];if(gA(n))return e}return t.length}function CA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let s=t[n];if(typeof s=="number")return-1;if(s===e)return n;n++}return-1}function Zw(t,e){return t?":not("+e.trim()+")":e}function SA(t){let e=t[0],n=1,s=2,r="",i=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(s&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else s&8?r+="."+o:s&4&&(r+=" "+o);else r!==""&&!pn(o)&&(e+=Zw(i,r),r=""),s=o,i=i||!pn(s);n++}return r!==""&&(e+=Zw(i,r)),e}function DA(t){return t.map(SA).join(",")}function _A(t){let e=[],n=[],s=1,r=2;for(;s<t.length;){let i=t[s];if(typeof i=="string")r===2?i!==""&&e.push(i,t[++s]):r===8&&n.push(i);else{if(!pn(r))break;r=i}s++}return{attrs:e,classes:n}}function ou(t){return Eb(()=>{let e=NA(t),n=me(_({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||kn.Emulated,styles:t.styles||Mn,_:null,schemas:t.schemas||null,tView:null,id:""});kA(n);let s=t.dependencies;return n.directiveDefs=Jw(s,!1),n.pipeDefs=Jw(s,!0),n.id=PA(n),n})}function IA(t){return au(t)||Rb(t)}function TA(t){return t!==null}function yn(t){return Eb(()=>({type:t.type,bootstrap:t.bootstrap||Mn,declarations:t.declarations||Mn,imports:t.imports||Mn,exports:t.exports||Mn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Kw(t,e){if(t==null)return Ca;let n={};for(let s in t)if(t.hasOwnProperty(s)){let r=t[s],i,o,a=Or.None;Array.isArray(r)?(a=r[0],i=r[1],o=r[2]??i):(i=r,o=r),e?(n[i]=a!==Or.None?[s,a]:s,e[i]=o):n[i]=s}return n}function au(t){return t[KT]||null}function Rb(t){return t[JT]||null}function Ob(t){return t[eA]||null}function AA(t){let e=au(t)||Rb(t)||Ob(t);return e!==null?e.standalone:!1}function MA(t,e){let n=t[tA]||null;if(!n&&e===!0)throw new Error(`Type ${jt(t)} does not have '\u0275mod' property.`);return n}function NA(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ca,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Mn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Kw(t.inputs,e),outputs:Kw(t.outputs),debugInfo:null}}function kA(t){t.features?.forEach(e=>e(t))}function Jw(t,e){if(!t)return null;let n=e?Ob:IA;return()=>(typeof t=="function"?t():t).map(s=>n(s)).filter(TA)}function PA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ma(t){return{\u0275providers:t}}function RA(...t){return{\u0275providers:OA(!0,t),\u0275fromNgModule:!0}}function OA(t,...e){let n=[],s=new Set,r,i=o=>{n.push(o)};return fp(e,o=>{let a=o;Pf(a,i,[],s)&&(r||=[],r.push(a))}),r!==void 0&&Fb(r,i),n}function Fb(t,e){for(let n=0;n<t.length;n++){let{ngModule:s,providers:r}=t[n];mp(r,i=>{e(i,s)})}}function Pf(t,e,n,s){if(t=gn(t),!t)return!1;let r=null,i=Ww(t),o=!i&&au(t);if(!i&&!o){let c=t.ngModule;if(i=Ww(c),i)r=c;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=s.has(r);if(o){if(a)return!1;if(s.add(r),o.dependencies){let c=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of c)Pf(l,e,n,s)}}else if(i){if(i.imports!=null&&!a){s.add(r);let l;try{fp(i.imports,u=>{Pf(u,e,n,s)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Fb(l,e)}if(!a){let l=xa(r)||(()=>new r);e({provide:r,useFactory:l,deps:Mn},r),e({provide:Nb,useValue:r,multi:!0},r),e({provide:Sa,useValue:()=>U(r),multi:!0},r)}let c=i.providers;if(c!=null&&!a){let l=t;mp(c,u=>{e(u,l)})}}else return!1;return r!==t&&t.providers!==void 0}function mp(t,e){for(let n of t)Db(n)&&(n=n.\u0275providers),Array.isArray(n)?mp(n,e):e(n)}var FA=De({provide:String,useValue:De});function Lb(t){return t!==null&&typeof t=="object"&&FA in t}function LA(t){return!!(t&&t.useExisting)}function BA(t){return!!(t&&t.useFactory)}function Rf(t){return typeof t=="function"}var cu=new K(""),zl={},VA={},xf;function Bb(){return xf===void 0&&(xf=new Xl),xf}var Hs=class{},Ql=class extends Hs{get destroyed(){return this._destroyed}constructor(e,n,s,r){super(),this.parent=n,this.source=s,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ff(e,o=>this.processProvider(o)),this.records.set(Mb,Wi(void 0,this)),r.has("environment")&&this.records.set(Hs,Wi(void 0,this));let i=this.records.get(cu);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Nb,Mn,ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Se(null);try{for(let s of this._ngOnDestroyHooks)s.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let s of n)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Se(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Bs(this),s=Jt(void 0),r;try{return e()}finally{Bs(n),Jt(s)}}get(e,n=Ea,s=ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Yw))return e[Yw](this);s=iu(s);let r,i=Bs(this),o=Jt(void 0);try{if(!(s&ce.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=WA(e)&&dp(e);l&&this.injectableDefInScope(l)?c=Wi(Of(e),zl):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=s&ce.Self?Bb():this.parent;return n=s&ce.Optional&&n===Ea?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Yl]=a[Yl]||[]).unshift(jt(e)),i)throw a;return hA(a,e,"R3InjectorError",this.source)}else throw a}finally{Jt(o),Bs(i)}}resolveInjectorInitializers(){let e=Se(null),n=Bs(this),s=Jt(void 0),r;try{let i=this.get(Sa,Mn,ce.Self);for(let o of i)o()}finally{Bs(n),Jt(s),Se(e)}}toString(){let e=[],n=this.records;for(let s of n.keys())e.push(jt(s));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(e){e=gn(e);let n=Rf(e)?e:gn(e&&e.provide),s=jA(e);if(!Rf(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Wi(void 0,zl,!0),r.factory=()=>Nf(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,s)}hydrate(e,n){let s=Se(null);try{return n.value===zl&&(n.value=VA,n.value=n.factory()),typeof n.value=="object"&&n.value&&zA(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Se(s)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=gn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Of(t){let e=dp(t),n=e!==null?e.factory:xa(t);if(n!==null)return n;if(t instanceof K)throw new ie(204,!1);if(t instanceof Function)return $A(t);throw new ie(204,!1)}function $A(t){if(t.length>0)throw new ie(204,!1);let n=QT(t);return n!==null?()=>n.factory(t):()=>new t}function jA(t){if(Lb(t))return Wi(void 0,t.useValue);{let e=HA(t);return Wi(e,zl)}}function HA(t,e,n){let s;if(Rf(t)){let r=gn(t);return xa(r)||Of(r)}else if(Lb(t))s=()=>gn(t.useValue);else if(BA(t))s=()=>t.useFactory(...Nf(t.deps||[]));else if(LA(t))s=()=>U(gn(t.useExisting));else{let r=gn(t&&(t.useClass||t.provide));if(UA(t))s=()=>new r(...Nf(t.deps));else return xa(r)||Of(r)}return s}function Wi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UA(t){return!!t.deps}function zA(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function WA(t){return typeof t=="function"||typeof t=="object"&&t instanceof K}function Ff(t,e){for(let n of t)Array.isArray(n)?Ff(n,e):n&&Db(n)?Ff(n.\u0275providers,e):e(n)}function Vb(t,e){t instanceof Ql&&t.assertNotDestroyed();let n,s=Bs(t),r=Jt(void 0);try{return e()}finally{Bs(s),Jt(r)}}function qA(){return Ib()!==void 0||lA()!=null}function GA(t){let e=$t.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}var zs=0,ve=1,Z=2,Pn=3,$s=4,Ws=5,Lf=6,eb=7,Us=8,Zi=9,Rn=10,os=11,Da=12,tb=13,Na=14,Ki=15,$b=16,qi=17,vp=18,lu=19,jb=20,js=21,Cf=22,Fr=23,Lr=25,Hb=1;var Bf=7,YA=8,Ub=9,Rr=10,zb=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(zb||{});function Xi(t){return Array.isArray(t)&&typeof t[Hb]=="object"}function to(t){return Array.isArray(t)&&t[Hb]===!0}function Wb(t){return(t.flags&4)!==0}function qb(t){return t.componentOffset>-1}function XA(t){return(t.flags&1)===1}function ka(t){return!!t.template}function QA(t){return(t[Z]&512)!==0}var Vf=class{constructor(e,n,s){this.previousValue=e,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}};function Gb(t,e,n,s){e!==null?e.applyValueToInputSignal(e,s):t[n]=s}function Yb(){return Xb}function Xb(t){return t.type.prototype.ngOnChanges&&(t.setInput=KA),ZA}Yb.ngInherit=!0;function ZA(){let t=Zb(this),e=t?.current;if(e){let n=t.previous;if(n===Ca)t.previous=e;else for(let s in e)n[s]=e[s];t.current=null,this.ngOnChanges(e)}}function KA(t,e,n,s,r){let i=this.declaredInputs[s],o=Zb(t)||JA(t,{previous:Ca,current:null}),a=o.current||(o.current={}),c=o.previous,l=c[i];a[i]=new Vf(l&&l.currentValue,n,c===Ca),Gb(t,e,r,n)}var Qb="__ngSimpleChanges__";function Zb(t){return t[Qb]||null}function JA(t,e){return t[Qb]=e}var nb=null;var Vs=function(t,e,n){nb?.(t,e,n)},eM="svg",tM="math",nM=!1;function sM(){return nM}function no(t){for(;Array.isArray(t);)t=t[zs];return t}function rM(t,e){return no(e[t])}function Vr(t,e){return no(e[t.index])}function iM(t,e){return t.data[e]}function uu(t,e){let n=e[t];return Xi(n)?n:n[zs]}function yp(t){return(t[Z]&128)===128}function sb(t,e){return e==null?null:t[e]}function Kb(t){t[qi]=0}function oM(t){t[Z]&1024||(t[Z]|=1024,yp(t)&&_a(t))}function wp(t){return!!(t[Z]&9216||t[Fr]?.dirty)}function rb(t){t[Rn].changeDetectionScheduler?.notify(1),wp(t)?_a(t):t[Z]&64&&(sM()?(t[Z]|=1024,_a(t)):t[Rn].changeDetectionScheduler?.notify())}function _a(t){t[Rn].changeDetectionScheduler?.notify();let e=Zl(t);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!yp(e)));)e=Zl(e)}function Jb(t,e){if((t[Z]&256)===256)throw new ie(911,!1);t[js]===null&&(t[js]=[]),t[js].push(e)}function aM(t,e){if(t[js]===null)return;let n=t[js].indexOf(e);n!==-1&&t[js].splice(n,1)}function Zl(t){let e=t[Pn];return to(e)?e[Pn]:e}var we={lFrame:oE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function cM(){return we.lFrame.elementDepthCount}function lM(){we.lFrame.elementDepthCount++}function uM(){we.lFrame.elementDepthCount--}function eE(){return we.bindingsEnabled}function dM(){return we.skipHydrationRootTNode!==null}function hM(t){return we.skipHydrationRootTNode===t}function fM(){we.skipHydrationRootTNode=null}function mn(){return we.lFrame.lView}function du(){return we.lFrame.tView}function so(){let t=tE();for(;t!==null&&t.type===64;)t=t.parent;return t}function tE(){return we.lFrame.currentTNode}function pM(){let t=we.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function hu(t,e){let n=we.lFrame;n.currentTNode=t,n.isParent=e}function nE(){return we.lFrame.isParent}function gM(){we.lFrame.isParent=!1}function mM(t){return we.lFrame.bindingIndex=t}function vM(){return we.lFrame.bindingIndex++}function yM(){return we.lFrame.inI18n}function wM(t,e){let n=we.lFrame;n.bindingIndex=n.bindingRootIndex=t,$f(e)}function bM(){return we.lFrame.currentDirectiveIndex}function $f(t){we.lFrame.currentDirectiveIndex=t}function sE(t){we.lFrame.currentQueryIndex=t}function EM(t){let e=t[ve];return e.type===2?e.declTNode:e.type===1?t[Ws]:null}function rE(t,e,n){if(n&ce.SkipSelf){let r=e,i=t;for(;r=r.parent,r===null&&!(n&ce.Host);)if(r=EM(i),r===null||(i=i[Na],r.type&10))break;if(r===null)return!1;e=r,t=i}let s=we.lFrame=iE();return s.currentTNode=e,s.lView=t,!0}function bp(t){let e=iE(),n=t[ve];we.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function iE(){let t=we.lFrame,e=t===null?null:t.child;return e===null?oE(t):e}function oE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function aE(){let t=we.lFrame;return we.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var cE=aE;function Ep(){let t=aE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xp(){return we.lFrame.selectedIndex}function Br(t){we.lFrame.selectedIndex=t}function xM(){return we.lFrame.currentNamespace}var lE=!0;function uE(){return lE}function dE(t){lE=t}function CM(t,e,n){let{ngOnChanges:s,ngOnInit:r,ngDoCheck:i}=e.type.prototype;if(s){let o=Xb(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),i&&((n.preOrderHooks??=[]).push(t,i),(n.preOrderCheckHooks??=[]).push(t,i))}function hE(t,e){for(let n=e.directiveStart,s=e.directiveEnd;n<s;n++){let i=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=i;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Wl(t,e,n){fE(t,e,3,n)}function ql(t,e,n,s){(t[Z]&3)===n&&fE(t,e,n,s)}function Sf(t,e){let n=t[Z];(n&3)===e&&(n&=16383,n+=1,t[Z]=n)}function fE(t,e,n,s){let r=s!==void 0?t[qi]&65535:0,i=s??-1,o=e.length-1,a=0;for(let c=r;c<o;c++)if(typeof e[c+1]=="number"){if(a=e[c],s!=null&&a>=s)break}else e[c]<0&&(t[qi]+=65536),(a<i||i==-1)&&(SM(t,n,e,c),t[qi]=(t[qi]&4294901760)+c+2),c++}function ib(t,e){Vs(4,t,e);let n=Se(null);try{e.call(t)}finally{Se(n),Vs(5,t,e)}}function SM(t,e,n,s){let r=n[s]<0,i=n[s+1],o=r?-n[s]:n[s],a=t[o];r?t[Z]>>14<t[qi]>>16&&(t[Z]&3)===e&&(t[Z]+=16384,ib(a,i)):ib(a,i)}var Qi=-1,Ia=class{constructor(e,n,s){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}};function DM(t){return t instanceof Ia}function _M(t){return(t.flags&8)!==0}function IM(t){return(t.flags&16)!==0}function TM(t){return t!==Qi}function jf(t){return t&32767}function AM(t){return t>>16}function Hf(t,e){let n=AM(t),s=e;for(;n>0;)s=s[Na],n--;return s}var Uf=!0;function ob(t){let e=Uf;return Uf=t,e}var MM=256,pE=MM-1,gE=5,NM=0,Nn={};function kM(t,e,n){let s;typeof n=="string"?s=n.charCodeAt(0)||0:n.hasOwnProperty(wa)&&(s=n[wa]),s==null&&(s=n[wa]=NM++);let r=s&pE,i=1<<r;e.data[t+(r>>gE)]|=i}function mE(t,e){let n=vE(t,e);if(n!==-1)return n;let s=e[ve];s.firstCreatePass&&(t.injectorIndex=e.length,Df(s.data,t),Df(e,null),Df(s.blueprint,null));let r=yE(t,e),i=t.injectorIndex;if(TM(r)){let o=jf(r),a=Hf(r,e),c=a[ve].data;for(let l=0;l<8;l++)e[i+l]=a[o+l]|c[o+l]}return e[i+8]=r,i}function Df(t,e){t.push(0,0,0,0,0,0,0,0,e)}function vE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function yE(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,s=null,r=e;for(;r!==null;){if(s=CE(r),s===null)return Qi;if(n++,r=r[Na],s.injectorIndex!==-1)return s.injectorIndex|n<<16}return Qi}function PM(t,e,n){kM(t,e,n)}function wE(t,e,n){if(n&ce.Optional||t!==void 0)return t;hp(e,"NodeInjector")}function bE(t,e,n,s){if(n&ce.Optional&&s===void 0&&(s=null),!(n&(ce.Self|ce.Host))){let r=t[Zi],i=Jt(void 0);try{return r?r.get(e,s,n&ce.Optional):Tb(e,s,n&ce.Optional)}finally{Jt(i)}}return wE(s,e,n)}function EE(t,e,n,s=ce.Default,r){if(t!==null){if(e[Z]&2048&&!(s&ce.Self)){let o=BM(t,e,n,s,Nn);if(o!==Nn)return o}let i=xE(t,e,n,s,Nn);if(i!==Nn)return i}return bE(e,n,s,r)}function xE(t,e,n,s,r){let i=FM(n);if(typeof i=="function"){if(!rE(e,t,s))return s&ce.Host?wE(r,n,s):bE(e,n,s,r);try{let o;if(o=i(s),o==null&&!(s&ce.Optional))hp(n);else return o}finally{cE()}}else if(typeof i=="number"){let o=null,a=vE(t,e),c=Qi,l=s&ce.Host?e[Ki][Ws]:null;for((a===-1||s&ce.SkipSelf)&&(c=a===-1?yE(t,e):e[a+8],c===Qi||!cb(s,!1)?a=-1:(o=e[ve],a=jf(c),e=Hf(c,e)));a!==-1;){let u=e[ve];if(ab(i,a,u.data)){let d=RM(a,e,n,o,s,l);if(d!==Nn)return d}c=e[a+8],c!==Qi&&cb(s,e[ve].data[a+8]===l)&&ab(i,a,e)?(o=u,a=jf(c),e=Hf(c,e)):a=-1}}return r}function RM(t,e,n,s,r,i){let o=e[ve],a=o.data[t+8],c=s==null?qb(a)&&Uf:s!=o&&(a.type&3)!==0,l=r&ce.Host&&i===a,u=OM(a,o,n,c,l);return u!==null?Ta(e,o,u,a):Nn}function OM(t,e,n,s,r){let i=t.providerIndexes,o=e.data,a=i&1048575,c=t.directiveStart,l=t.directiveEnd,u=i>>20,d=s?a:a+u,h=r?a+u:l;for(let f=d;f<h;f++){let g=o[f];if(f<c&&n===g||f>=c&&g.type===n)return f}if(r){let f=o[c];if(f&&ka(f)&&f.type===n)return c}return null}function Ta(t,e,n,s){let r=t[n],i=e.data;if(DM(r)){let o=r;o.resolving&&sA(nA(i[n]));let a=ob(o.canSeeViewProviders);o.resolving=!0;let c,l=o.injectImpl?Jt(o.injectImpl):null,u=rE(t,s,ce.Default);try{r=t[n]=o.factory(void 0,i,t,s),e.firstCreatePass&&n>=s.directiveStart&&CM(n,i[n],e)}finally{l!==null&&Jt(l),ob(a),o.resolving=!1,cE()}}return r}function FM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(wa)?t[wa]:void 0;return typeof e=="number"?e>=0?e&pE:LM:e}function ab(t,e,n){let s=1<<t;return!!(n[e+(t>>gE)]&s)}function cb(t,e){return!(t&ce.Self)&&!(t&ce.Host&&e)}var Kl=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,s){return EE(this._tNode,this._lView,e,iu(s),n)}};function LM(){return new Kl(so(),mn())}function BM(t,e,n,s,r){let i=t,o=e;for(;i!==null&&o!==null&&o[Z]&2048&&!(o[Z]&512);){let a=xE(i,o,n,s|ce.Self,Nn);if(a!==Nn)return a;let c=i.parent;if(!c){let l=o[jb];if(l){let u=l.get(n,Nn,s);if(u!==Nn)return u}c=CE(o),o=o[Na]}i=c}return r}function CE(t){let e=t[ve],n=e.type;return n===2?e.declTNode:n===1?t[Ws]:null}function lb(t,e=null,n=null,s){let r=SE(t,e,n,s);return r.resolveInjectorInitializers(),r}function SE(t,e=null,n=null,s,r=new Set){let i=[n||Mn,RA(t)];return s=s||(typeof t=="object"?void 0:jt(t)),new Ql(i,e||Bb(),s||null,r)}var $r=(()=>{let e=class e{static create(s,r){if(Array.isArray(s))return lb({name:""},r,s,"");{let i=s.name??"";return lb({name:i},s.parent,s.providers,i)}}};e.THROW_IF_NOT_FOUND=Ea,e.NULL=new Xl,e.\u0275prov=le({token:e,providedIn:"any",factory:()=>U(Mb)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var VM="ngOriginalError";function _f(t){return t[VM]}var as=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&_f(e);for(;n&&_f(n);)n=_f(n);return n||null}},DE=new K("",{providedIn:"root",factory:()=>Ie(as).handleError.bind(void 0)}),_E=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$M,e.__NG_ENV_ID__=s=>s;let t=e;return t})(),zf=class extends _E{constructor(e){super(),this._lView=e}onDestroy(e){return Jb(this._lView,e),()=>aM(this._lView,e)}};function $M(){return new zf(mn())}function jM(){return IE(so(),mn())}function IE(t,e){return new Cp(Vr(t,e))}var Cp=(()=>{let e=class e{constructor(s){this.nativeElement=s}};e.__NG_ELEMENT_ID__=jM;let t=e;return t})();var Wf=class extends It{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,qA()&&(this.destroyRef=Ie(_E,{optional:!0})??void 0)}emit(e){let n=Se(null);try{super.next(e)}finally{Se(n)}}subscribe(e,n,s){let r=e,i=n||(()=>null),o=s;if(e&&typeof e=="object"){let c=e;r=c.next?.bind(c),i=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(i=If(i),r&&(r=If(r)),o&&(o=If(o)));let a=super.subscribe({next:r,error:i,complete:o});return e instanceof Ye&&e.add(a),a}};function If(t){return e=>{setTimeout(t,void 0,e)}}var is=Wf;function HM(t){return(t.flags&128)===128}var TE=new Map,UM=0;function zM(){return UM++}function WM(t){TE.set(t[lu],t)}function qM(t){TE.delete(t[lu])}var ub="__ngContext__";function Ji(t,e){Xi(e)?(t[ub]=e[lu],WM(e)):t[ub]=e}function AE(t){return NE(t[Da])}function ME(t){return NE(t[$s])}function NE(t){for(;t!==null&&!to(t);)t=t[$s];return t}var qf;function kE(t){qf=t}function GM(){if(qf!==void 0)return qf;if(typeof document<"u")return document;throw new ie(210,!1)}var fu=new K("",{providedIn:"root",factory:()=>YM}),YM="ng",Sp=new K(""),wn=new K("",{providedIn:"platform",factory:()=>"unknown"});var Dp=new K("",{providedIn:"root",factory:()=>GM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var XM="h",QM="b";var ZM=()=>null;function _p(t,e,n=!1){return ZM(t,e,n)}var PE=!1,KM=new K("",{providedIn:"root",factory:()=>PE});function JM(t){return t instanceof Function?t():t}var jr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(jr||{}),e1;function RE(t,e){return e1(t,e)}function Gi(t,e,n,s,r){if(s!=null){let i,o=!1;to(s)?i=s:Xi(s)&&(o=!0,s=s[zs]);let a=no(s);t===0&&n!==null?r==null?BE(e,n,a):Gf(e,n,a,r||null,!0):t===1&&n!==null?Gf(e,n,a,r||null,!0):t===2?v1(e,a,o):t===3&&e.destroyNode(a),i!=null&&w1(e,t,i,n,r)}}function t1(t,e){return t.createText(e)}function n1(t,e,n){t.setValue(e,n)}function OE(t,e,n){return t.createElement(e,n)}function s1(t,e){FE(t,e),e[zs]=null,e[Ws]=null}function FE(t,e){e[Rn].changeDetectionScheduler?.notify(1),Tp(t,e,e[os],2,null,null)}function r1(t){let e=t[Da];if(!e)return Tf(t[ve],t);for(;e;){let n=null;if(Xi(e))n=e[Da];else{let s=e[Rr];s&&(n=s)}if(!n){for(;e&&!e[$s]&&e!==t;)Xi(e)&&Tf(e[ve],e),e=e[Pn];e===null&&(e=t),Xi(e)&&Tf(e[ve],e),n=e&&e[$s]}e=n}}function LE(t,e){let n=t[Ub],s=n.indexOf(e);n.splice(s,1)}function i1(t,e){if(t.length<=Rr)return;let n=Rr+e,s=t[n];if(s){let r=s[$b];r!==null&&r!==t&&LE(r,s),e>0&&(t[n-1][$s]=s[$s]);let i=Ab(t,Rr+e);s1(s[ve],s);let o=i[vp];o!==null&&o.detachView(i[ve]),s[Pn]=null,s[$s]=null,s[Z]&=-129}return s}function o1(t,e){if(!(e[Z]&256)){let n=e[os];n.destroyNode&&Tp(t,e,n,3,null,null),r1(e)}}function Tf(t,e){if(e[Z]&256)return;let n=Se(null);try{e[Z]&=-129,e[Z]|=256,e[Fr]&&cw(e[Fr]),c1(t,e),a1(t,e),e[ve].type===1&&e[os].destroy();let s=e[$b];if(s!==null&&to(e[Pn])){s!==e[Pn]&&LE(s,e);let r=e[vp];r!==null&&r.detachView(t)}qM(e)}finally{Se(n)}}function a1(t,e){let n=t.cleanup,s=e[eb];if(n!==null)for(let i=0;i<n.length-1;i+=2)if(typeof n[i]=="string"){let o=n[i+3];o>=0?s[o]():s[-o].unsubscribe(),i+=2}else{let o=s[n[i+1]];n[i].call(o)}s!==null&&(e[eb]=null);let r=e[js];if(r!==null){e[js]=null;for(let i=0;i<r.length;i++){let o=r[i];o()}}}function c1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let s=0;s<n.length;s+=2){let r=e[n[s]];if(!(r instanceof Ia)){let i=n[s+1];if(Array.isArray(i))for(let o=0;o<i.length;o+=2){let a=r[i[o]],c=i[o+1];Vs(4,a,c);try{c.call(a)}finally{Vs(5,a,c)}}else{Vs(4,r,i);try{i.call(r)}finally{Vs(5,r,i)}}}}}function l1(t,e,n){return u1(t,e.parent,n)}function u1(t,e,n){let s=e;for(;s!==null&&s.type&40;)e=s,s=e.parent;if(s===null)return n[zs];{let{componentOffset:r}=s;if(r>-1){let{encapsulation:i}=t.data[s.directiveStart+r];if(i===kn.None||i===kn.Emulated)return null}return Vr(s,n)}}function Gf(t,e,n,s,r){t.insertBefore(e,n,s,r)}function BE(t,e,n){t.appendChild(e,n)}function db(t,e,n,s,r){s!==null?Gf(t,e,n,s,r):BE(t,e,n)}function d1(t,e,n,s){t.removeChild(e,n,s)}function h1(t,e){return t.parentNode(e)}function f1(t,e,n){return g1(t,e,n)}function p1(t,e,n){return t.type&40?Vr(t,n):null}var g1=p1,hb;function VE(t,e,n,s){let r=l1(t,s,e),i=e[os],o=s.parent||e[Ws],a=f1(o,s,e);if(r!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)db(i,r,n[c],a,!1);else db(i,r,n,a,!1);hb!==void 0&&hb(i,s,e,n,r)}function m1(t,e){if(e!==null){let s=t[Ki][Ws],r=e.projection;return s.projection[r]}return null}function v1(t,e,n){let s=h1(t,e);s&&d1(t,s,e,n)}function Ip(t,e,n,s,r,i,o){for(;n!=null;){let a=s[n.index],c=n.type;if(o&&e===0&&(a&&Ji(no(a),s),n.flags|=2),(n.flags&32)!==32)if(c&8)Ip(t,e,n.child,s,r,i,!1),Gi(e,t,r,a,i);else if(c&32){let l=RE(n,s),u;for(;u=l();)Gi(e,t,r,u,i);Gi(e,t,r,a,i)}else c&16?y1(t,e,s,n,r,i):Gi(e,t,r,a,i);n=o?n.projectionNext:n.next}}function Tp(t,e,n,s,r,i){Ip(n,s,t.firstChild,e,r,i,!1)}function y1(t,e,n,s,r,i){let o=n[Ki],c=o[Ws].projection[s.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Gi(e,t,r,u,i)}else{let l=c,u=o[Pn];HM(s)&&(l.flags|=128),Ip(t,e,l,u,r,i,!0)}}function w1(t,e,n,s,r){let i=n[Bf],o=no(n);i!==o&&Gi(e,t,s,i,r);for(let a=Rr;a<n.length;a++){let c=n[a];Tp(c[ve],c,t,e,s,i)}}function b1(t,e,n){t.setAttribute(e,"style",n)}function $E(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function jE(t,e,n){let{mergedAttrs:s,classes:r,styles:i}=n;s!==null&&kf(t,e,s),r!==null&&$E(t,e,r),i!==null&&b1(t,e,i)}var pu={};function HE(t=1){UE(du(),mn(),xp()+t,!1)}function UE(t,e,n,s){if(!s)if((e[Z]&3)===3){let i=t.preOrderCheckHooks;i!==null&&Wl(e,i,n)}else{let i=t.preOrderHooks;i!==null&&ql(e,i,0,n)}Br(n)}function ro(t,e=ce.Default){let n=mn();if(n===null)return U(t,e);let s=so();return EE(s,n,gn(t),e)}function zE(t,e,n,s,r,i){let o=Se(null);try{let a=null;r&Or.SignalBased&&(a=e[s][rw]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),r&Or.HasDecoratorInputTransform&&(i=t.inputTransforms[s].call(e,i)),t.setInput!==null?t.setInput(e,a,i,n,s):Gb(e,a,s,i)}finally{Se(o)}}function E1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let s=0;s<n.length;s++){let r=n[s];if(r<0)Br(~r);else{let i=r,o=n[++s],a=n[++s];wM(o,i);let c=e[i];a(2,c)}}}finally{Br(-1)}}function Ap(t,e,n,s,r,i,o,a,c,l,u){let d=e.blueprint.slice();return d[zs]=r,d[Z]=s|4|128|8|64,(l!==null||t&&t[Z]&2048)&&(d[Z]|=2048),Kb(d),d[Pn]=d[Na]=t,d[Us]=n,d[Rn]=o||t&&t[Rn],d[os]=a||t&&t[os],d[Zi]=c||t&&t[Zi]||null,d[Ws]=i,d[lu]=zM(),d[Lf]=u,d[jb]=l,d[Ki]=e.type==2?t[Ki]:d,d}function Mp(t,e,n,s,r){let i=t.data[e];if(i===null)i=x1(t,e,n,s,r),yM()&&(i.flags|=32);else if(i.type&64){i.type=n,i.value=s,i.attrs=r;let o=pM();i.injectorIndex=o===null?-1:o.injectorIndex}return hu(i,!0),i}function x1(t,e,n,s,r){let i=tE(),o=nE(),a=o?i:i&&i.parent,c=t.data[e]=A1(t,a,n,e,s,r);return t.firstChild===null&&(t.firstChild=c),i!==null&&(o?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function WE(t,e,n,s){if(n===0)return-1;let r=e.length;for(let i=0;i<n;i++)e.push(s),t.blueprint.push(s),t.data.push(null);return r}function qE(t,e,n,s,r){let i=xp(),o=s&2;try{Br(-1),o&&e.length>Lr&&UE(t,e,Lr,!1),Vs(o?2:0,r),n(s,r)}finally{Br(i),Vs(o?3:1,r)}}function GE(t,e,n){if(Wb(e)){let s=Se(null);try{let r=e.directiveStart,i=e.directiveEnd;for(let o=r;o<i;o++){let a=t.data[o];if(a.contentQueries){let c=n[o];a.contentQueries(1,c,o)}}}finally{Se(s)}}}function C1(t,e,n){eE()&&(R1(t,e,n,Vr(n,e)),(n.flags&64)===64&&ZE(t,e,n))}function S1(t,e,n=Vr){let s=e.localNames;if(s!==null){let r=e.index+1;for(let i=0;i<s.length;i+=2){let o=s[i+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function YE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=XE(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function XE(t,e,n,s,r,i,o,a,c,l,u){let d=Lr+s,h=d+r,f=D1(d,h),g=typeof l=="function"?l():l;return f[ve]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:u}}function D1(t,e){let n=[];for(let s=0;s<e;s++)n.push(s<t?null:pu);return n}function _1(t,e,n,s){let i=s.get(KM,PE)||n===kn.ShadowDom,o=t.selectRootElement(e,i);return I1(o),o}function I1(t){T1(t)}var T1=()=>null;function A1(t,e,n,s,r,i){let o=e?e.injectorIndex:-1,a=0;return dM()&&(a|=128),{type:n,index:s,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function fb(t,e,n,s,r){for(let i in e){if(!e.hasOwnProperty(i))continue;let o=e[i];if(o===void 0)continue;s??={};let a,c=Or.None;Array.isArray(o)?(a=o[0],c=o[1]):a=o;let l=i;if(r!==null){if(!r.hasOwnProperty(i))continue;l=r[i]}t===0?pb(s,n,l,a,c):pb(s,n,l,a)}return s}function pb(t,e,n,s,r){let i;t.hasOwnProperty(n)?(i=t[n]).push(e,s):i=t[n]=[e,s],r!==void 0&&i.push(r)}function M1(t,e,n){let s=e.directiveStart,r=e.directiveEnd,i=t.data,o=e.attrs,a=[],c=null,l=null;for(let u=s;u<r;u++){let d=i[u],h=n?n.get(d):null,f=h?h.inputs:null,g=h?h.outputs:null;c=fb(0,d.inputs,u,c,f),l=fb(1,d.outputs,u,l,g);let y=c!==null&&o!==null&&!gp(e)?U1(c,u,o):null;a.push(y)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function N1(t,e,n,s){if(eE()){let r=s===null?null:{"":-1},i=F1(t,n),o,a;i===null?o=a=null:[o,a]=i,o!==null&&QE(t,e,n,o,r,a),r&&L1(n,s,r)}n.mergedAttrs=pp(n.mergedAttrs,n.attrs)}function QE(t,e,n,s,r,i){for(let l=0;l<s.length;l++)PM(mE(n,e),t,s[l].type);V1(n,t.data.length,s.length);for(let l=0;l<s.length;l++){let u=s[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=WE(t,e,s.length,null);for(let l=0;l<s.length;l++){let u=s[l];n.mergedAttrs=pp(n.mergedAttrs,u.hostAttrs),$1(t,n,e,c,u),B1(c,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}M1(t,n,i)}function k1(t,e,n,s,r){let i=r.hostBindings;if(i){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;P1(o)!=a&&o.push(a),o.push(n,s,i)}}function P1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function R1(t,e,n,s){let r=n.directiveStart,i=n.directiveEnd;qb(n)&&j1(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||mE(n,e),Ji(s,e);let o=n.initialInputs;for(let a=r;a<i;a++){let c=t.data[a],l=Ta(e,t,a,n);if(Ji(l,e),o!==null&&H1(e,a-r,l,c,n,o),ka(c)){let u=uu(n.index,e);u[Us]=Ta(e,t,a,n)}}}function ZE(t,e,n){let s=n.directiveStart,r=n.directiveEnd,i=n.index,o=bM();try{Br(i);for(let a=s;a<r;a++){let c=t.data[a],l=e[a];$f(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&O1(c,l)}}finally{Br(-1),$f(o)}}function O1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function F1(t,e){let n=t.directiveRegistry,s=null,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];if(EA(e,o.selectors,!1))if(s||(s=[]),ka(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),s.unshift(...a,o);let c=a.length;Yf(t,e,c)}else s.unshift(o),Yf(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,s,r),s.push(o)}return s===null?null:[s,r]}function Yf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function L1(t,e,n){if(e){let s=t.localNames=[];for(let r=0;r<e.length;r+=2){let i=n[e[r+1]];if(i==null)throw new ie(-301,!1);s.push(e[r],i)}}}function B1(t,e,n){if(n){if(e.exportAs)for(let s=0;s<e.exportAs.length;s++)n[e.exportAs[s]]=t;ka(e)&&(n[""]=t)}}function V1(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function $1(t,e,n,s,r){t.data[s]=r;let i=r.factory||(r.factory=xa(r.type,!0)),o=new Ia(i,ka(r),ro);t.blueprint[s]=o,n[s]=o,k1(t,e,s,WE(t,n,r.hostVars,pu),r)}function j1(t,e,n){let s=Vr(e,t),r=YE(n),i=t[Rn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=JE(t,Ap(t,r,null,o,s,e,null,i.createRenderer(s,n),null,null,null));t[e.index]=a}function H1(t,e,n,s,r,i){let o=i[e];if(o!==null)for(let a=0;a<o.length;){let c=o[a++],l=o[a++],u=o[a++],d=o[a++];zE(s,n,c,l,u,d)}}function U1(t,e,n){let s=null,r=0;for(;r<n.length;){let i=n[r];if(i===0){r+=4;continue}else if(i===5){r+=2;continue}if(typeof i=="number")break;if(t.hasOwnProperty(i)){s===null&&(s=[]);let o=t[i];for(let a=0;a<o.length;a+=3)if(o[a]===e){s.push(i,o[a+1],o[a+2],n[r+1]);break}}r+=2}return s}function KE(t,e){let n=t.contentQueries;if(n!==null){let s=Se(null);try{for(let r=0;r<n.length;r+=2){let i=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];sE(i),a.contentQueries(2,e[o],o)}}}finally{Se(s)}}}function JE(t,e){return t[Da]?t[tb][$s]=e:t[Da]=e,t[tb]=e,e}function Xf(t,e,n){sE(0);let s=Se(null);try{e(t,n)}finally{Se(s)}}function z1(t,e){let n=t[Zi],s=n?n.get(as,null):null;s&&s.handleError(e)}function ex(t,e,n,s,r){for(let i=0;i<n.length;){let o=n[i++],a=n[i++],c=n[i++],l=e[o],u=t.data[o];zE(u,l,s,a,c,r)}}function W1(t,e,n){let s=rM(e,t);n1(t[os],s,n)}function q1(t,e){let n=uu(e,t),s=n[ve];G1(s,n);let r=n[zs];r!==null&&n[Lf]===null&&(n[Lf]=_p(r,n[Zi])),tx(s,n,n[Us])}function G1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function tx(t,e,n){bp(e);try{let s=t.viewQuery;s!==null&&Xf(1,s,n);let r=t.template;r!==null&&qE(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[vp]?.finishViewCreation(t),t.staticContentQueries&&KE(t,e),t.staticViewQueries&&Xf(2,t.viewQuery,n);let i=t.components;i!==null&&Y1(e,i)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),s}finally{e[Z]&=-5,Ep()}}function Y1(t,e){for(let n=0;n<e.length;n++)q1(t,e[n])}function Jl(t,e,n,s,r=!1){for(;n!==null;){let i=e[n.index];i!==null&&s.push(no(i)),to(i)&&X1(i,s);let o=n.type;if(o&8)Jl(t,e,n.child,s);else if(o&32){let a=RE(n,e),c;for(;c=a();)s.push(c)}else if(o&16){let a=m1(e,n);if(Array.isArray(a))s.push(...a);else{let c=Zl(e[Ki]);Jl(c[ve],c,a,s,!0)}}n=r?n.projectionNext:n.next}return s}function X1(t,e){for(let n=Rr;n<t.length;n++){let s=t[n],r=s[ve].firstChild;r!==null&&Jl(s[ve],s,r,e)}t[Bf]!==t[zs]&&e.push(t[Bf])}var nx=[];function Q1(t){return t[Fr]??Z1(t)}function Z1(t){let e=nx.pop()??Object.create(J1);return e.lView=t,e}function K1(t){t.lView[Fr]!==t&&(t.lView=null,nx.push(t))}var J1=me(_({},iw),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{_a(t.lView)},consumerOnSignalRead(){this.lView[Fr]=this}}),sx=100;function rx(t,e=!0,n=0){let s=t[Rn],r=s.rendererFactory,i=!1;i||r.begin?.();try{e2(t,n)}catch(o){throw e&&z1(t,o),o}finally{i||(r.end?.(),s.inlineEffectRunner?.flush())}}function e2(t,e){Qf(t,e);let n=0;for(;wp(t);){if(n===sx)throw new ie(103,!1);n++,Qf(t,1)}}function t2(t,e,n,s){let r=e[Z];if((r&256)===256)return;let i=!1;!i&&e[Rn].inlineEffectRunner?.flush(),bp(e);let o=null,a=null;!i&&n2(t)&&(a=Q1(e),o=ow(a));try{Kb(e),mM(t.bindingStartIndex),n!==null&&qE(t,e,n,2,s);let c=(r&3)===3;if(!i)if(c){let d=t.preOrderCheckHooks;d!==null&&Wl(e,d,null)}else{let d=t.preOrderHooks;d!==null&&ql(e,d,0,null),Sf(e,0)}if(s2(e),ix(e,0),t.contentQueries!==null&&KE(t,e),!i)if(c){let d=t.contentCheckHooks;d!==null&&Wl(e,d)}else{let d=t.contentHooks;d!==null&&ql(e,d,1),Sf(e,1)}E1(t,e);let l=t.components;l!==null&&ax(e,l,0);let u=t.viewQuery;if(u!==null&&Xf(2,u,s),!i)if(c){let d=t.viewCheckHooks;d!==null&&Wl(e,d)}else{let d=t.viewHooks;d!==null&&ql(e,d,2),Sf(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Cf]){for(let d of e[Cf])d();e[Cf]=null}i||(e[Z]&=-73)}catch(c){throw _a(e),c}finally{a!==null&&(aw(a,o),K1(a)),Ep()}}function n2(t){return t.type!==2}function ix(t,e){for(let n=AE(t);n!==null;n=ME(n))for(let s=Rr;s<n.length;s++){let r=n[s];ox(r,e)}}function s2(t){for(let e=AE(t);e!==null;e=ME(e)){if(!(e[Z]&zb.HasTransplantedViews))continue;let n=e[Ub];for(let s=0;s<n.length;s++){let r=n[s],i=r[Pn];oM(r)}}}function r2(t,e,n){let s=uu(e,t);ox(s,n)}function ox(t,e){yp(t)&&Qf(t,e)}function Qf(t,e){let s=t[ve],r=t[Z],i=t[Fr],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(i?.dirty&&rf(i)),i&&(i.dirty=!1),t[Z]&=-9217,o)t2(s,t,s.template,t[Us]);else if(r&8192){ix(t,1);let a=s.components;a!==null&&ax(t,a,1)}}function ax(t,e,n){for(let s=0;s<e.length;s++)r2(t,e[s],n)}function cx(t){for(t[Rn].changeDetectionScheduler?.notify();t;){t[Z]|=64;let e=Zl(t);if(QA(t)&&!e)return t;t=e}return null}var Zf=class{get rootNodes(){let e=this._lView,n=e[ve];return Jl(n,e,n.firstChild,[])}constructor(e,n,s=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Us]}set context(e){this._lView[Us]=e}get destroyed(){return(this._lView[Z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pn];if(to(e)){let n=e[YA],s=n?n.indexOf(this):-1;s>-1&&(i1(e,s),Ab(n,s))}this._attachedToViewContainer=!1}o1(this._lView[ve],this._lView)}onDestroy(e){Jb(this._lView,e)}markForCheck(){cx(this._cdRefInjectingView||this._lView)}detach(){this._lView[Z]&=-129}reattach(){rb(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,rx(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,FE(this._lView[ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=e,rb(this._lView)}};var L9=new RegExp(`^(\\d+)*(${QM}|${XM})*(.*)`);var Kf=class{},Jf=class{},eu=class{};function i2(t){let e=Error(`No component factory found for ${jt(t)}.`);return e[o2]=t,e}var o2="ngComponent";var ep=class{resolveComponentFactory(e){throw i2(e)}},Np=(()=>{let e=class e{};e.NULL=new ep;let t=e;return t})(),Aa=class{};var a2=(()=>{let e=class e{};e.\u0275prov=le({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Af={};function gb(...t){}function c2(){let t=typeof $t.requestAnimationFrame=="function",e=$t[t?"requestAnimationFrame":"setTimeout"],n=$t[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let s=e[Zone.__symbol__("OriginalDelegate")];s&&(e=s);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var $e=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new is(!1),this.onMicrotaskEmpty=new is(!1),this.onStable=new is(!1),this.onError=new is(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!s&&n,r.shouldCoalesceRunChangeDetection=s,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=c2().nativeRequestAnimationFrame,d2(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new ie(909,!1)}run(e,n,s){return this._inner.run(e,n,s)}runTask(e,n,s,r){let i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,l2,gb,gb);try{return i.runTask(o,n,s)}finally{i.cancelTask(o)}}runGuarded(e,n,s){return this._inner.runGuarded(e,n,s)}runOutsideAngular(e){return this._outer.run(e)}},l2={};function kp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function u2(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($t,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,tp(t),t.isCheckStableRunning=!0,kp(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),tp(t))}function d2(t){let e=()=>{u2(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,r,i,o,a)=>{if(h2(a))return n.invokeTask(r,i,o,a);try{return mb(t),n.invokeTask(r,i,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),vb(t)}},onInvoke:(n,s,r,i,o,a,c)=>{try{return mb(t),n.invoke(r,i,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),vb(t)}},onHasTask:(n,s,r,i)=>{n.hasTask(r,i),s===r&&(i.change=="microTask"?(t._hasPendingMicrotasks=i.microTask,tp(t),kp(t)):i.change=="macroTask"&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,s,r,i)=>(n.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}function tp(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function mb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function vb(t){t._nesting--,kp(t)}var np=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new is,this.onMicrotaskEmpty=new is,this.onStable=new is,this.onError=new is}run(e,n,s){return e.apply(n,s)}runGuarded(e,n,s){return e.apply(n,s)}runOutsideAngular(e){return e()}runTask(e,n,s,r){return e.apply(n,s)}};function h2(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function f2(t="zone.js",e){return t==="noop"?new np:t==="zone.js"?new $e(e):t}var lx=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let s=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of s)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=le({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function sp(t,e,n){let s=n?t.styles:null,r=n?t.classes:null,i=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")i=a;else if(i==1)r=Uw(r,a);else if(i==2){let c=a,l=e[++o];s=Uw(s,c+": "+l+";")}}n?t.styles=s:t.stylesWithoutHost=s,n?t.classes=r:t.classesWithoutHost=r}var rp=class extends Np{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=au(e);return new op(n,this.ngModule)}};function yb(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let s=t[n];s!==void 0&&e.push({propName:Array.isArray(s)?s[0]:s,templateName:n})}return e}function p2(t){let e=t.toLowerCase();return e==="svg"?eM:e==="math"?tM:null}var ip=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,s){s=iu(s);let r=this.injector.get(e,Af,s);return r!==Af||n===Af?r:this.parentInjector.get(e,n,s)}},op=class extends eu{get inputs(){let e=this.componentDef,n=e.inputTransforms,s=yb(e.inputs);if(n!==null)for(let r of s)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return s}get outputs(){return yb(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=DA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,s,r){let i=Se(null);try{r=r||this.ngModule;let o=r instanceof Hs?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new ip(e,o):e,c=a.get(Aa,null);if(c===null)throw new ie(407,!1);let l=a.get(a2,null),u=a.get(lx,null),d=a.get(Kf,null),h={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=s?_1(f,s,this.componentDef.encapsulation,a):OE(f,g,p2(g)),v=512;this.componentDef.signals?v|=4096:this.componentDef.onPush||(v|=16);let b=null;y!==null&&(b=_p(y,a,!0));let x=XE(0,null,null,1,0,null,null,null,null,null,null),C=Ap(null,x,null,v,null,null,h,f,a,null,b);bp(C);let D,S;try{let I=this.componentDef,k,M=null;I.findHostDirectiveDefs?(k=[],M=new Map,I.findHostDirectiveDefs(I,k,M),k.push(I)):k=[I];let A=g2(C,y),$=m2(A,y,I,k,C,h,f);S=iM(x,Lr),y&&w2(f,I,y,s),n!==void 0&&b2(S,this.ngContentSelectors,n),D=y2($,I,k,M,C,[E2]),tx(x,C,null)}finally{Ep()}return new ap(this.componentType,D,IE(S,C),C,S)}finally{Se(i)}}},ap=class extends Jf{constructor(e,n,s,r,i){super(),this.location=s,this._rootLView=r,this._tNode=i,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Zf(r,void 0,!1),this.componentType=e}setInput(e,n){let s=this._tNode.inputs,r;if(s!==null&&(r=s[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView;ex(i[ve],i,r,e,n),this.previousInputValues.set(e,n);let o=uu(this._tNode.index,i);cx(o)}}get injector(){return new Kl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function g2(t,e){let n=t[ve],s=Lr;return t[s]=e,Mp(n,s,2,"#host",null)}function m2(t,e,n,s,r,i,o){let a=r[ve];v2(s,t,e,o);let c=null;e!==null&&(c=_p(e,r[Zi]));let l=i.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Ap(r,YE(n),null,u,r[t.index],t,i,l,null,null,c);return a.firstCreatePass&&Yf(a,t,s.length-1),JE(r,d),r[t.index]=d}function v2(t,e,n,s){for(let r of t)e.mergedAttrs=pp(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(sp(e,e.mergedAttrs,!0),n!==null&&jE(s,n,e))}function y2(t,e,n,s,r,i){let o=so(),a=r[ve],c=Vr(o,r);QE(a,r,o,n,null,s);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=Ta(r,a,d,o);Ji(h,r)}ZE(a,r,o),c&&Ji(c,r);let l=Ta(r,a,o.directiveStart+o.componentOffset,o);if(t[Us]=r[Us]=l,i!==null)for(let u of i)u(l,e);return GE(a,o,r),l}function w2(t,e,n,s){if(s)kf(t,n,["ng-version","17.3.2"]);else{let{attrs:r,classes:i}=_A(e.selectors[0]);r&&kf(t,n,r),i&&i.length>0&&$E(t,n,i.join(" "))}}function b2(t,e,n){let s=t.projection=[];for(let r=0;r<e.length;r++){let i=n[r];s.push(i!=null?Array.from(i):null)}}function E2(){let t=so();hE(mn()[ve],t)}function x2(t){let e=[],n=new Map;function s(r){let i=n.get(r);if(!i){let o=t(r);n.set(r,i=o.then(_2))}return i}return tu.forEach((r,i)=>{let o=[];r.templateUrl&&o.push(s(r.templateUrl).then(l=>{r.template=l}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let l=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),o.push(s(d).then(f=>{a[l+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(s(r.styleUrl).then(l=>{a.push(l),r.styleUrl=void 0}));let c=Promise.all(o).then(()=>I2(i));e.push(c)}),S2(),Promise.all(e).then(()=>{})}var tu=new Map,C2=new Set;function S2(){let t=tu;return tu=new Map,t}function D2(){return tu.size===0}function _2(t){return typeof t=="string"?t:t.text()}function I2(t){C2.delete(t)}var eo=class{},cp=class{};var nu=class extends eo{constructor(e,n,s){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rp(this);let r=MA(e);this._bootstrapComponents=JM(r.bootstrap),this._r3Injector=SE(e,n,[{provide:eo,useValue:this},{provide:Np,useValue:this.componentFactoryResolver},...s],jt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},lp=class extends cp{constructor(e){super(),this.moduleType=e}create(e){return new nu(this.moduleType,e,[])}};function T2(t,e,n){return new nu(t,e,n)}var Pa=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ma(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function A2(t,e,n){let s=t[e];return Object.is(s,n)?!1:(t[e]=n,!0)}function M2(t){return(t.flags&32)===32}function N2(t,e,n,s){return A2(t,vM(),n)?e+_b(n)+s:pu}function wb(t,e,n,s,r){let i=e.inputs,o=r?"class":"style";ex(t,n,i[o],o,s)}function k2(t,e,n,s,r,i){let o=e.consts,a=sb(o,r),c=Mp(e,t,2,s,a);return N1(e,n,c,sb(o,i)),c.attrs!==null&&sp(c,c.attrs,!1),c.mergedAttrs!==null&&sp(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function qs(t,e,n,s){let r=mn(),i=du(),o=Lr+t,a=r[os],c=i.firstCreatePass?k2(o,i,r,e,n,s):i.data[o],l=P2(i,r,c,a,e,t);r[o]=l;let u=XA(c);return hu(c,!0),jE(a,l,c),!M2(c)&&uE()&&VE(i,r,l,c),cM()===0&&Ji(l,r),lM(),u&&(C1(i,r,c),GE(i,c,r)),s!==null&&S1(r,c),qs}function Hr(){let t=so();nE()?gM():(t=t.parent,hu(t,!1));let e=t;hM(e)&&fM(),uM();let n=du();return n.firstCreatePass&&(hE(n,t),Wb(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&_M(e)&&wb(n,e,mn(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&IM(e)&&wb(n,e,mn(),e.stylesWithoutHost,!1),Hr}function Ra(t,e,n,s){return qs(t,e,n,s),Hr(),Ra}var P2=(t,e,n,s,r,i)=>(dE(!0),OE(s,r,xM()));var su="en-US";var R2=su;function O2(t){typeof t=="string"&&(R2=t.toLowerCase().replace(/_/g,"-"))}function Pp(t,e=""){let n=mn(),s=du(),r=t+Lr,i=s.firstCreatePass?Mp(s,r,1,e,null):s.data[r],o=F2(s,n,i,e,t);n[r]=o,uE()&&VE(s,n,o,i),hu(i,!1)}var F2=(t,e,n,s,r)=>(dE(!0),t1(e[os],s));function Rp(t,e,n){let s=mn(),r=N2(s,t,e,n);return r!==pu&&W1(s,xp(),r),Rp}var Ul=null;function L2(t){Ul!==null&&(t.defaultEncapsulation!==Ul.defaultEncapsulation||t.preserveWhitespaces!==Ul.preserveWhitespaces)||(Ul=t)}var Op=new K(""),Oa=new K(""),gu=(()=>{let e=class e{constructor(s,r,i){this._ngZone=s,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Fp||(B2(i),i.addToWindow(r)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb()}});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(s)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),s()},r)),this._callbacks.push({doneCb:s,timeoutId:o,updateCb:i})}whenStable(s,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,r,i){return[]}};e.\u0275fac=function(r){return new(r||e)(U($e),U(mu),U(Oa))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),mu=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(s,r){this._applications.set(s,r)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,r=!0){return Fp?.findTestabilityInTree(this,s,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function B2(t){Fp=t}var Fp;function Lp(t){return!!t&&typeof t.then=="function"}function ux(t){return!!t&&typeof t.subscribe=="function"}var Bp=new K(""),dx=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,r)=>{this.resolve=s,this.reject=r}),this.appInits=Ie(Bp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let s=[];for(let i of this.appInits){let o=i();if(Lp(o))s.push(o);else if(ux(o)){let a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});s.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{r()}).catch(i=>{this.reject(i)}),s.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),hx=new K("");function V2(){lw(()=>{throw new ie(600,!1)})}function $2(t){return t.isBoundToModule}function j2(t,e,n){try{let s=n();return Lp(s)?s.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):s}catch(s){throw e.runOutsideAngular(()=>t.handleError(s)),s}}function fx(t,e){return Array.isArray(e)?e.reduce(fx,t):_(_({},t),e)}var Ur=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ie(DE),this.afterRenderEffectManager=Ie(lx),this.externalTestViews=new Set,this.beforeRender=new It,this.afterTick=new It,this.componentTypes=[],this.components=[],this.isStable=Ie(Pa).hasPendingTasks.pipe(Ue(s=>!s)),this._injector=Ie(Hs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,r){let i=s instanceof eu;if(!this._injector.get(dx).done){let f=!i&&AA(s),g=!1;throw new ie(405,g)}let a;i?a=s:a=this._injector.get(Np).resolveComponentFactory(s),this.componentTypes.push(a.componentType);let c=$2(a)?void 0:this._injector.get(eo),l=r||a.selector,u=a.create($r.NULL,[],l,c),d=u.location.nativeElement,h=u.injector.get(Op,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Gl(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(s){if(this._runningTick)throw new ie(101,!1);let r=Se(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(s)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,Se(r)}}detectChangesInAttachedViews(s){let r=0,i=this.afterRenderEffectManager;for(;;){if(r===sx)throw new ie(103,!1);if(s){let o=r===0;this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:c}of this._views)H2(a,o,c)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>up(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>up(o))))break}}attachView(s){let r=s;this._views.push(r),r.attachToAppRef(this)}detachView(s){let r=s;Gl(this._views,r),r.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);let r=this._injector.get(hx,[]);[...this._bootstrapListeners,...r].forEach(i=>i(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Gl(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ie(406,!1);let s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Gl(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function H2(t,e,n){!e&&!up(t)||U2(t,n,e)}function up(t){return wp(t)}function U2(t,e,n){let s;n?(s=0,t[Z]|=1024):t[Z]&64?s=0:s=1,rx(t,e,s)}var z2=new K("");function W2(t,e,n){let s=new lp(n);return Promise.resolve(s)}function bb(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var q2=(()=>{let e=class e{constructor(){this.zone=Ie($e),this.applicationRef=Ie(Ur)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function G2(t){return[{provide:$e,useFactory:t},{provide:Sa,multi:!0,useFactory:()=>{let e=Ie(q2,{optional:!0});return()=>e.initialize()}},{provide:Sa,multi:!0,useFactory:()=>{let e=Ie(Q2);return()=>{e.initialize()}}},{provide:DE,useFactory:Y2}]}function Y2(){let t=Ie($e),e=Ie(as);return n=>t.runOutsideAngular(()=>e.handleError(n))}function X2(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Q2=(()=>{let e=class e{constructor(){this.subscription=new Ye,this.initialized=!1,this.zone=Ie($e),this.pendingTasks=Ie(Pa)}initialize(){if(this.initialized)return;this.initialized=!0;let s=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(s=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$e.assertNotInAngularZone(),queueMicrotask(()=>{s!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(s),s=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$e.assertInAngularZone(),s??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Z2(){return typeof $localize<"u"&&$localize.locale||su}var Vp=new K("",{providedIn:"root",factory:()=>Ie(Vp,ce.Optional|ce.SkipSelf)||Z2()});var px=new K(""),gx=(()=>{let e=class e{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,r){let i=f2(r?.ngZone,X2({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{let o=T2(s.moduleType,this.injector,G2(()=>i)),a=o.injector.get(as,null);return i.runOutsideAngular(()=>{let c=i.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{Gl(this._modules,o),c.unsubscribe()})}),j2(a,i,()=>{let c=o.injector.get(dx);return c.runInitializers(),c.donePromise.then(()=>{let l=o.injector.get(Vp,su);return O2(l||su),this._moduleDoBootstrap(o),o})})})}bootstrapModule(s,r=[]){let i=fx({},r);return W2(this.injector,i,s).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(s){let r=s.injector.get(Ur);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(i=>r.bootstrap(i));else if(s.instance.ngDoBootstrap)s.instance.ngDoBootstrap(r);else throw new ie(-403,!1);this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let s=this._injector.get(px,null);s&&(s.forEach(r=>r()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(U($r))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),ba=null,mx=new K("");function K2(t){if(ba&&!ba.get(mx,!1))throw new ie(400,!1);V2(),ba=t;let e=t.get(gx);return tN(t),e}function $p(t,e,n=[]){let s=`Platform: ${e}`,r=new K(s);return(i=[])=>{let o=vx();if(!o||o.injector.get(mx,!1)){let a=[...n,...i,{provide:r,useValue:!0}];t?t(a):K2(J2(a,s))}return eN(r)}}function J2(t=[],e){return $r.create({name:e,providers:[{provide:cu,useValue:"platform"},{provide:px,useValue:new Set([()=>ba=null])},...t]})}function eN(t){let e=vx();if(!e)throw new ie(401,!1);return e}function vx(){return ba?.get(gx)??null}function tN(t){t.get(Sp,null)?.forEach(n=>n())}function yx(){return!1}var wx=$p(null,"core",[]),bx=(()=>{let e=class e{constructor(s){}};e.\u0275fac=function(r){return new(r||e)(U(Ur))},e.\u0275mod=yn({type:e}),e.\u0275inj=vn({});let t=e;return t})();var Ex=null;function yu(){return Ex}function xx(t){Ex??=t}var vu=class{};var Fn=new K("");function wu(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let s=n.indexOf("="),[r,i]=s==-1?[n,""]:[n.slice(0,s),n.slice(s+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}var bu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=vn({});let t=e;return t})(),jp="browser",aN="server";function Hp(t){return t===jp}function Up(t){return t===aN}var io=class{};var La=class{},xu=class{},zr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let s=n.indexOf(":");if(s>0){let r=n.slice(0,s),i=r.toLowerCase(),o=n.slice(s+1).trim();this.maybeSetNormalizedName(r,i),this.headers.has(i)?this.headers.get(i).push(o):this.headers.set(i,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,s)=>{this.setHeaderEntries(s,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,s])=>{this.setHeaderEntries(n,s)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let s=e.value;if(typeof s=="string"&&(s=[s]),s.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...s),this.headers.set(n,r);break;case"d":let i=e.value;if(!i)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>i.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let s=(Array.isArray(n)?n:[n]).map(i=>i.toString()),r=e.toLowerCase();this.headers.set(r,s),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Wp=class{encodeKey(e){return Cx(e)}encodeValue(e){return Cx(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function dN(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let i=r.indexOf("="),[o,a]=i==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,i)),e.decodeValue(r.slice(i+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}var hN=/%(\d[a-f0-9])/gi,fN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Cx(t){return encodeURIComponent(t).replace(hN,(e,n)=>fN[n]??e)}function Eu(t){return`${t}`}var Gs=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Wp,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=dN(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let s=e.fromObject[n],r=Array.isArray(s)?s.map(Eu):[Eu(s)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(s=>{let r=e[s];Array.isArray(r)?r.forEach(i=>{n.push({param:s,value:i,op:"a"})}):n.push({param:s,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(s=>n+"="+this.encoder.encodeValue(s)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Eu(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let s=this.map.get(e.param)||[],r=s.indexOf(Eu(e.value));r!==-1&&s.splice(r,1),s.length>0?this.map.set(e.param,s):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var qp=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function pN(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Sx(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Dx(t){return typeof Blob<"u"&&t instanceof Blob}function _x(t){return typeof FormData<"u"&&t instanceof FormData}function gN(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Fa=class t{constructor(e,n,s,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let i;if(pN(this.method)||r?(this.body=s!==void 0?s:null,i=r):i=s,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new zr,this.context??=new qp,!this.params)this.params=new Gs,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),c=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Sx(this.body)||Dx(this.body)||_x(this.body)||gN(this.body)?this.body:this.body instanceof Gs?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||_x(this.body)?null:Dx(this.body)?this.body.type||null:Sx(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Gs?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,s=e.url||this.url,r=e.responseType||this.responseType,i=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,l=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),l)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new t(n,s,o,{params:u,headers:l,context:d,reportProgress:c,responseType:r,withCredentials:a,transferCache:i})}},oo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(oo||{}),Ba=class{constructor(e,n=Du.Ok,s="OK"){this.headers=e.headers||new zr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||s,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Gp=class t extends Ba{constructor(e={}){super(e),this.type=oo.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Cu=class t extends Ba{constructor(e={}){super(e),this.type=oo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Su=class extends Ba{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Du=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Du||{});function zp(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Yp=(()=>{let e=class e{constructor(s){this.handler=s}request(s,r,i={}){let o;if(s instanceof Fa)o=s;else{let l;i.headers instanceof zr?l=i.headers:l=new zr(i.headers);let u;i.params&&(i.params instanceof Gs?u=i.params:u=new Gs({fromObject:i.params})),o=new Fa(s,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let a=Fs(o).pipe(yf(l=>this.handler.handle(l)));if(s instanceof Fa||i.observe==="events")return a;let c=a.pipe(rs(l=>l instanceof Cu));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(Ue(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(Ue(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(Ue(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(Ue(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(s,r={}){return this.request("DELETE",s,r)}get(s,r={}){return this.request("GET",s,r)}head(s,r={}){return this.request("HEAD",s,r)}jsonp(s,r){return this.request("JSONP",s,{params:new Gs().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(s,r={}){return this.request("OPTIONS",s,r)}patch(s,r,i={}){return this.request("PATCH",s,zp(i,r))}post(s,r,i={}){return this.request("POST",s,zp(i,r))}put(s,r,i={}){return this.request("PUT",s,zp(i,r))}};e.\u0275fac=function(r){return new(r||e)(U(La))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})();function Mx(t,e){return e(t)}function mN(t,e){return(n,s)=>e.intercept(n,{handle:r=>t(r,s)})}function vN(t,e,n){return(s,r)=>Vb(n,()=>e(s,i=>t(i,r)))}var yN=new K(""),Xp=new K(""),wN=new K(""),bN=new K("");function EN(){let t=null;return(e,n)=>{t===null&&(t=(Ie(yN,{optional:!0})??[]).reduceRight(mN,Mx));let s=Ie(Pa),r=s.add();return t(e,n).pipe(jl(()=>s.remove(r)))}}var Ix=(()=>{let e=class e extends La{constructor(s,r){super(),this.backend=s,this.injector=r,this.chain=null,this.pendingTasks=Ie(Pa);let i=Ie(bN,{optional:!0});this.backend=i??s}handle(s){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(Xp),...this.injector.get(wN,[])]));this.chain=i.reduceRight((o,a)=>vN(o,a,this.injector),Mx)}let r=this.pendingTasks.add();return this.chain(s,i=>this.backend.handle(i)).pipe(jl(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(U(xu),U(Hs))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})();var xN=/^\)\]\}',?\n/;function CN(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var Tx=(()=>{let e=class e{constructor(s){this.xhrFactory=s}handle(s){if(s.method==="JSONP")throw new ie(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ss(r.\u0275loadImpl()):Fs(null)).pipe(Ls(()=>new ae(o=>{let a=r.build();if(a.open(s.method,s.urlWithParams),s.withCredentials&&(a.withCredentials=!0),s.headers.forEach((v,b)=>a.setRequestHeader(v,b.join(","))),s.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!s.headers.has("Content-Type")){let v=s.detectContentTypeHeader();v!==null&&a.setRequestHeader("Content-Type",v)}if(s.responseType){let v=s.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let c=s.serializeBody(),l=null,u=()=>{if(l!==null)return l;let v=a.statusText||"OK",b=new zr(a.getAllResponseHeaders()),x=CN(a)||s.url;return l=new Gp({headers:b,status:a.status,statusText:v,url:x}),l},d=()=>{let{headers:v,status:b,statusText:x,url:C}=u(),D=null;b!==Du.NoContent&&(D=typeof a.response>"u"?a.responseText:a.response),b===0&&(b=D?Du.Ok:0);let S=b>=200&&b<300;if(s.responseType==="json"&&typeof D=="string"){let I=D;D=D.replace(xN,"");try{D=D!==""?JSON.parse(D):null}catch(k){D=I,S&&(S=!1,D={error:k,text:D})}}S?(o.next(new Cu({body:D,headers:v,status:b,statusText:x,url:C||void 0})),o.complete()):o.error(new Su({error:D,headers:v,status:b,statusText:x,url:C||void 0}))},h=v=>{let{url:b}=u(),x=new Su({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:b||void 0});o.error(x)},f=!1,g=v=>{f||(o.next(u()),f=!0);let b={type:oo.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(b.total=v.total),s.responseType==="text"&&a.responseText&&(b.partialText=a.responseText),o.next(b)},y=v=>{let b={type:oo.UploadProgress,loaded:v.loaded};v.lengthComputable&&(b.total=v.total),o.next(b)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),s.reportProgress&&(a.addEventListener("progress",g),c!==null&&a.upload&&a.upload.addEventListener("progress",y)),a.send(c),o.next({type:oo.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),s.reportProgress&&(a.removeEventListener("progress",g),c!==null&&a.upload&&a.upload.removeEventListener("progress",y)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(U(io))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),Nx=new K(""),SN="XSRF-TOKEN",DN=new K("",{providedIn:"root",factory:()=>SN}),_N="X-XSRF-TOKEN",IN=new K("",{providedIn:"root",factory:()=>_N}),_u=class{},TN=(()=>{let e=class e{constructor(s,r,i){this.doc=s,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let s=this.doc.cookie||"";return s!==this.lastCookieString&&(this.parseCount++,this.lastToken=wu(s,this.cookieName),this.lastCookieString=s),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(U(Fn),U(wn),U(DN))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})();function AN(t,e){let n=t.url.toLowerCase();if(!Ie(Nx)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let s=Ie(_u).getToken(),r=Ie(IN);return s!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,s)})),e(t)}var kx=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(kx||{});function MN(t,e){return{\u0275kind:t,\u0275providers:e}}function NN(...t){let e=[Yp,Tx,Ix,{provide:La,useExisting:Ix},{provide:xu,useExisting:Tx},{provide:Xp,useValue:AN,multi:!0},{provide:Nx,useValue:!0},{provide:_u,useClass:TN}];for(let n of t)e.push(...n.\u0275providers);return Ma(e)}var Ax=new K("");function kN(){return MN(kx.LegacyInterceptors,[{provide:Ax,useFactory:EN},{provide:Xp,useExisting:Ax,multi:!0}])}var Px=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=vn({providers:[NN(kN())]});let t=e;return t})();var Kp=class extends vu{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Jp=class t extends Kp{static makeCurrent(){xx(new t)}onAndCancel(e,n,s){return e.addEventListener(n,s),()=>{e.removeEventListener(n,s)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ON();return n==null?null:FN(n)}resetBaseElement(){Va=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wu(document.cookie,e)}},Va=null;function ON(){return Va=Va||document.querySelector("base"),Va?Va.getAttribute("href"):null}function FN(t){return new URL(t,document.baseURI).pathname}var eg=class{addToWindow(e){$t.getAngularTestability=(s,r=!0)=>{let i=e.findTestabilityInTree(s,r);if(i==null)throw new ie(5103,!1);return i},$t.getAllAngularTestabilities=()=>e.getAllTestabilities(),$t.getAllAngularRootElements=()=>e.getAllRootElements();let n=s=>{let r=$t.getAllAngularTestabilities(),i=r.length,o=function(){i--,i==0&&s()};r.forEach(a=>{a.whenStable(o)})};$t.frameworkStabilizers||($t.frameworkStabilizers=[]),$t.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,s){if(n==null)return null;let r=e.getTestability(n);return r??(s?yu().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},LN=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),tg=new K(""),Lx=(()=>{let e=class e{constructor(s,r){this._zone=r,this._eventNameToPlugin=new Map,s.forEach(i=>{i.manager=this}),this._plugins=s.slice().reverse()}addEventListener(s,r,i){return this._findPluginFor(r).addEventListener(s,r,i)}getZone(){return this._zone}_findPluginFor(s){let r=this._eventNameToPlugin.get(s);if(r)return r;if(r=this._plugins.find(o=>o.supports(s)),!r)throw new ie(5101,!1);return this._eventNameToPlugin.set(s,r),r}};e.\u0275fac=function(r){return new(r||e)(U(tg),U($e))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),Iu=class{constructor(e){this._doc=e}},Qp="ng-app-id",Bx=(()=>{let e=class e{constructor(s,r,i,o={}){this.doc=s,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Up(o),this.resetHostNodes()}addStyles(s){for(let r of s)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(s){for(let r of s)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let s=this.styleNodesInDOM;s&&(s.forEach(r=>r.remove()),s.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(s){this.hostNodes.add(s);for(let r of this.getAllStyles())this.addStyleToHost(s,r)}removeHost(s){this.hostNodes.delete(s)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(s){for(let r of this.hostNodes)this.addStyleToHost(r,s)}onStyleRemoved(s){let r=this.styleRef;r.get(s)?.elements?.forEach(i=>i.remove()),r.delete(s)}collectServerRenderedStyles(){let s=this.doc.head?.querySelectorAll(`style[${Qp}="${this.appId}"]`);if(s?.length){let r=new Map;return s.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(s,r){let i=this.styleRef;if(i.has(s)){let o=i.get(s);return o.usage+=r,o.usage}return i.set(s,{usage:r,elements:[]}),r}getStyleElement(s,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===s)return i.delete(r),o.removeAttribute(Qp),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Qp,this.appId),s.appendChild(a),a}}addStyleToHost(s,r){let i=this.getStyleElement(s,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let s=this.hostNodes;s.clear(),s.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(U(Fn),U(fu),U(Dp,8),U(wn))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),Zp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},sg=/%COMP%/g,Vx="%COMP%",BN=`_nghost-${Vx}`,VN=`_ngcontent-${Vx}`,$N=!0,jN=new K("",{providedIn:"root",factory:()=>$N});function HN(t){return VN.replace(sg,t)}function UN(t){return BN.replace(sg,t)}function $x(t,e){return e.map(n=>n.replace(sg,t))}var Rx=(()=>{let e=class e{constructor(s,r,i,o,a,c,l,u=null){this.eventManager=s,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Up(c),this.defaultRenderer=new $a(s,a,l,this.platformIsServer)}createRenderer(s,r){if(!s||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kn.ShadowDom&&(r=me(_({},r),{encapsulation:kn.Emulated}));let i=this.getOrCreateRenderer(s,r);return i instanceof Tu?i.applyToHost(s):i instanceof ja&&i.applyStyles(),i}getOrCreateRenderer(s,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case kn.Emulated:o=new Tu(l,u,r,this.appId,d,a,c,h);break;case kn.ShadowDom:return new ng(l,u,s,r,a,c,this.nonce,h);default:o=new ja(l,u,r,d,a,c,h);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(U(Lx),U(Bx),U(fu),U(jN),U(Fn),U(wn),U($e),U(Dp))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),$a=class{constructor(e,n,s,r){this.eventManager=e,this.doc=n,this.ngZone=s,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Zp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Ox(e)?e.content:e).appendChild(n)}insertBefore(e,n,s){e&&(Ox(e)?e.content:e).insertBefore(n,s)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let s=typeof e=="string"?this.doc.querySelector(e):e;if(!s)throw new ie(-5104,!1);return n||(s.textContent=""),s}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,s,r){if(r){n=r+":"+n;let i=Zp[r];i?e.setAttributeNS(i,n,s):e.setAttribute(n,s)}else e.setAttribute(n,s)}removeAttribute(e,n,s){if(s){let r=Zp[s];r?e.removeAttributeNS(r,n):e.removeAttribute(`${s}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,s,r){r&(jr.DashCase|jr.Important)?e.style.setProperty(n,s,r&jr.Important?"important":""):e.style[n]=s}removeStyle(e,n,s){s&jr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,s){e!=null&&(e[n]=s)}setValue(e,n){e.nodeValue=n}listen(e,n,s){if(typeof e=="string"&&(e=yu().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(s))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Ox(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ng=class extends $a{constructor(e,n,s,r,i,o,a,c){super(e,i,o,c),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=$x(r.id,r.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,s){return super.insertBefore(this.nodeOrShadowRoot(e),n,s)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ja=class extends $a{constructor(e,n,s,r,i,o,a,c){super(e,i,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=c?$x(c,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Tu=class extends ja{constructor(e,n,s,r,i,o,a,c){let l=r+"-"+s.id;super(e,n,s,i,o,a,c,l),this.contentAttr=HN(l),this.hostAttr=UN(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let s=super.createElement(e,n);return super.setAttribute(s,this.contentAttr,""),s}},zN=(()=>{let e=class e extends Iu{constructor(s){super(s)}supports(s){return!0}addEventListener(s,r,i){return s.addEventListener(r,i,!1),()=>this.removeEventListener(s,r,i)}removeEventListener(s,r,i){return s.removeEventListener(r,i)}};e.\u0275fac=function(r){return new(r||e)(U(Fn))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),Fx=["alt","control","meta","shift"],WN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qN={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},GN=(()=>{let e=class e extends Iu{constructor(s){super(s)}supports(s){return e.parseEventName(s)!=null}addEventListener(s,r,i){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yu().onAndCancel(s,o.domEventName,a))}static parseEventName(s){let r=s.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),a="code."),Fx.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=a,l}static matchEventFullKeyCode(s,r){let i=WN[s.key]||s.key,o="";return r.indexOf("code.")>-1&&(i=s.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Fx.forEach(a=>{if(a!==i){let c=qN[a];c(s)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(s,r,i){return o=>{e.matchEventFullKeyCode(o,s)&&i.runGuarded(()=>r(o))}}static _normalizeKey(s){return s==="esc"?"escape":s}};e.\u0275fac=function(r){return new(r||e)(U(Fn))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})();function YN(){Jp.makeCurrent()}function XN(){return new as}function QN(){return kE(document),document}var ZN=[{provide:wn,useValue:jp},{provide:Sp,useValue:YN,multi:!0},{provide:Fn,useFactory:QN,deps:[]}],jx=$p(wx,"browser",ZN),KN=new K(""),JN=[{provide:Oa,useClass:eg,deps:[]},{provide:Op,useClass:gu,deps:[$e,mu,Oa]},{provide:gu,useClass:gu,deps:[$e,mu,Oa]}],ek=[{provide:cu,useValue:"root"},{provide:as,useFactory:XN,deps:[]},{provide:tg,useClass:zN,multi:!0,deps:[Fn,$e,wn]},{provide:tg,useClass:GN,multi:!0,deps:[Fn]},Rx,Bx,Lx,{provide:Aa,useExisting:Rx},{provide:io,useClass:LN,deps:[]},[]],Hx=(()=>{let e=class e{constructor(s){}static withServerTransition(s){return{ngModule:e,providers:[{provide:fu,useValue:s.appId}]}}};e.\u0275fac=function(r){return new(r||e)(U(KN,12))},e.\u0275mod=yn({type:e}),e.\u0275inj=vn({providers:[...ek,...JN],imports:[bu,bx]});let t=e;return t})();var Ux=new RegExp(`(\\:not\\()|(([\\.\\#]?)[-\\w]+)|(?:\\[([-.\\w*\\\\$]+)(?:=(["']?)([^\\]"']*)\\5)?\\])|(\\))|(\\s*,\\s*)`,"g"),To=class t{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(e){let n=[],s=(c,l)=>{l.notSelectors.length>0&&!l.element&&l.classNames.length==0&&l.attrs.length==0&&(l.element="*"),c.push(l)},r=new t,i,o=r,a=!1;for(Ux.lastIndex=0;i=Ux.exec(e);){if(i[1]){if(a)throw new Error("Nesting :not in a selector is not allowed");a=!0,o=new t,r.notSelectors.push(o)}let c=i[2];if(c){let u=i[3];u==="#"?o.addAttribute("id",c.slice(1)):u==="."?o.addClassName(c.slice(1)):o.setElement(c)}let l=i[4];if(l&&o.addAttribute(o.unescapeAttribute(l),i[6]),i[7]&&(a=!1,o=r),i[8]){if(a)throw new Error("Multiple selectors in :not are not supported");s(n,r),r=o=new t}}return s(n,r),n}unescapeAttribute(e){let n="",s=!1;for(let r=0;r<e.length;r++){let i=e.charAt(r);if(i==="\\"){s=!0;continue}if(i==="$"&&!s)throw new Error(`Error in attribute selector "${e}". Unescaped "$" is not supported. Please escape with "\\$".`);s=!1,n+=i}return n}escapeAttribute(e){return e.replace(/\\/g,"\\\\").replace(/\$/g,"\\$")}isElementSelector(){return this.hasElementSelector()&&this.classNames.length==0&&this.attrs.length==0&&this.notSelectors.length===0}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getAttrs(){let e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,n=""){this.attrs.push(e,n&&n.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(n=>e+=`.${n}`),this.attrs)for(let n=0;n<this.attrs.length;n+=2){let s=this.escapeAttribute(this.attrs[n]),r=this.attrs[n+1];e+=`[${s}${r?"="+r:""}]`}return this.notSelectors.forEach(n=>e+=`:not(${n})`),e}},qu=class t{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(e){let n=new t;return n.addSelectables(e,null),n}addSelectables(e,n){let s=null;e.length>1&&(s=new Ig(e),this._listContexts.push(s));for(let r=0;r<e.length;r++)this._addSelectable(e[r],n,s)}_addSelectable(e,n,s){let r=this,i=e.element,o=e.classNames,a=e.attrs,c=new Tg(e,n,s);if(i&&(a.length===0&&o.length===0?this._addTerminal(r._elementMap,i,c):r=this._addPartial(r._elementPartialMap,i)),o)for(let l=0;l<o.length;l++){let u=a.length===0&&l===o.length-1,d=o[l];u?this._addTerminal(r._classMap,d,c):r=this._addPartial(r._classPartialMap,d)}if(a)for(let l=0;l<a.length;l+=2){let u=l===a.length-2,d=a[l],h=a[l+1];if(u){let f=r._attrValueMap,g=f.get(d);g||(g=new Map,f.set(d,g)),this._addTerminal(g,h,c)}else{let f=r._attrValuePartialMap,g=f.get(d);g||(g=new Map,f.set(d,g)),r=this._addPartial(g,h)}}}_addTerminal(e,n,s){let r=e.get(n);r||(r=[],e.set(n,r)),r.push(s)}_addPartial(e,n){let s=e.get(n);return s||(s=new t,e.set(n,s)),s}match(e,n){let s=!1,r=e.element,i=e.classNames,o=e.attrs;for(let a=0;a<this._listContexts.length;a++)this._listContexts[a].alreadyMatched=!1;if(s=this._matchTerminal(this._elementMap,r,e,n)||s,s=this._matchPartial(this._elementPartialMap,r,e,n)||s,i)for(let a=0;a<i.length;a++){let c=i[a];s=this._matchTerminal(this._classMap,c,e,n)||s,s=this._matchPartial(this._classPartialMap,c,e,n)||s}if(o)for(let a=0;a<o.length;a+=2){let c=o[a],l=o[a+1],u=this._attrValueMap.get(c);l&&(s=this._matchTerminal(u,"",e,n)||s),s=this._matchTerminal(u,l,e,n)||s;let d=this._attrValuePartialMap.get(c);l&&(s=this._matchPartial(d,"",e,n)||s),s=this._matchPartial(d,l,e,n)||s}return s}_matchTerminal(e,n,s,r){if(!e||typeof n!="string")return!1;let i=e.get(n)||[],o=e.get("*");if(o&&(i=i.concat(o)),i.length===0)return!1;let a,c=!1;for(let l=0;l<i.length;l++)a=i[l],c=a.finalize(s,r)||c;return c}_matchPartial(e,n,s,r){if(!e||typeof n!="string")return!1;let i=e.get(n);return i?i.match(s,r):!1}},Ig=class{constructor(e){this.selectors=e,this.alreadyMatched=!1}},Tg=class{constructor(e,n,s){this.selector=e,this.cbContext=n,this.listContext=s,this.notSelectors=e.notSelectors}finalize(e,n){let s=!0;return this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)&&(s=!qu.createNotMatcher(this.notSelectors).match(e,null)),s&&n&&(!this.listContext||!this.listContext.alreadyMatched)&&(this.listContext&&(this.listContext.alreadyMatched=!0),n(this.selector,this.cbContext)),s}};var Gr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Gr||{}),mv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(mv||{}),vo=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(vo||{}),zx={name:"custom-elements"},Wx={name:"no-errors-schema"};var ne=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ne||{});function nk(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return[t.element&&t.element!=="*"?t.element:"",...t.attrs,...e]}function sk(t){let e=t.classNames&&t.classNames.length?[8,...t.classNames]:[];return t.element?[5,t.element,...t.attrs,...e]:t.attrs.length?[3,...t.attrs,...e]:t.classNames&&t.classNames.length?[9,...t.classNames]:[]}function rk(t){let e=nk(t),n=t.notSelectors&&t.notSelectors.length?t.notSelectors.map(s=>sk(s)):[];return e.concat(...n)}function Rc(t){return t?To.parse(t).map(rk):[]}var Gu;function ik(t){return lk(ck(t.nodes).join("")+`[${t.meaning}]`)}function ok(t){return t.id||XC(t)}function XC(t){let e=new Ag,n=t.nodes.map(s=>s.visit(e,null));return QC(n.join(""),t.meaning)}var Yu=class{visitText(e,n){return e.value}visitContainer(e,n){return`[${e.children.map(s=>s.visit(this)).join(", ")}]`}visitIcu(e,n){let s=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expression}, ${e.type}, ${s.join(", ")}}`}visitTagPlaceholder(e,n){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(s=>s.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,n){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,n){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}visitBlockPlaceholder(e,n){return`<ph block name="${e.startName}">${e.children.map(s=>s.visit(this)).join(", ")}</ph name="${e.closeName}">`}},ak=new Yu;function ck(t){return t.map(e=>e.visit(ak,null))}var Ag=class extends Yu{visitIcu(e,n){let s=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.type}, ${s.join(", ")}}`}};function lk(t){Gu??=new TextEncoder;let e=[...Gu.encode(t)],n=hk(e,vv.Big),s=e.length*8,r=new Uint32Array(80),i=1732584193,o=4023233417,a=2562383102,c=271733878,l=3285377520;n[s>>5]|=128<<24-s%32,n[(s+64>>9<<4)+15]=s;for(let u=0;u<n.length;u+=16){let d=i,h=o,f=a,g=c,y=l;for(let v=0;v<80;v++){v<16?r[v]=n[u+v]:r[v]=rg(r[v-3]^r[v-8]^r[v-14]^r[v-16],1);let b=uk(v,o,a,c),x=b[0],C=b[1],D=[rg(i,5),x,l,C,r[v]].reduce(ao);l=c,c=a,a=rg(o,30),o=i,i=D}i=ao(i,d),o=ao(o,h),a=ao(a,f),c=ao(c,g),l=ao(l,y)}return Ha(i)+Ha(o)+Ha(a)+Ha(c)+Ha(l)}function Ha(t){return(t>>>0).toString(16).padStart(8,"0")}function uk(t,e,n,s){return t<20?[e&n|~e&s,1518500249]:t<40?[e^n^s,1859775393]:t<60?[e&n|e&s|n&s,2400959708]:[e^n^s,3395469782]}function qx(t){Gu??=new TextEncoder;let e=Gu.encode(t),n=new DataView(e.buffer,e.byteOffset,e.byteLength),s=Gx(n,e.length,0),r=Gx(n,e.length,102072);return s==0&&(r==0||r==1)&&(s=s^319790063,r=r^-1801410264),BigInt.asUintN(32,BigInt(s))<<BigInt(32)|BigInt.asUintN(32,BigInt(r))}function QC(t,e=""){let n=qx(t);return e&&(n=BigInt.asUintN(64,n<<BigInt(1))|n>>BigInt(63)&BigInt(1),n+=qx(e)),BigInt.asUintN(63,n).toString()}function Gx(t,e,n){let s=2654435769,r=2654435769,i=0,o=e-12;for(;i<=o;i+=12){s+=t.getUint32(i,!0),r+=t.getUint32(i+4,!0),n+=t.getUint32(i+8,!0);let c=Yx(s,r,n);s=c[0],r=c[1],n=c[2]}let a=e-i;return n+=e,a>=4?(s+=t.getUint32(i,!0),i+=4,a>=8?(r+=t.getUint32(i,!0),i+=4,a>=9&&(n+=t.getUint8(i++)<<8),a>=10&&(n+=t.getUint8(i++)<<16),a===11&&(n+=t.getUint8(i++)<<24)):(a>=5&&(r+=t.getUint8(i++)),a>=6&&(r+=t.getUint8(i++)<<8),a===7&&(r+=t.getUint8(i++)<<16))):(a>=1&&(s+=t.getUint8(i++)),a>=2&&(s+=t.getUint8(i++)<<8),a===3&&(s+=t.getUint8(i++)<<16)),Yx(s,r,n)[2]}function Yx(t,e,n){return t-=e,t-=n,t^=n>>>13,e-=n,e-=t,e^=t<<8,n-=t,n-=e,n^=e>>>13,t-=e,t-=n,t^=n>>>12,e-=n,e-=t,e^=t<<16,n-=t,n-=e,n^=e>>>5,t-=e,t-=n,t^=n>>>3,e-=n,e-=t,e^=t<<10,n-=t,n-=e,n^=e>>>15,[t,e,n]}var vv=function(t){return t[t.Little=0]="Little",t[t.Big=1]="Big",t}(vv||{});function ao(t,e){return dk(t,e)[1]}function dk(t,e){let n=(t&65535)+(e&65535),s=(t>>>16)+(e>>>16)+(n>>>16);return[s>>>16,s<<16|n&65535]}function rg(t,e){return t<<e|t>>>32-e}function hk(t,e){let n=t.length+3>>>2,s=[];for(let r=0;r<n;r++)s[r]=fk(t,r*4,e);return s}function Xx(t,e){return e>=t.length?0:t[e]}function fk(t,e,n){let s=0;if(n===vv.Big)for(let r=0;r<4;r++)s+=Xx(t,e+r)<<24-8*r;else for(let r=0;r<4;r++)s+=Xx(t,e+r)<<8*r;return s}var ZC=function(t){return t[t.None=0]="None",t[t.Const=1]="Const",t}(ZC||{}),Xu=class{constructor(e=ZC.None){this.modifiers=e}hasModifier(e){return(this.modifiers&e)!==0}},Ds=function(t){return t[t.Dynamic=0]="Dynamic",t[t.Bool=1]="Bool",t[t.String=2]="String",t[t.Int=3]="Int",t[t.Number=4]="Number",t[t.Function=5]="Function",t[t.Inferred=6]="Inferred",t[t.None=7]="None",t}(Ds||{}),zn=class extends Xu{constructor(e,n){super(n),this.name=e}visitType(e,n){return e.visitBuiltinType(this,n)}},on=class extends Xu{constructor(e,n,s=null){super(n),this.value=e,this.typeParams=s}visitType(e,n){return e.visitExpressionType(this,n)}};var _s=new zn(Ds.Dynamic),xt=new zn(Ds.Inferred),pk=new zn(Ds.Bool),Z7=new zn(Ds.Int),Oc=new zn(Ds.Number),yv=new zn(Ds.String),K7=new zn(Ds.Function),Wn=new zn(Ds.None),ri=function(t){return t[t.Minus=0]="Minus",t[t.Plus=1]="Plus",t}(ri||{}),R=function(t){return t[t.Equals=0]="Equals",t[t.NotEquals=1]="NotEquals",t[t.Identical=2]="Identical",t[t.NotIdentical=3]="NotIdentical",t[t.Minus=4]="Minus",t[t.Plus=5]="Plus",t[t.Divide=6]="Divide",t[t.Multiply=7]="Multiply",t[t.Modulo=8]="Modulo",t[t.And=9]="And",t[t.Or=10]="Or",t[t.BitwiseOr=11]="BitwiseOr",t[t.BitwiseAnd=12]="BitwiseAnd",t[t.Lower=13]="Lower",t[t.LowerEquals=14]="LowerEquals",t[t.Bigger=15]="Bigger",t[t.BiggerEquals=16]="BiggerEquals",t[t.NullishCoalesce=17]="NullishCoalesce",t}(R||{});function gk(t,e){return t==null||e==null?t==e:t.isEquivalent(e)}function KC(t,e,n){let s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(!n(t[r],e[r]))return!1;return!0}function qt(t,e){return KC(t,e,(n,s)=>n.isEquivalent(s))}var pe=class{constructor(e,n){this.type=e||null,this.sourceSpan=n||null}prop(e,n){return new Dt(this,e,null,n)}key(e,n,s){return new qn(this,e,n,s)}callFn(e,n,s){return new St(this,e,null,n,s)}instantiate(e,n,s){return new nc(this,e,n,s)}conditional(e,n=null,s){return new Yt(this,e,n,null,s)}equals(e,n){return new ee(R.Equals,this,e,null,n)}notEquals(e,n){return new ee(R.NotEquals,this,e,null,n)}identical(e,n){return new ee(R.Identical,this,e,null,n)}notIdentical(e,n){return new ee(R.NotIdentical,this,e,null,n)}minus(e,n){return new ee(R.Minus,this,e,null,n)}plus(e,n){return new ee(R.Plus,this,e,null,n)}divide(e,n){return new ee(R.Divide,this,e,null,n)}multiply(e,n){return new ee(R.Multiply,this,e,null,n)}modulo(e,n){return new ee(R.Modulo,this,e,null,n)}and(e,n){return new ee(R.And,this,e,null,n)}bitwiseOr(e,n,s=!0){return new ee(R.BitwiseOr,this,e,null,n,s)}bitwiseAnd(e,n,s=!0){return new ee(R.BitwiseAnd,this,e,null,n,s)}or(e,n){return new ee(R.Or,this,e,null,n)}lower(e,n){return new ee(R.Lower,this,e,null,n)}lowerEquals(e,n){return new ee(R.LowerEquals,this,e,null,n)}bigger(e,n){return new ee(R.Bigger,this,e,null,n)}biggerEquals(e,n){return new ee(R.BiggerEquals,this,e,null,n)}isBlank(e){return this.equals(Qs,e)}nullishCoalesce(e,n){return new ee(R.NullishCoalesce,this,e,null,n)}toStmt(){return new nt(this,null)}},Gt=class t extends pe{constructor(e,n,s){super(n,s),this.name=e}isEquivalent(e){return e instanceof t&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadVarExpr(this,n)}clone(){return new t(this.name,this.type,this.sourceSpan)}set(e){return new Qu(this.name,e,null,this.sourceSpan)}},Ao=class t extends pe{constructor(e,n,s){super(n,s),this.expr=e}visitExpression(e,n){return e.visitTypeofExpr(this,n)}isEquivalent(e){return e instanceof t&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr.clone())}},te=class t extends pe{constructor(e,n,s){super(n,s),this.node=e}isEquivalent(e){return e instanceof t&&this.node===e.node}isConstant(){return!1}visitExpression(e,n){return e.visitWrappedNodeExpr(this,n)}clone(){return new t(this.node,this.type,this.sourceSpan)}},Qu=class t extends pe{constructor(e,n,s,r){super(s||n.type,r),this.name=e,this.value=n}isEquivalent(e){return e instanceof t&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,n){return e.visitWriteVarExpr(this,n)}clone(){return new t(this.name,this.value.clone(),this.type,this.sourceSpan)}toDeclStmt(e,n){return new vt(this.name,this.value,e,n,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(xt,it.Final)}},tc=class t extends pe{constructor(e,n,s,r,i){super(r||s.type,i),this.receiver=e,this.index=n,this.value=s}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,n){return e.visitWriteKeyExpr(this,n)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.value.clone(),this.type,this.sourceSpan)}},Mo=class t extends pe{constructor(e,n,s,r,i){super(r||s.type,i),this.receiver=e,this.name=n,this.value=s}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,n){return e.visitWritePropExpr(this,n)}clone(){return new t(this.receiver.clone(),this.name,this.value.clone(),this.type,this.sourceSpan)}},St=class t extends pe{constructor(e,n,s,r,i=!1){super(s,r),this.fn=e,this.args=n,this.pure=i}get receiver(){return this.fn}isEquivalent(e){return e instanceof t&&this.fn.isEquivalent(e.fn)&&qt(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,n){return e.visitInvokeFunctionExpr(this,n)}clone(){return new t(this.fn.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan,this.pure)}},Zu=class t extends pe{constructor(e,n,s,r){super(s,r),this.tag=e,this.template=n}isEquivalent(e){return e instanceof t&&this.tag.isEquivalent(e.tag)&&KC(this.template.elements,e.template.elements,(n,s)=>n.text===s.text)&&qt(this.template.expressions,e.template.expressions)}isConstant(){return!1}visitExpression(e,n){return e.visitTaggedTemplateExpr(this,n)}clone(){return new t(this.tag.clone(),this.template.clone(),this.type,this.sourceSpan)}},nc=class t extends pe{constructor(e,n,s,r){super(s,r),this.classExpr=e,this.args=n}isEquivalent(e){return e instanceof t&&this.classExpr.isEquivalent(e.classExpr)&&qt(this.args,e.args)}isConstant(){return!1}visitExpression(e,n){return e.visitInstantiateExpr(this,n)}clone(){return new t(this.classExpr.clone(),this.args.map(e=>e.clone()),this.type,this.sourceSpan)}},tt=class t extends pe{constructor(e,n,s){super(n,s),this.value=e}isEquivalent(e){return e instanceof t&&this.value===e.value}isConstant(){return!0}visitExpression(e,n){return e.visitLiteralExpr(this,n)}clone(){return new t(this.value,this.type,this.sourceSpan)}},sc=class t{constructor(e,n){this.elements=e,this.expressions=n}clone(){return new t(this.elements.map(e=>e.clone()),this.expressions.map(e=>e.clone()))}},rc=class t{constructor(e,n,s){this.text=e,this.sourceSpan=n,this.rawText=s??n?.toString()??Mg(Hu(e))}clone(){return new t(this.text,this.sourceSpan,this.rawText)}},Jr=class{constructor(e,n){this.text=e,this.sourceSpan=n}},Do=class{constructor(e,n,s){this.text=e,this.sourceSpan=n,this.associatedMessage=s}},mk="|",Qx="@@",vk="\u241F",Ku=class t extends pe{constructor(e,n,s,r,i){super(yv,i),this.metaBlock=e,this.messageParts=n,this.placeHolderNames=s,this.expressions=r}isEquivalent(e){return!1}isConstant(){return!1}visitExpression(e,n){return e.visitLocalizedString(this,n)}clone(){return new t(this.metaBlock,this.messageParts,this.placeHolderNames,this.expressions.map(e=>e.clone()),this.sourceSpan)}serializeI18nHead(){let e=this.metaBlock.description||"";return this.metaBlock.meaning&&(e=`${this.metaBlock.meaning}${mk}${e}`),this.metaBlock.customId&&(e=`${e}${Qx}${this.metaBlock.customId}`),this.metaBlock.legacyIds&&this.metaBlock.legacyIds.forEach(n=>{e=`${e}${vk}${n}`}),Zx(e,this.messageParts[0].text,this.getMessagePartSourceSpan(0))}getMessagePartSourceSpan(e){return this.messageParts[e]?.sourceSpan??this.sourceSpan}getPlaceholderSourceSpan(e){return this.placeHolderNames[e]?.sourceSpan??this.expressions[e]?.sourceSpan??this.sourceSpan}serializeI18nTemplatePart(e){let n=this.placeHolderNames[e-1],s=this.messageParts[e],r=n.text;return n.associatedMessage?.legacyIds.length===0&&(r+=`${Qx}${QC(n.associatedMessage.messageString,n.associatedMessage.meaning)}`),Zx(r,s.text,this.getMessagePartSourceSpan(e))}},Hu=t=>t.replace(/\\/g,"\\\\"),yk=t=>t.replace(/^:/,"\\:"),wk=t=>t.replace(/:/g,"\\:"),Mg=t=>t.replace(/`/g,"\\`").replace(/\${/g,"$\\{");function Zx(t,e,n){return t===""?{cooked:e,raw:Mg(yk(Hu(e))),range:n}:{cooked:`:${t}:${e}`,raw:Mg(`:${wk(Hu(t))}:${Hu(e)}`),range:n}}var gs=class t extends pe{constructor(e,n,s=null,r){super(n,r),this.value=e,this.typeParams=s}isEquivalent(e){return e instanceof t&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(e,n){return e.visitExternalExpr(this,n)}clone(){return new t(this.value,this.type,this.typeParams,this.sourceSpan)}};var Yt=class t extends pe{constructor(e,n,s=null,r,i){super(r||n.type,i),this.condition=e,this.falseCase=s,this.trueCase=n}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&gk(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,n){return e.visitConditionalExpr(this,n)}clone(){return new t(this.condition.clone(),this.trueCase.clone(),this.falseCase?.clone(),this.type,this.sourceSpan)}},ic=class t extends pe{constructor(e,n){super(null,n),this.url=e}isEquivalent(e){return e instanceof t&&this.url===e.url}isConstant(){return!1}visitExpression(e,n){return e.visitDynamicImportExpr(this,n)}clone(){return new t(this.url,this.sourceSpan)}},ms=class t extends pe{constructor(e,n){super(pk,n),this.condition=e}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,n){return e.visitNotExpr(this,n)}clone(){return new t(this.condition.clone(),this.sourceSpan)}},Ee=class t{constructor(e,n=null){this.name=e,this.type=n}isEquivalent(e){return this.name===e.name}clone(){return new t(this.name,this.type)}},ii=class t extends pe{constructor(e,n,s,r,i){super(s,r),this.params=e,this.statements=n,this.name=i}isEquivalent(e){return(e instanceof t||e instanceof oc)&&qt(this.params,e.params)&&qt(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,n){return e.visitFunctionExpr(this,n)}toDeclStmt(e,n){return new oc(e,this.params,this.statements,this.type,n,this.sourceSpan)}clone(){return new t(this.params.map(e=>e.clone()),this.statements,this.type,this.sourceSpan,this.name)}},oi=class t extends pe{constructor(e,n,s,r){super(s,r),this.params=e,this.body=n}isEquivalent(e){return!(e instanceof t)||!qt(this.params,e.params)?!1:this.body instanceof pe&&e.body instanceof pe?this.body.isEquivalent(e.body):Array.isArray(this.body)&&Array.isArray(e.body)?qt(this.body,e.body):!1}isConstant(){return!1}visitExpression(e,n){return e.visitArrowFunctionExpr(this,n)}clone(){return new t(this.params.map(e=>e.clone()),Array.isArray(this.body)?this.body:this.body.clone(),this.type,this.sourceSpan)}toDeclStmt(e,n){return new vt(e,this,xt,n,this.sourceSpan)}},ai=class t extends pe{constructor(e,n,s,r,i=!0){super(s||Oc,r),this.operator=e,this.expr=n,this.parens=i}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}visitExpression(e,n){return e.visitUnaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.expr.clone(),this.type,this.sourceSpan,this.parens)}},ee=class t extends pe{constructor(e,n,s,r,i,o=!0){super(r||n.type,i),this.operator=e,this.rhs=s,this.parens=o,this.lhs=n}isEquivalent(e){return e instanceof t&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,n){return e.visitBinaryOperatorExpr(this,n)}clone(){return new t(this.operator,this.lhs.clone(),this.rhs.clone(),this.type,this.sourceSpan,this.parens)}},Dt=class t extends pe{constructor(e,n,s,r){super(s,r),this.receiver=e,this.name=n}get index(){return this.name}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,n){return e.visitReadPropExpr(this,n)}set(e){return new Mo(this.receiver,this.name,e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.name,this.type,this.sourceSpan)}},qn=class t extends pe{constructor(e,n,s,r){super(s,r),this.receiver=e,this.index=n}isEquivalent(e){return e instanceof t&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,n){return e.visitReadKeyExpr(this,n)}set(e){return new tc(this.receiver,this.index,e,null,this.sourceSpan)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.type,this.sourceSpan)}},an=class t extends pe{constructor(e,n,s){super(n,s),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof t&&qt(this.entries,e.entries)}visitExpression(e,n){return e.visitLiteralArrayExpr(this,n)}clone(){return new t(this.entries.map(e=>e.clone()),this.type,this.sourceSpan)}},No=class t{constructor(e,n,s){this.key=e,this.value=n,this.quoted=s}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}clone(){return new t(this.key,this.value.clone(),this.quoted)}},Cn=class t extends pe{constructor(e,n,s){super(n,s),this.entries=e,this.valueType=null,n&&(this.valueType=n.valueType)}isEquivalent(e){return e instanceof t&&qt(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,n){return e.visitLiteralMapExpr(this,n)}clone(){let e=this.entries.map(n=>n.clone());return new t(e,this.type,this.sourceSpan)}};var ci=new tt(null,null,null),Qs=new tt(null,xt,null),it=function(t){return t[t.None=0]="None",t[t.Final=1]="Final",t[t.Private=2]="Private",t[t.Exported=4]="Exported",t[t.Static=8]="Static",t}(it||{}),Ng=class{constructor(e,n,s){this.text=e,this.multiline=n,this.trailingNewline=s}toString(){return this.multiline?` ${this.text} `:this.text}},Ju=class extends Ng{constructor(e){super("",!0,!0),this.tags=e}toString(){return xk(this.tags)}},li=class{constructor(e=it.None,n=null,s){this.modifiers=e,this.sourceSpan=n,this.leadingComments=s}hasModifier(e){return(this.modifiers&e)!==0}addLeadingComment(e){this.leadingComments=this.leadingComments??[],this.leadingComments.push(e)}},vt=class t extends li{constructor(e,n,s,r,i,o){super(r,i,o),this.name=e,this.value=n,this.type=s||n&&n.type||null}isEquivalent(e){return e instanceof t&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,n){return e.visitDeclareVarStmt(this,n)}},oc=class t extends li{constructor(e,n,s,r,i,o,a){super(i,o,a),this.name=e,this.params=n,this.statements=s,this.type=r||null}isEquivalent(e){return e instanceof t&&qt(this.params,e.params)&&qt(this.statements,e.statements)}visitStatement(e,n){return e.visitDeclareFunctionStmt(this,n)}},nt=class t extends li{constructor(e,n,s){super(it.None,n,s),this.expr=e}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}visitStatement(e,n){return e.visitExpressionStmt(this,n)}},qe=class t extends li{constructor(e,n=null,s){super(it.None,n,s),this.value=e}isEquivalent(e){return e instanceof t&&this.value.isEquivalent(e.value)}visitStatement(e,n){return e.visitReturnStmt(this,n)}},ed=class t extends li{constructor(e,n,s=[],r,i){super(it.None,r,i),this.condition=e,this.trueCase=n,this.falseCase=s}isEquivalent(e){return e instanceof t&&this.condition.isEquivalent(e.condition)&&qt(this.trueCase,e.trueCase)&&qt(this.falseCase,e.falseCase)}visitStatement(e,n){return e.visitIfStmt(this,n)}};function bk(t=[]){return new Ju(t)}function L(t,e,n){return new Gt(t,e,n)}function P(t,e=null,n){return new gs(t,null,e,n)}function ot(t,e,n){return new on(t,e,n)}function Fc(t){return new Ao(t)}function z(t,e,n){return new an(t,e,n)}function st(t,e=null){return new Cn(t.map(n=>new No(n.key,n.value,n.quoted)),e,null)}function JC(t,e){return new ms(t,e)}function Gn(t,e,n,s,r){return new ii(t,e,n,s,r)}function et(t,e,n,s){return new oi(t,e,n,s)}function Lc(t,e,n,s,r){return new ed(t,e,n,s,r)}function kg(t,e,n,s){return new Zu(t,e,n,s)}function w(t,e,n){return new tt(t,e,n)}function Ek(t,e,n,s,r){return new Ku(t,e,n,s,r)}function eS(t){return t instanceof tt&&t.value===null}function Kx(t){let e="";if(t.tagName&&(e+=` @${t.tagName}`),t.text){if(t.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');e+=" "+t.text.replace(/@/g,"\\@")}return e}function xk(t){if(t.length===0)return"";if(t.length===1&&t[0].tagName&&!t[0].text)return`*${Kx(t[0])} `;let e=`*
`;for(let n of t)e+=" *",e+=Kx(n).replace(/\n/g,`
 * `),e+=`
`;return e+=" ",e}var Ck="_c",Jx=L("<unknown>"),Sk={},Dk=50,td=class t extends pe{constructor(e){super(e.type),this.resolved=e,this.shared=!1,this.original=e}visitExpression(e,n){return n===Sk?this.original.visitExpression(e,n):this.resolved.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}clone(){throw new Error("Not supported.")}fixup(e){this.resolved=e,this.shared=!0}},nd=class{constructor(e=!1){this.isClosureCompilerEnabled=e,this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.sharedConstants=new Map,this._claimedNames=new Map,this.nextNameIndex=0}getConstLiteral(e,n){if(e instanceof tt&&!e0(e)||e instanceof td)return e;let s=_o.INSTANCE.keyOf(e),r=this.literals.get(s),i=!1;if(r||(r=new td(e),this.literals.set(s,r),i=!0),!i&&!r.shared||i&&n){let o=this.freshName(),a,c;this.isClosureCompilerEnabled&&e0(e)?(a=L(o).set(new ii([],[new qe(e)])),c=L(o).callFn([])):(a=L(o).set(e),c=L(o)),this.statements.push(a.toDeclStmt(xt,it.Final)),r.fixup(c)}return r}getSharedConstant(e,n){let s=e.keyOf(n);if(!this.sharedConstants.has(s)){let r=this.freshName();this.sharedConstants.set(s,L(r)),this.statements.push(e.toSharedConstantDeclaration(r,n))}return this.sharedConstants.get(s)}getLiteralFactory(e){if(e instanceof an){let n=e.entries.map(r=>r.isConstant()?r:Jx),s=_o.INSTANCE.keyOf(z(n));return this._getLiteralFactory(s,e.entries,r=>z(r))}else{let n=st(e.entries.map(r=>({key:r.key,value:r.value.isConstant()?r.value:Jx,quoted:r.quoted}))),s=_o.INSTANCE.keyOf(n);return this._getLiteralFactory(s,e.entries.map(r=>r.value),r=>st(r.map((i,o)=>({key:e.entries[o].key,value:i,quoted:e.entries[o].quoted}))))}}getSharedFunctionReference(e,n,s=!0){let r=e instanceof oi;for(let o of this.statements)if(r&&o instanceof vt&&o.value?.isEquivalent(e)||!r&&o instanceof oc&&e.isEquivalent(o))return L(o.name);let i=s?this.uniqueName(n):n;return this.statements.push(e.toDeclStmt(i,it.Final)),L(i)}_getLiteralFactory(e,n,s){let r=this.literalFactories.get(e),i=n.filter(o=>!o.isConstant());if(!r){let o=n.map((u,d)=>u.isConstant()?this.getConstLiteral(u,!0):L(`a${d}`)),a=o.filter(_k).map(u=>new Ee(u.name,_s)),c=et(a,s(o),xt),l=this.freshName();this.statements.push(L(l).set(c).toDeclStmt(xt,it.Final)),r=L(l),this.literalFactories.set(e,r)}return{literalFactory:r,literalFactoryArguments:i}}uniqueName(e,n=!0){let s=this._claimedNames.get(e)??0,r=s===0&&!n?`${e}`:`${e}${s}`;return this._claimedNames.set(e,s+1),r}freshName(){return this.uniqueName(Ck)}},th=class th{keyOf(e){if(e instanceof tt&&typeof e.value=="string")return`"${e.value}"`;if(e instanceof tt)return String(e.value);if(e instanceof an){let n=[];for(let s of e.entries)n.push(this.keyOf(s));return`[${n.join(",")}]`}else if(e instanceof Cn){let n=[];for(let s of e.entries){let r=s.key;s.quoted&&(r=`"${r}"`),n.push(r+":"+this.keyOf(s.value))}return`{${n.join(",")}}`}else{if(e instanceof gs)return`import("${e.value.moduleName}", ${e.value.name})`;if(e instanceof Gt)return`read(${e.name})`;if(e instanceof Ao)return`typeof(${this.keyOf(e.expr)})`;throw new Error(`${this.constructor.name} does not handle expressions of type ${e.constructor.name}`)}}};th.INSTANCE=new th;var _o=th;function _k(t){return t instanceof Gt}function e0(t){return t instanceof tt&&typeof t.value=="string"&&t.value.length>=Dk}var E="@angular/core",p=(()=>{let e=class e{};e.NEW_METHOD="factory",e.TRANSFORM_METHOD="transform",e.PATCH_DEPS="patchedDeps",e.core={name:null,moduleName:E},e.namespaceHTML={name:"\u0275\u0275namespaceHTML",moduleName:E},e.namespaceMathML={name:"\u0275\u0275namespaceMathML",moduleName:E},e.namespaceSVG={name:"\u0275\u0275namespaceSVG",moduleName:E},e.element={name:"\u0275\u0275element",moduleName:E},e.elementStart={name:"\u0275\u0275elementStart",moduleName:E},e.elementEnd={name:"\u0275\u0275elementEnd",moduleName:E},e.advance={name:"\u0275\u0275advance",moduleName:E},e.syntheticHostProperty={name:"\u0275\u0275syntheticHostProperty",moduleName:E},e.syntheticHostListener={name:"\u0275\u0275syntheticHostListener",moduleName:E},e.attribute={name:"\u0275\u0275attribute",moduleName:E},e.attributeInterpolate1={name:"\u0275\u0275attributeInterpolate1",moduleName:E},e.attributeInterpolate2={name:"\u0275\u0275attributeInterpolate2",moduleName:E},e.attributeInterpolate3={name:"\u0275\u0275attributeInterpolate3",moduleName:E},e.attributeInterpolate4={name:"\u0275\u0275attributeInterpolate4",moduleName:E},e.attributeInterpolate5={name:"\u0275\u0275attributeInterpolate5",moduleName:E},e.attributeInterpolate6={name:"\u0275\u0275attributeInterpolate6",moduleName:E},e.attributeInterpolate7={name:"\u0275\u0275attributeInterpolate7",moduleName:E},e.attributeInterpolate8={name:"\u0275\u0275attributeInterpolate8",moduleName:E},e.attributeInterpolateV={name:"\u0275\u0275attributeInterpolateV",moduleName:E},e.classProp={name:"\u0275\u0275classProp",moduleName:E},e.elementContainerStart={name:"\u0275\u0275elementContainerStart",moduleName:E},e.elementContainerEnd={name:"\u0275\u0275elementContainerEnd",moduleName:E},e.elementContainer={name:"\u0275\u0275elementContainer",moduleName:E},e.styleMap={name:"\u0275\u0275styleMap",moduleName:E},e.styleMapInterpolate1={name:"\u0275\u0275styleMapInterpolate1",moduleName:E},e.styleMapInterpolate2={name:"\u0275\u0275styleMapInterpolate2",moduleName:E},e.styleMapInterpolate3={name:"\u0275\u0275styleMapInterpolate3",moduleName:E},e.styleMapInterpolate4={name:"\u0275\u0275styleMapInterpolate4",moduleName:E},e.styleMapInterpolate5={name:"\u0275\u0275styleMapInterpolate5",moduleName:E},e.styleMapInterpolate6={name:"\u0275\u0275styleMapInterpolate6",moduleName:E},e.styleMapInterpolate7={name:"\u0275\u0275styleMapInterpolate7",moduleName:E},e.styleMapInterpolate8={name:"\u0275\u0275styleMapInterpolate8",moduleName:E},e.styleMapInterpolateV={name:"\u0275\u0275styleMapInterpolateV",moduleName:E},e.classMap={name:"\u0275\u0275classMap",moduleName:E},e.classMapInterpolate1={name:"\u0275\u0275classMapInterpolate1",moduleName:E},e.classMapInterpolate2={name:"\u0275\u0275classMapInterpolate2",moduleName:E},e.classMapInterpolate3={name:"\u0275\u0275classMapInterpolate3",moduleName:E},e.classMapInterpolate4={name:"\u0275\u0275classMapInterpolate4",moduleName:E},e.classMapInterpolate5={name:"\u0275\u0275classMapInterpolate5",moduleName:E},e.classMapInterpolate6={name:"\u0275\u0275classMapInterpolate6",moduleName:E},e.classMapInterpolate7={name:"\u0275\u0275classMapInterpolate7",moduleName:E},e.classMapInterpolate8={name:"\u0275\u0275classMapInterpolate8",moduleName:E},e.classMapInterpolateV={name:"\u0275\u0275classMapInterpolateV",moduleName:E},e.styleProp={name:"\u0275\u0275styleProp",moduleName:E},e.stylePropInterpolate1={name:"\u0275\u0275stylePropInterpolate1",moduleName:E},e.stylePropInterpolate2={name:"\u0275\u0275stylePropInterpolate2",moduleName:E},e.stylePropInterpolate3={name:"\u0275\u0275stylePropInterpolate3",moduleName:E},e.stylePropInterpolate4={name:"\u0275\u0275stylePropInterpolate4",moduleName:E},e.stylePropInterpolate5={name:"\u0275\u0275stylePropInterpolate5",moduleName:E},e.stylePropInterpolate6={name:"\u0275\u0275stylePropInterpolate6",moduleName:E},e.stylePropInterpolate7={name:"\u0275\u0275stylePropInterpolate7",moduleName:E},e.stylePropInterpolate8={name:"\u0275\u0275stylePropInterpolate8",moduleName:E},e.stylePropInterpolateV={name:"\u0275\u0275stylePropInterpolateV",moduleName:E},e.nextContext={name:"\u0275\u0275nextContext",moduleName:E},e.resetView={name:"\u0275\u0275resetView",moduleName:E},e.templateCreate={name:"\u0275\u0275template",moduleName:E},e.defer={name:"\u0275\u0275defer",moduleName:E},e.deferWhen={name:"\u0275\u0275deferWhen",moduleName:E},e.deferOnIdle={name:"\u0275\u0275deferOnIdle",moduleName:E},e.deferOnImmediate={name:"\u0275\u0275deferOnImmediate",moduleName:E},e.deferOnTimer={name:"\u0275\u0275deferOnTimer",moduleName:E},e.deferOnHover={name:"\u0275\u0275deferOnHover",moduleName:E},e.deferOnInteraction={name:"\u0275\u0275deferOnInteraction",moduleName:E},e.deferOnViewport={name:"\u0275\u0275deferOnViewport",moduleName:E},e.deferPrefetchWhen={name:"\u0275\u0275deferPrefetchWhen",moduleName:E},e.deferPrefetchOnIdle={name:"\u0275\u0275deferPrefetchOnIdle",moduleName:E},e.deferPrefetchOnImmediate={name:"\u0275\u0275deferPrefetchOnImmediate",moduleName:E},e.deferPrefetchOnTimer={name:"\u0275\u0275deferPrefetchOnTimer",moduleName:E},e.deferPrefetchOnHover={name:"\u0275\u0275deferPrefetchOnHover",moduleName:E},e.deferPrefetchOnInteraction={name:"\u0275\u0275deferPrefetchOnInteraction",moduleName:E},e.deferPrefetchOnViewport={name:"\u0275\u0275deferPrefetchOnViewport",moduleName:E},e.deferEnableTimerScheduling={name:"\u0275\u0275deferEnableTimerScheduling",moduleName:E},e.conditional={name:"\u0275\u0275conditional",moduleName:E},e.repeater={name:"\u0275\u0275repeater",moduleName:E},e.repeaterCreate={name:"\u0275\u0275repeaterCreate",moduleName:E},e.repeaterTrackByIndex={name:"\u0275\u0275repeaterTrackByIndex",moduleName:E},e.repeaterTrackByIdentity={name:"\u0275\u0275repeaterTrackByIdentity",moduleName:E},e.componentInstance={name:"\u0275\u0275componentInstance",moduleName:E},e.text={name:"\u0275\u0275text",moduleName:E},e.enableBindings={name:"\u0275\u0275enableBindings",moduleName:E},e.disableBindings={name:"\u0275\u0275disableBindings",moduleName:E},e.getCurrentView={name:"\u0275\u0275getCurrentView",moduleName:E},e.textInterpolate={name:"\u0275\u0275textInterpolate",moduleName:E},e.textInterpolate1={name:"\u0275\u0275textInterpolate1",moduleName:E},e.textInterpolate2={name:"\u0275\u0275textInterpolate2",moduleName:E},e.textInterpolate3={name:"\u0275\u0275textInterpolate3",moduleName:E},e.textInterpolate4={name:"\u0275\u0275textInterpolate4",moduleName:E},e.textInterpolate5={name:"\u0275\u0275textInterpolate5",moduleName:E},e.textInterpolate6={name:"\u0275\u0275textInterpolate6",moduleName:E},e.textInterpolate7={name:"\u0275\u0275textInterpolate7",moduleName:E},e.textInterpolate8={name:"\u0275\u0275textInterpolate8",moduleName:E},e.textInterpolateV={name:"\u0275\u0275textInterpolateV",moduleName:E},e.restoreView={name:"\u0275\u0275restoreView",moduleName:E},e.pureFunction0={name:"\u0275\u0275pureFunction0",moduleName:E},e.pureFunction1={name:"\u0275\u0275pureFunction1",moduleName:E},e.pureFunction2={name:"\u0275\u0275pureFunction2",moduleName:E},e.pureFunction3={name:"\u0275\u0275pureFunction3",moduleName:E},e.pureFunction4={name:"\u0275\u0275pureFunction4",moduleName:E},e.pureFunction5={name:"\u0275\u0275pureFunction5",moduleName:E},e.pureFunction6={name:"\u0275\u0275pureFunction6",moduleName:E},e.pureFunction7={name:"\u0275\u0275pureFunction7",moduleName:E},e.pureFunction8={name:"\u0275\u0275pureFunction8",moduleName:E},e.pureFunctionV={name:"\u0275\u0275pureFunctionV",moduleName:E},e.pipeBind1={name:"\u0275\u0275pipeBind1",moduleName:E},e.pipeBind2={name:"\u0275\u0275pipeBind2",moduleName:E},e.pipeBind3={name:"\u0275\u0275pipeBind3",moduleName:E},e.pipeBind4={name:"\u0275\u0275pipeBind4",moduleName:E},e.pipeBindV={name:"\u0275\u0275pipeBindV",moduleName:E},e.hostProperty={name:"\u0275\u0275hostProperty",moduleName:E},e.property={name:"\u0275\u0275property",moduleName:E},e.propertyInterpolate={name:"\u0275\u0275propertyInterpolate",moduleName:E},e.propertyInterpolate1={name:"\u0275\u0275propertyInterpolate1",moduleName:E},e.propertyInterpolate2={name:"\u0275\u0275propertyInterpolate2",moduleName:E},e.propertyInterpolate3={name:"\u0275\u0275propertyInterpolate3",moduleName:E},e.propertyInterpolate4={name:"\u0275\u0275propertyInterpolate4",moduleName:E},e.propertyInterpolate5={name:"\u0275\u0275propertyInterpolate5",moduleName:E},e.propertyInterpolate6={name:"\u0275\u0275propertyInterpolate6",moduleName:E},e.propertyInterpolate7={name:"\u0275\u0275propertyInterpolate7",moduleName:E},e.propertyInterpolate8={name:"\u0275\u0275propertyInterpolate8",moduleName:E},e.propertyInterpolateV={name:"\u0275\u0275propertyInterpolateV",moduleName:E},e.i18n={name:"\u0275\u0275i18n",moduleName:E},e.i18nAttributes={name:"\u0275\u0275i18nAttributes",moduleName:E},e.i18nExp={name:"\u0275\u0275i18nExp",moduleName:E},e.i18nStart={name:"\u0275\u0275i18nStart",moduleName:E},e.i18nEnd={name:"\u0275\u0275i18nEnd",moduleName:E},e.i18nApply={name:"\u0275\u0275i18nApply",moduleName:E},e.i18nPostprocess={name:"\u0275\u0275i18nPostprocess",moduleName:E},e.pipe={name:"\u0275\u0275pipe",moduleName:E},e.projection={name:"\u0275\u0275projection",moduleName:E},e.projectionDef={name:"\u0275\u0275projectionDef",moduleName:E},e.reference={name:"\u0275\u0275reference",moduleName:E},e.inject={name:"\u0275\u0275inject",moduleName:E},e.injectAttribute={name:"\u0275\u0275injectAttribute",moduleName:E},e.directiveInject={name:"\u0275\u0275directiveInject",moduleName:E},e.invalidFactory={name:"\u0275\u0275invalidFactory",moduleName:E},e.invalidFactoryDep={name:"\u0275\u0275invalidFactoryDep",moduleName:E},e.templateRefExtractor={name:"\u0275\u0275templateRefExtractor",moduleName:E},e.forwardRef={name:"forwardRef",moduleName:E},e.resolveForwardRef={name:"resolveForwardRef",moduleName:E},e.\u0275\u0275defineInjectable={name:"\u0275\u0275defineInjectable",moduleName:E},e.declareInjectable={name:"\u0275\u0275ngDeclareInjectable",moduleName:E},e.InjectableDeclaration={name:"\u0275\u0275InjectableDeclaration",moduleName:E},e.resolveWindow={name:"\u0275\u0275resolveWindow",moduleName:E},e.resolveDocument={name:"\u0275\u0275resolveDocument",moduleName:E},e.resolveBody={name:"\u0275\u0275resolveBody",moduleName:E},e.getComponentDepsFactory={name:"\u0275\u0275getComponentDepsFactory",moduleName:E},e.defineComponent={name:"\u0275\u0275defineComponent",moduleName:E},e.declareComponent={name:"\u0275\u0275ngDeclareComponent",moduleName:E},e.setComponentScope={name:"\u0275\u0275setComponentScope",moduleName:E},e.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:E},e.ViewEncapsulation={name:"ViewEncapsulation",moduleName:E},e.ComponentDeclaration={name:"\u0275\u0275ComponentDeclaration",moduleName:E},e.FactoryDeclaration={name:"\u0275\u0275FactoryDeclaration",moduleName:E},e.declareFactory={name:"\u0275\u0275ngDeclareFactory",moduleName:E},e.FactoryTarget={name:"\u0275\u0275FactoryTarget",moduleName:E},e.defineDirective={name:"\u0275\u0275defineDirective",moduleName:E},e.declareDirective={name:"\u0275\u0275ngDeclareDirective",moduleName:E},e.DirectiveDeclaration={name:"\u0275\u0275DirectiveDeclaration",moduleName:E},e.InjectorDef={name:"\u0275\u0275InjectorDef",moduleName:E},e.InjectorDeclaration={name:"\u0275\u0275InjectorDeclaration",moduleName:E},e.defineInjector={name:"\u0275\u0275defineInjector",moduleName:E},e.declareInjector={name:"\u0275\u0275ngDeclareInjector",moduleName:E},e.NgModuleDeclaration={name:"\u0275\u0275NgModuleDeclaration",moduleName:E},e.ModuleWithProviders={name:"ModuleWithProviders",moduleName:E},e.defineNgModule={name:"\u0275\u0275defineNgModule",moduleName:E},e.declareNgModule={name:"\u0275\u0275ngDeclareNgModule",moduleName:E},e.setNgModuleScope={name:"\u0275\u0275setNgModuleScope",moduleName:E},e.registerNgModuleType={name:"\u0275\u0275registerNgModuleType",moduleName:E},e.PipeDeclaration={name:"\u0275\u0275PipeDeclaration",moduleName:E},e.definePipe={name:"\u0275\u0275definePipe",moduleName:E},e.declarePipe={name:"\u0275\u0275ngDeclarePipe",moduleName:E},e.declareClassMetadata={name:"\u0275\u0275ngDeclareClassMetadata",moduleName:E},e.setClassMetadata={name:"\u0275setClassMetadata",moduleName:E},e.setClassMetadataAsync={name:"\u0275setClassMetadataAsync",moduleName:E},e.setClassDebugInfo={name:"\u0275setClassDebugInfo",moduleName:E},e.queryRefresh={name:"\u0275\u0275queryRefresh",moduleName:E},e.viewQuery={name:"\u0275\u0275viewQuery",moduleName:E},e.loadQuery={name:"\u0275\u0275loadQuery",moduleName:E},e.contentQuery={name:"\u0275\u0275contentQuery",moduleName:E},e.viewQuerySignal={name:"\u0275\u0275viewQuerySignal",moduleName:E},e.contentQuerySignal={name:"\u0275\u0275contentQuerySignal",moduleName:E},e.queryAdvance={name:"\u0275\u0275queryAdvance",moduleName:E},e.twoWayProperty={name:"\u0275\u0275twoWayProperty",moduleName:E},e.twoWayBindingSet={name:"\u0275\u0275twoWayBindingSet",moduleName:E},e.twoWayListener={name:"\u0275\u0275twoWayListener",moduleName:E},e.NgOnChangesFeature={name:"\u0275\u0275NgOnChangesFeature",moduleName:E},e.InheritDefinitionFeature={name:"\u0275\u0275InheritDefinitionFeature",moduleName:E},e.CopyDefinitionFeature={name:"\u0275\u0275CopyDefinitionFeature",moduleName:E},e.StandaloneFeature={name:"\u0275\u0275StandaloneFeature",moduleName:E},e.ProvidersFeature={name:"\u0275\u0275ProvidersFeature",moduleName:E},e.HostDirectivesFeature={name:"\u0275\u0275HostDirectivesFeature",moduleName:E},e.InputTransformsFeatureFeature={name:"\u0275\u0275InputTransformsFeature",moduleName:E},e.listener={name:"\u0275\u0275listener",moduleName:E},e.getInheritedFactory={name:"\u0275\u0275getInheritedFactory",moduleName:E},e.InputFlags={name:"\u0275\u0275InputFlags",moduleName:E},e.sanitizeHtml={name:"\u0275\u0275sanitizeHtml",moduleName:E},e.sanitizeStyle={name:"\u0275\u0275sanitizeStyle",moduleName:E},e.sanitizeResourceUrl={name:"\u0275\u0275sanitizeResourceUrl",moduleName:E},e.sanitizeScript={name:"\u0275\u0275sanitizeScript",moduleName:E},e.sanitizeUrl={name:"\u0275\u0275sanitizeUrl",moduleName:E},e.sanitizeUrlOrResourceUrl={name:"\u0275\u0275sanitizeUrlOrResourceUrl",moduleName:E},e.trustConstantHtml={name:"\u0275\u0275trustConstantHtml",moduleName:E},e.trustConstantResourceUrl={name:"\u0275\u0275trustConstantResourceUrl",moduleName:E},e.validateIframeAttribute={name:"\u0275\u0275validateIframeAttribute",moduleName:E},e.InputSignalBrandWriteType={name:"\u0275INPUT_SIGNAL_BRAND_WRITE_TYPE",moduleName:E},e.UnwrapDirectiveSignalInputs={name:"\u0275UnwrapDirectiveSignalInputs",moduleName:E},e.unwrapWritableSignal={name:"\u0275unwrapWritableSignal",moduleName:E};let t=e;return t})(),Ik=/-+([a-z0-9])/g;function Tk(t){return t.replace(Ik,(...e)=>e[1].toUpperCase())}function Ak(t,e){return tS(t,":",e)}function Mk(t,e){return tS(t,".",e)}function tS(t,e,n){let s=t.indexOf(e);return s==-1?n:[t.slice(0,s).trim(),t.slice(s+1).trim()]}function sd(t){throw new Error(`Internal Error: ${t}`)}function Nk(t){let e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s>=55296&&s<=56319&&t.length>n+1){let r=t.charCodeAt(n+1);r>=56320&&r<=57343&&(n++,s=(s-55296<<10)+r-56320+65536)}s<=127?e.push(s):s<=2047?e.push(s>>6&31|192,s&63|128):s<=65535?e.push(s>>12|224,s>>6&63|128,s&63|128):s<=2097151&&e.push(s>>18&7|240,s>>12&63|128,s>>6&63|128,s&63|128)}return e}function nS(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(nS).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;if(!t.toString)return"object";let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}var Pg=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Xa=globalThis;function kk(t,e){let n=[],s=[];for(let r of t)(e(r)?n:s).push(r);return[n,s]}var Pk=3,Rk="# sourceMappingURL=data:application/json;base64,",Rg=class{constructor(e=null){this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(e,n=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,n),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,n,s,r){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(n!=null&&!this.sourcesContent.has(n))throw new Error(`Unknown source file "${n}"`);if(e==null)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(n&&(s==null||r==null))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:n,sourceLine0:s,sourceCol0:r}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;let e=new Map,n=[],s=[];Array.from(this.sourcesContent.keys()).forEach((l,u)=>{e.set(l,u),n.push(l),s.push(this.sourcesContent.get(l)||null)});let r="",i=0,o=0,a=0,c=0;return this.lines.forEach(l=>{i=0,r+=l.map(u=>{let d=Au(u.col0-i);return i=u.col0,u.sourceUrl!=null&&(d+=Au(e.get(u.sourceUrl)-o),o=e.get(u.sourceUrl),d+=Au(u.sourceLine0-a),a=u.sourceLine0,d+=Au(u.sourceCol0-c),c=u.sourceCol0),d}).join(","),r+=";"}),r=r.slice(0,-1),{file:this.file||"",version:Pk,sourceRoot:"",sources:n,sourcesContent:s,mappings:r}}toJsComment(){return this.hasMappings?"//"+Rk+Ok(JSON.stringify(this,null,0)):""}};function Ok(t){let e="",n=Nk(t);for(let s=0;s<n.length;){let r=n[s++],i=s<n.length?n[s++]:null,o=s<n.length?n[s++]:null;e+=Wa(r>>2),e+=Wa((r&3)<<4|(i===null?0:i>>4)),e+=i===null?"=":Wa((i&15)<<2|(o===null?0:o>>6)),e+=i===null||o===null?"=":Wa(o&63)}return e}function Au(t){t=t<0?(-t<<1)+1:t<<1;let e="";do{let n=t&31;t=t>>5,t>0&&(n=n|32),e+=Wa(n)}while(t>0);return e}var Fk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function Wa(t){if(t<0||t>=64)throw new Error("Can only encode value in the range [0, 63]");return Fk[t]}var Lk=/'|\\|\n|\r|\$/g,Bk=/^[$A-Z_][0-9A-Z_$]*$/i,Og="  ",rd=class{constructor(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}},Fg=class t{static createRoot(){return new t(0)}constructor(e){this._indent=e,this._lines=[new rd(e)]}get _currentLine(){return this._lines[this._lines.length-1]}println(e,n=""){this.print(e||null,n,!0)}lineIsEmpty(){return this._currentLine.parts.length===0}lineLength(){return this._currentLine.indent*Og.length+this._currentLine.partsLength}print(e,n,s=!1){n.length>0&&(this._currentLine.parts.push(n),this._currentLine.partsLength+=n.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),s&&this._lines.push(new rd(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}toSource(){return this.sourceLines.map(e=>e.parts.length>0?t0(e.indent)+e.parts.join(""):"").join(`
`)}toSourceMapGenerator(e,n=0){let s=new Rg(e),r=!1,i=()=>{r||(s.addSource(e," ").addMapping(0,e,0,0),r=!0)};for(let o=0;o<n;o++)s.addLine(),i();return this.sourceLines.forEach((o,a)=>{s.addLine();let c=o.srcSpans,l=o.parts,u=o.indent*Og.length,d=0;for(;d<c.length&&!c[d];)u+=l[d].length,d++;for(d<c.length&&a===0&&u===0?r=!0:i();d<c.length;){let h=c[d],f=h.start.file,g=h.start.line,y=h.start.col;for(s.addSource(f.url,f.content).addMapping(u,f.url,g,y),u+=l[d].length,d++;d<c.length&&(h===c[d]||!c[d]);)u+=l[d].length,d++}}),s}spanOf(e,n){let s=this._lines[e];if(s){let r=n-t0(s.indent).length;for(let i=0;i<s.parts.length;i++){let o=s.parts[i];if(o.length>r)return s.srcSpans[i];r-=o.length}}return null}get sourceLines(){return this._lines.length&&this._lines[this._lines.length-1].parts.length===0?this._lines.slice(0,-1):this._lines}},Lg=class{constructor(e){this._escapeDollarInStrings=e}printLeadingComments(e,n){if(e.leadingComments!==void 0)for(let s of e.leadingComments)s instanceof Ju?n.print(e,`/*${s.toString()}*/`,s.trailingNewline):s.multiline?n.print(e,`/* ${s.text} */`,s.trailingNewline):s.text.split(`
`).forEach(r=>{n.println(e,`// ${r}`)})}visitExpressionStmt(e,n){return this.printLeadingComments(e,n),e.expr.visitExpression(this,n),n.println(e,";"),null}visitReturnStmt(e,n){return this.printLeadingComments(e,n),n.print(e,"return "),e.value.visitExpression(this,n),n.println(e,";"),null}visitIfStmt(e,n){this.printLeadingComments(e,n),n.print(e,"if ("),e.condition.visitExpression(this,n),n.print(e,") {");let s=e.falseCase!=null&&e.falseCase.length>0;return e.trueCase.length<=1&&!s?(n.print(e," "),this.visitAllStatements(e.trueCase,n),n.removeEmptyLastLine(),n.print(e," ")):(n.println(),n.incIndent(),this.visitAllStatements(e.trueCase,n),n.decIndent(),s&&(n.println(e,"} else {"),n.incIndent(),this.visitAllStatements(e.falseCase,n),n.decIndent())),n.println(e,"}"),null}visitWriteVarExpr(e,n){let s=n.lineIsEmpty();return s||n.print(e,"("),n.print(e,`${e.name} = `),e.value.visitExpression(this,n),s||n.print(e,")"),null}visitWriteKeyExpr(e,n){let s=n.lineIsEmpty();return s||n.print(e,"("),e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"] = "),e.value.visitExpression(this,n),s||n.print(e,")"),null}visitWritePropExpr(e,n){let s=n.lineIsEmpty();return s||n.print(e,"("),e.receiver.visitExpression(this,n),n.print(e,`.${e.name} = `),e.value.visitExpression(this,n),s||n.print(e,")"),null}visitInvokeFunctionExpr(e,n){let s=e.fn instanceof oi;return s&&n.print(e.fn,"("),e.fn.visitExpression(this,n),s&&n.print(e.fn,")"),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitTaggedTemplateExpr(e,n){e.tag.visitExpression(this,n),n.print(e,"`"+e.template.elements[0].rawText);for(let s=1;s<e.template.elements.length;s++)n.print(e,"${"),e.template.expressions[s-1].visitExpression(this,n),n.print(e,`}${e.template.elements[s].rawText}`);return n.print(e,"`"),null}visitWrappedNodeExpr(e,n){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,n){n.print(e,"typeof "),e.expr.visitExpression(this,n)}visitReadVarExpr(e,n){return n.print(e,e.name),null}visitInstantiateExpr(e,n){return n.print(e,"new "),e.classExpr.visitExpression(this,n),n.print(e,"("),this.visitAllExpressions(e.args,n,","),n.print(e,")"),null}visitLiteralExpr(e,n){let s=e.value;return typeof s=="string"?n.print(e,Qr(s,this._escapeDollarInStrings)):n.print(e,`${s}`),null}visitLocalizedString(e,n){let s=e.serializeI18nHead();n.print(e,"$localize `"+s.raw);for(let r=1;r<e.messageParts.length;r++)n.print(e,"${"),e.expressions[r-1].visitExpression(this,n),n.print(e,`}${e.serializeI18nTemplatePart(r).raw}`);return n.print(e,"`"),null}visitConditionalExpr(e,n){return n.print(e,"("),e.condition.visitExpression(this,n),n.print(e,"? "),e.trueCase.visitExpression(this,n),n.print(e,": "),e.falseCase.visitExpression(this,n),n.print(e,")"),null}visitDynamicImportExpr(e,n){n.print(e,`import(${e.url})`)}visitNotExpr(e,n){return n.print(e,"!"),e.condition.visitExpression(this,n),null}visitUnaryOperatorExpr(e,n){let s;switch(e.operator){case ri.Plus:s="+";break;case ri.Minus:s="-";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&n.print(e,"("),n.print(e,s),e.expr.visitExpression(this,n),e.parens&&n.print(e,")"),null}visitBinaryOperatorExpr(e,n){let s;switch(e.operator){case R.Equals:s="==";break;case R.Identical:s="===";break;case R.NotEquals:s="!=";break;case R.NotIdentical:s="!==";break;case R.And:s="&&";break;case R.BitwiseOr:s="|";break;case R.BitwiseAnd:s="&";break;case R.Or:s="||";break;case R.Plus:s="+";break;case R.Minus:s="-";break;case R.Divide:s="/";break;case R.Multiply:s="*";break;case R.Modulo:s="%";break;case R.Lower:s="<";break;case R.LowerEquals:s="<=";break;case R.Bigger:s=">";break;case R.BiggerEquals:s=">=";break;case R.NullishCoalesce:s="??";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&n.print(e,"("),e.lhs.visitExpression(this,n),n.print(e,` ${s} `),e.rhs.visitExpression(this,n),e.parens&&n.print(e,")"),null}visitReadPropExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"."),n.print(e,e.name),null}visitReadKeyExpr(e,n){return e.receiver.visitExpression(this,n),n.print(e,"["),e.index.visitExpression(this,n),n.print(e,"]"),null}visitLiteralArrayExpr(e,n){return n.print(e,"["),this.visitAllExpressions(e.entries,n,","),n.print(e,"]"),null}visitLiteralMapExpr(e,n){return n.print(e,"{"),this.visitAllObjects(s=>{n.print(e,`${Qr(s.key,this._escapeDollarInStrings,s.quoted)}:`),s.value.visitExpression(this,n)},e.entries,n,","),n.print(e,"}"),null}visitCommaExpr(e,n){return n.print(e,"("),this.visitAllExpressions(e.parts,n,","),n.print(e,")"),null}visitAllExpressions(e,n,s){this.visitAllObjects(r=>r.visitExpression(this,n),e,n,s)}visitAllObjects(e,n,s,r){let i=!1;for(let o=0;o<n.length;o++)o>0&&(s.lineLength()>80?(s.print(null,r,!0),i||(s.incIndent(),s.incIndent(),i=!0)):s.print(null,r,!1)),e(n[o]);i&&(s.decIndent(),s.decIndent())}visitAllStatements(e,n){e.forEach(s=>s.visitStatement(this,n))}};function Qr(t,e,n=!0){if(t==null)return null;let s=t.replace(Lk,(...i)=>i[0]=="$"?e?"\\$":"$":i[0]==`
`?"\\n":i[0]=="\r"?"\\r":`\\${i[0]}`);return n||!Bk.test(s)?`'${s}'`:s}function t0(t){let e="";for(let n=0;n<t;n++)e+=Og;return e}function sh(t,e){if(e===0)return ot(t);let n=[];for(let s=0;s<e;s++)n.push(_s);return ot(t,void 0,n)}var sS="@";function rS(t){return`${sS}${t}`}function Vk(t,e){return`${sS}${t}.${e}`}function $k(t,e){let n=Qr(e,!1,!1);return n!==e?`${t}[${n}]`:`${t}.${e}`}function iS(t,e){return`animation_${t}_${e}`}function jk(t){return Hk("ngJitMode",t)}function Hk(t,e){let n=new gs({name:t,moduleName:null}),s=new ee(R.Identical,new Ao(n),w("undefined")),r=new ee(R.Or,s,n,void 0,void 0,!0);return new ee(R.And,r,e)}function Qe(t){let e=new te(t);return{value:e,type:e}}function Zr(t,e){let n=z(t.map(s=>s.value));return e?et([],n):n}function wv(t,e){return{expression:t,forwardRef:e}}function Uk({expression:t,forwardRef:e}){switch(e){case 0:case 1:return t;case 2:return zk(t)}}function zk(t){return P(p.forwardRef).callFn([et([],t)])}var id=function(t){return t[t.Class=0]="Class",t[t.Function=1]="Function",t}(id||{}),ls=function(t){return t[t.Directive=0]="Directive",t[t.Component=1]="Component",t[t.Injectable=2]="Injectable",t[t.Pipe=3]="Pipe",t[t.NgModule=4]="NgModule",t}(ls||{});function Yr(t){let e=L("t"),n=null,s=s0(t)?e:new ee(R.Or,e,t.type.value),r=null;t.deps!==null?t.deps!=="invalid"&&(r=new nc(s,n0(t.deps,t.target))):(n=L(`\u0275${t.name}_BaseFactory`),r=n.callFn([s]));let i=[],o=null;function a(l){let u=L("r");i.push(u.set(ci).toDeclStmt());let d=r!==null?u.set(r).toStmt():P(p.invalidFactory).callFn([]).toStmt();return i.push(Lc(e,[d],[u.set(l).toStmt()])),u}if(s0(t)){let l=n0(t.delegateDeps,t.target),u=new(t.delegateType===id.Class?nc:St)(t.delegate,l);o=a(u)}else Xk(t)?o=a(t.expression):o=r;if(o===null)i.push(P(p.invalidFactory).callFn([]).toStmt());else if(n!==null){let l=P(p.getInheritedFactory).callFn([t.type.value]),u=new ee(R.Or,n,n.set(l));i.push(new qe(u.callFn([s])))}else i.push(new qe(o));let c=Gn([new Ee("t",_s)],i,xt,void 0,`${t.name}_Factory`);return n!==null&&(c=et([],[new vt(n.name),new qe(c)]).callFn([],void 0,!0)),{expression:c,statements:[],type:Wk(t)}}function Wk(t){let e=t.deps!==null&&t.deps!=="invalid"?Gk(t.deps):Wn;return ot(P(p.FactoryDeclaration,[sh(t.type.type,t.typeArgumentCount),e]))}function n0(t,e){return t.map((n,s)=>qk(n,e,s))}function qk(t,e,n){if(t.token===null)return P(p.invalidFactoryDep).callFn([w(n)]);if(t.attributeNameType===null){let s=0|(t.self?2:0)|(t.skipSelf?4:0)|(t.host?1:0)|(t.optional?8:0)|(e===ls.Pipe?16:0),r=s!==0||t.optional?w(s):null,i=[t.token];r&&i.push(r);let o=Qk(e);return P(o).callFn(i)}else return P(p.injectAttribute).callFn([t.token])}function Gk(t){let e=!1,n=t.map(s=>{let r=Yk(s);return r!==null?(e=!0,r):w(null)});return e?ot(z(n)):Wn}function Yk(t){let e=[];return t.attributeNameType!==null&&e.push({key:"attribute",value:t.attributeNameType,quoted:!1}),t.optional&&e.push({key:"optional",value:w(!0),quoted:!1}),t.host&&e.push({key:"host",value:w(!0),quoted:!1}),t.self&&e.push({key:"self",value:w(!0),quoted:!1}),t.skipSelf&&e.push({key:"skipSelf",value:w(!0),quoted:!1}),e.length>0?st(e):null}function s0(t){return t.delegateType!==void 0}function Xk(t){return t.expression!==void 0}function Qk(t){switch(t){case ls.Component:case ls.Directive:case ls.Pipe:return p.directiveInject;case ls.NgModule:case ls.Injectable:default:return p.inject}}var Bn=function(t){return t[t.RAW_TEXT=0]="RAW_TEXT",t[t.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",t[t.PARSABLE_DATA=2]="PARSABLE_DATA",t}(Bn||{});function Ct(t,e=!0){if(t[0]!=":")return[null,t];let n=t.indexOf(":",1);if(n===-1){if(e)throw new Error(`Unsupported format "${t}" expecting ":namespace:name"`);return[null,t]}return[t.slice(1,n),t.slice(n+1)]}function Bg(t){return Ct(t)[1]==="ng-container"}function Vg(t){return Ct(t)[1]==="ng-content"}function Zk(t){return Ct(t)[1]==="ng-template"}function $g(t){return t===null?null:Ct(t)[0]}function jg(t,e){return t?`:${t}:${e}`:e}var ko=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){throw new Error("visit() not implemented for Comment")}},fs=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e){return e.visitText(this)}},ui=class{constructor(e,n,s){this.value=e,this.sourceSpan=n,this.i18n=s}visit(e){return e.visitBoundText(this)}},Po=class{constructor(e,n,s,r,i,o){this.name=e,this.value=n,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i,this.i18n=o}visit(e){return e.visitTextAttribute(this)}},od=class t{constructor(e,n,s,r,i,o,a,c,l){this.name=e,this.type=n,this.securityContext=s,this.value=r,this.unit=i,this.sourceSpan=o,this.keySpan=a,this.valueSpan=c,this.i18n=l}static fromBoundElementProperty(e,n){if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound attributes but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,e.keySpan,e.valueSpan,n)}visit(e){return e.visitBoundAttribute(this)}},ad=class t{constructor(e,n,s,r,i,o,a,c){this.name=e,this.type=n,this.handler=s,this.target=r,this.phase=i,this.sourceSpan=o,this.handlerSpan=a,this.keySpan=c}static fromParsedEvent(e){let n=e.type===0?e.targetOrPhase:null,s=e.type===1?e.targetOrPhase:null;if(e.keySpan===void 0)throw new Error(`Unexpected state: keySpan must be defined for bound event but was not for ${e.name}: ${e.sourceSpan}`);return new t(e.name,e.type,e.handler,n,s,e.sourceSpan,e.handlerSpan,e.keySpan)}visit(e){return e.visitBoundEvent(this)}},_t=class{constructor(e,n,s,r,i,o,a,c,l,u){this.name=e,this.attributes=n,this.inputs=s,this.outputs=r,this.children=i,this.references=o,this.sourceSpan=a,this.startSourceSpan=c,this.endSourceSpan=l,this.i18n=u}visit(e){return e.visitElement(this)}},vs=class{constructor(e,n,s,r){this.nameSpan=e,this.sourceSpan=n,this.prefetchSpan=s,this.whenOrOnSourceSpan=r}visit(e){return e.visitDeferredTrigger(this)}},Hg=class extends vs{constructor(e,n,s,r){super(null,n,s,r),this.value=e}},Ug=class extends vs{},zg=class extends vs{},cd=class extends vs{constructor(e,n,s,r,i){super(n,s,r,i),this.reference=e}},Wg=class extends vs{constructor(e,n,s,r,i){super(n,s,r,i),this.delay=e}},ld=class extends vs{constructor(e,n,s,r,i){super(n,s,r,i),this.reference=e}},ud=class extends vs{constructor(e,n,s,r,i){super(n,s,r,i),this.reference=e}},cn=class{constructor(e,n,s,r){this.nameSpan=e,this.sourceSpan=n,this.startSourceSpan=s,this.endSourceSpan=r}},ac=class extends cn{constructor(e,n,s,r,i,o,a){super(s,r,i,o),this.children=e,this.minimumTime=n,this.i18n=a}visit(e){return e.visitDeferredBlockPlaceholder(this)}},cc=class extends cn{constructor(e,n,s,r,i,o,a,c){super(r,i,o,a),this.children=e,this.afterTime=n,this.minimumTime=s,this.i18n=c}visit(e){return e.visitDeferredBlockLoading(this)}},lc=class extends cn{constructor(e,n,s,r,i,o){super(n,s,r,i),this.children=e,this.i18n=o}visit(e){return e.visitDeferredBlockError(this)}},di=class extends cn{constructor(e,n,s,r,i,o,a,c,l,u,d,h){super(a,c,u,d),this.children=e,this.placeholder=r,this.loading=i,this.error=o,this.mainBlockSpan=l,this.i18n=h,this.triggers=n,this.prefetchTriggers=s,this.definedTriggers=Object.keys(n),this.definedPrefetchTriggers=Object.keys(s)}visit(e){return e.visitDeferredBlock(this)}visitAll(e){this.visitTriggers(this.definedTriggers,this.triggers,e),this.visitTriggers(this.definedPrefetchTriggers,this.prefetchTriggers,e),Qa(e,this.children);let n=[this.placeholder,this.loading,this.error].filter(s=>s!==null);Qa(e,n)}visitTriggers(e,n,s){Qa(s,e.map(r=>n[r]))}},dd=class extends cn{constructor(e,n,s,r,i,o,a){super(a,r,i,o),this.expression=e,this.cases=n,this.unknownBlocks=s}visit(e){return e.visitSwitchBlock(this)}},uc=class extends cn{constructor(e,n,s,r,i,o,a){super(o,s,r,i),this.expression=e,this.children=n,this.i18n=a}visit(e){return e.visitSwitchBlockCase(this)}},Ro=class extends cn{constructor(e,n,s,r,i,o,a,c,l,u,d,h,f){super(h,c,u,d),this.item=e,this.expression=n,this.trackBy=s,this.trackKeywordSpan=r,this.contextVariables=i,this.children=o,this.empty=a,this.mainBlockSpan=l,this.i18n=f}visit(e){return e.visitForLoopBlock(this)}},dc=class extends cn{constructor(e,n,s,r,i,o){super(i,n,s,r),this.children=e,this.i18n=o}visit(e){return e.visitForLoopBlockEmpty(this)}},hd=class extends cn{constructor(e,n,s,r,i){super(i,n,s,r),this.branches=e}visit(e){return e.visitIfBlock(this)}},ei=class extends cn{constructor(e,n,s,r,i,o,a,c){super(a,r,i,o),this.expression=e,this.children=n,this.expressionAlias=s,this.i18n=c}visit(e){return e.visitIfBlockBranch(this)}},fd=class{constructor(e,n,s){this.name=e,this.sourceSpan=n,this.nameSpan=s}visit(e){return e.visitUnknownBlock(this)}},Rt=class{constructor(e,n,s,r,i,o,a,c,l,u,d,h){this.tagName=e,this.attributes=n,this.inputs=s,this.outputs=r,this.templateAttrs=i,this.children=o,this.references=a,this.variables=c,this.sourceSpan=l,this.startSourceSpan=u,this.endSourceSpan=d,this.i18n=h}visit(e){return e.visitTemplate(this)}},pd=class{constructor(e,n,s,r){this.selector=e,this.attributes=n,this.sourceSpan=s,this.i18n=r,this.name="ng-content"}visit(e){return e.visitContent(this)}},ys=class{constructor(e,n,s,r,i){this.name=e,this.value=n,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i}visit(e){return e.visitVariable(this)}},hc=class{constructor(e,n,s,r,i){this.name=e,this.value=n,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i}visit(e){return e.visitReference(this)}},fc=class{constructor(e,n,s,r){this.vars=e,this.placeholders=n,this.sourceSpan=s,this.i18n=r}visit(e){return e.visitIcu(this)}};function Qa(t,e){let n=[];if(t.visit)for(let s of e)t.visit(s)||s.visit(t);else for(let s of e){let r=s.visit(t);r&&n.push(r)}return n}var mt=class{constructor(e,n,s,r,i,o){this.nodes=e,this.placeholders=n,this.placeholderToMessage=s,this.meaning=r,this.description=i,this.customId=o,this.legacyIds=[],this.id=this.customId,this.messageString=Kk(this.nodes),e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}},yo=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitText(this,n)}},Hn=class{constructor(e,n){this.children=e,this.sourceSpan=n}visit(e,n){return e.visitContainer(this,n)}},gd=class{constructor(e,n,s,r,i){this.expression=e,this.type=n,this.cases=s,this.sourceSpan=r,this.expressionPlaceholder=i}visit(e,n){return e.visitIcu(this,n)}},ir=class{constructor(e,n,s,r,i,o,a,c,l){this.tag=e,this.attrs=n,this.startName=s,this.closeName=r,this.children=i,this.isVoid=o,this.sourceSpan=a,this.startSourceSpan=c,this.endSourceSpan=l}visit(e,n){return e.visitTagPlaceholder(this,n)}},pc=class{constructor(e,n,s){this.value=e,this.name=n,this.sourceSpan=s}visit(e,n){return e.visitPlaceholder(this,n)}},Oo=class{constructor(e,n,s){this.value=e,this.name=n,this.sourceSpan=s}visit(e,n){return e.visitIcuPlaceholder(this,n)}},ws=class{constructor(e,n,s,r,i,o,a,c){this.name=e,this.parameters=n,this.startName=s,this.closeName=r,this.children=i,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=c}visit(e,n){return e.visitBlockPlaceholder(this,n)}};function Kk(t){let e=new qg;return t.map(s=>s.visit(e)).join("")}var qg=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(s=>`${s} {${e.cases[s].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){let n=e.children.map(s=>s.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}visitPlaceholder(e){return`{$${e.name}}`}visitIcuPlaceholder(e){return`{$${e.name}}`}visitBlockPlaceholder(e){let n=e.children.map(s=>s.visit(this)).join("");return`{$${e.startName}}${n}{$${e.closeName}}`}};var Gg=class{visitTag(e){let n=this._serializeAttributes(e.attrs);if(e.children.length==0)return`<${e.name}${n}/>`;let s=e.children.map(r=>r.visit(this));return`<${e.name}${n}>${s.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){let n=Object.keys(e).map(s=>`${s}="${e[s]}"`).join(" ");return n.length>0?" "+n:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [
${e.dtd}
]>`}},J7=new Gg;function Jk(t){return t.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}var eP="MSG_",tP="i18n_",oS="i18n",Yg="i18n-",nP="VAR_",sP="I18N_EXP_",r0="\uFFFD";function aS(t){return t===oS||t.startsWith(Yg)}function gc(t){return t instanceof mt}function qa(t){return gc(t)&&t.nodes.length===1&&t.nodes[0]instanceof gd}function rP(t){return!!t.i18n}function iP(t){return t.attrs.some(e=>aS(e.name))}function bv(t){return t.nodes[0]}function rh(t,e=0){let n=e>0?`:${e}`:"";return`${r0}${t}${n}${r0}`}function oP(t,e=0,n=0){if(!t.length)return"";let s="",r=t.length-1;for(let i=0;i<r;i++)s+=`${t[i]}${rh(e+i,n)}`;return s+=t[r],s}function aP(t=0){let e=t;return()=>e++}function i0(t){let e={};return t.forEach((n,s)=>{e[s]=w(n.length>1?`[${n.join("|")}]`:n[0])}),e}function Ga(t,e,...n){let s=t.get(e)||[];s.push(...n),t.set(e,s)}function cS(t,e=0,n=0){let s=e,r=new Map,i=t instanceof mt?t.nodes.find(o=>o instanceof Hn):t;return i&&i.children.filter(o=>o instanceof pc).forEach((o,a)=>{let c=rh(s+a,n);Ga(r,o.name,c)}),r}function Bc(t={},e){let n={};return t&&Object.keys(t).length&&Object.keys(t).forEach(s=>n[Vc(s,e)]=t[s]),n}function Vc(t,e=!0){let n=Jk(t);if(!e)return n;let s=n.split("_");if(s.length===1)return t.toLowerCase();let r;/^\d+$/.test(s[s.length-1])&&(r=s.pop());let i=s.shift().toLowerCase();return s.length&&(i+=s.map(o=>o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()).join("")),r?`${i}_${r}`:i}function md(t){return`${eP}${t}`.toUpperCase()}function lS(t){return new vt(t.name,void 0,xt,void 0,t.sourceSpan)}var cP=/[-.]/,Ev="_t",bt="ctx",$c="rf",lP="_r",uP="$implicit",dP="ngNonBindable",uS="restoredCtx",Xg="#context",hP=500,fP=new Set([p.element,p.elementStart,p.elementEnd,p.elementContainer,p.elementContainerStart,p.elementContainerEnd,p.i18nExp,p.listener,p.classProp,p.syntheticHostListener,p.hostProperty,p.syntheticHostProperty,p.property,p.propertyInterpolate1,p.propertyInterpolate2,p.propertyInterpolate3,p.propertyInterpolate4,p.propertyInterpolate5,p.propertyInterpolate6,p.propertyInterpolate7,p.propertyInterpolate8,p.propertyInterpolateV,p.attribute,p.attributeInterpolate1,p.attributeInterpolate2,p.attributeInterpolate3,p.attributeInterpolate4,p.attributeInterpolate5,p.attributeInterpolate6,p.attributeInterpolate7,p.attributeInterpolate8,p.attributeInterpolateV,p.styleProp,p.stylePropInterpolate1,p.stylePropInterpolate2,p.stylePropInterpolate3,p.stylePropInterpolate4,p.stylePropInterpolate5,p.stylePropInterpolate6,p.stylePropInterpolate7,p.stylePropInterpolate8,p.stylePropInterpolateV,p.textInterpolate,p.textInterpolate1,p.textInterpolate2,p.textInterpolate3,p.textInterpolate4,p.textInterpolate5,p.textInterpolate6,p.textInterpolate7,p.textInterpolate8,p.textInterpolateV,p.templateCreate,p.twoWayProperty,p.twoWayListener]);function hi(t,e,n){return P(e,null,t).callFn(n,t)}function dS(t,e){let n=null;return()=>(n||(t(new vt(Ev,void 0,_s)),n=L(e)),n)}function Ht(t){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${t.constructor.name}`)}function bn(t){return Array.isArray(t)?z(t.map(bn)):w(t,xt)}function o0(t,e){let n=Object.getOwnPropertyNames(t);return n.length===0?null:st(n.map(s=>{let r=t[s],i,o,a,c;if(typeof r=="string")i=s,a=s,o=r,c=bn(o);else{a=s,i=r.classPropertyName,o=r.bindingPropertyName;let l=o!==i,u=r.transformFunction!==null,d=null;if(r.isSignal&&(d=c0(vo.SignalBased,d)),u&&(d=c0(vo.HasDecoratorInputTransform,d)),e&&(l||u||d!==null)){let f=[d??P(p.InputFlags).prop(vo[vo.None]),bn(o)];(l||u)&&(f.push(bn(i)),u&&f.push(r.transformFunction)),c=z(f)}else c=bn(o)}return{key:a,quoted:cP.test(a),value:c}}))}function a0(t){return P(p.InputFlags).prop(vo[t])}function c0(t,e){return e===null?a0(t):a0(t).bitwiseOr(e)}function co(t){for(;eS(t[t.length-1]);)t.pop();return t}var or=class{constructor(){this.values=[]}set(e,n){if(n){let s=this.values.find(r=>r.key===e);s?s.value=n:this.values.push({key:e,value:n,quoted:!1})}}toLiteralMap(){return st(this.values)}};function pP(t){let e=t instanceof _t?t.name:"ng-template",n=gP(t),s=new To,r=Ct(e)[1];return s.setElement(r),Object.getOwnPropertyNames(n).forEach(i=>{let o=Ct(i)[1],a=n[i];s.addAttribute(o,a),i.toLowerCase()==="class"&&a.trim().split(/\s+/).forEach(l=>s.addClassName(l))}),s}function gP(t){let e={};return t instanceof Rt&&t.tagName!=="ng-template"?t.templateAttrs.forEach(n=>e[n.name]=""):(t.attributes.forEach(n=>{aS(n.name)||(e[n.name]=n.value)}),t.inputs.forEach(n=>{(n.type===0||n.type===5)&&(e[n.name]="")}),t.outputs.forEach(n=>{e[n.name]=""})),e}function _i(t){let{expressions:e,strings:n}=t;return e.length===1&&n.length===2&&n[0]===""&&n[1]===""?1:e.length+n.length}function vd(t){let e=[],n=null,s=null,r=0;for(let i of t){let o=(typeof i.paramsOrFn=="function"?i.paramsOrFn():i.paramsOrFn)??[],a=Array.isArray(o)?o:[o];r<hP&&s===i.reference&&fP.has(s)?(n=n.callFn(a,n.sourceSpan),r++):(n!==null&&e.push(n.toStmt()),n=hi(i.span,i.reference,a),s=i.reference,r=0)}return n!==null&&e.push(n.toStmt()),e}function l0(t,e){let n=null,s={name:t.name,type:t.type,typeArgumentCount:t.typeArgumentCount,deps:[],target:ls.Injectable};if(t.useClass!==void 0){let a=t.useClass.expression.isEquivalent(t.type.value),c;t.deps!==void 0&&(c=t.deps),c!==void 0?n=Yr(me(_({},s),{delegate:t.useClass.expression,delegateDeps:c,delegateType:id.Class})):a?n=Yr(s):n={statements:[],expression:u0(t.type.value,t.useClass.expression,e)}}else t.useFactory!==void 0?t.deps!==void 0?n=Yr(me(_({},s),{delegate:t.useFactory,delegateDeps:t.deps||[],delegateType:id.Function})):n={statements:[],expression:et([],t.useFactory.callFn([]))}:t.useValue!==void 0?n=Yr(me(_({},s),{expression:t.useValue.expression})):t.useExisting!==void 0?n=Yr(me(_({},s),{expression:P(p.inject).callFn([t.useExisting.expression])})):n={statements:[],expression:u0(t.type.value,t.type.value,e)};let r=t.type.value,i=new or;return i.set("token",r),i.set("factory",n.expression),t.providedIn.expression.value!==null&&i.set("providedIn",Uk(t.providedIn)),{expression:P(p.\u0275\u0275defineInjectable).callFn([i.toLiteralMap()],void 0,!0),type:mP(t),statements:n.statements}}function mP(t){return new on(P(p.InjectableDeclaration,[sh(t.type.type,t.typeArgumentCount)]))}function u0(t,e,n){if(t.node===e.node)return e.prop("\u0275fac");if(!n)return d0(e);let s=P(p.resolveForwardRef).callFn([e]);return d0(s)}function d0(t){return et([new Ee("t",_s)],t.prop("\u0275fac").callFn([L("t")]))}var vP=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function yP(t,e){if(e!=null&&!(Array.isArray(e)&&e.length==2))throw new Error(`Expected '${t}' to be an array, [start, end].`);if(e!=null){let n=e[0],s=e[1];vP.forEach(r=>{if(r.test(n)||r.test(s))throw new Error(`['${n}', '${s}'] contains unusable interpolation symbol.`)})}}var yd=class t{static fromArray(e){return e?(yP("interpolation",e),new t(e[0],e[1])):Vn}constructor(e,n){this.start=e,this.end=n}},Vn=new yd("{{","}}"),wP=new Set(["switch"]),Et=0,bP=8,xv=9,ti=10,hS=11,fS=12,Cv=13,pS=32,Qg=33,mc=34,gS=35,mS=36,EP=37,wd=38,vc=39,ps=40,En=41,xP=42,vS=43,rn=44,bd=45,go=46,us=47,Js=58,xn=59,wo=60,bo=61,Ks=62,h0=63,Sv=48,CP=55,yS=57,Xo=65,SP=69,DP=70,_P=88,ih=90,Io=91,Ed=92,Eo=93,IP=94,oh=95,fi=97,TP=98,AP=101,Dv=102,wS=110,bS=114,ES=116,xS=117,CS=118,SS=120,jc=122,$n=123,f0=124,Mt=125,DS=160;var p0=64,MP=96;function ah(t){return t>=xv&&t<=pS||t==DS}function cs(t){return Sv<=t&&t<=yS}function ch(t){return t>=fi&&t<=jc||t>=Xo&&t<=ih}function NP(t){return t>=fi&&t<=Dv||t>=Xo&&t<=DP||cs(t)}function _S(t){return t===ti||t===Cv}function g0(t){return Sv<=t&&t<=CP}function xd(t){return t===vc||t===mc||t===MP}var yc=class t{constructor(e,n,s,r){this.file=e,this.offset=n,this.line=s,this.col=r}toString(){return this.offset!=null?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){let n=this.file.content,s=n.length,r=this.offset,i=this.line,o=this.col;for(;r>0&&e<0;)if(r--,e++,n.charCodeAt(r)==ti){i--;let c=n.substring(0,r-1).lastIndexOf(String.fromCharCode(ti));o=c>0?r-c:r}else o--;for(;r<s&&e>0;){let a=n.charCodeAt(r);r++,e--,a==ti?(i++,o=0):o++}return new t(this.file,r,i,o)}getContext(e,n){let s=this.file.content,r=this.offset;if(r!=null){r>s.length-1&&(r=s.length-1);let i=r,o=0,a=0;for(;o<e&&r>0&&(r--,o++,!(s[r]==`
`&&++a==n)););for(o=0,a=0;o<e&&i<s.length-1&&(i++,o++,!(s[i]==`
`&&++a==n)););return{before:s.substring(r,this.offset),after:s.substring(this.offset,i+1)}}return null}},Cd=class{constructor(e,n){this.content=e,this.url=n}},X=class{constructor(e,n,s=e,r=null){this.start=e,this.end=n,this.fullStart=s,this.details=r}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}},tr=function(t){return t[t.WARNING=0]="WARNING",t[t.ERROR=1]="ERROR",t}(tr||{}),W=class{constructor(e,n,s=tr.ERROR){this.span=e,this.msg=n,this.level=s}contextualMessage(){let e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${tr[this.level]} ->]${e.after}")`:this.msg}toString(){let e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}};function kP(t,e,n){let s=`in ${t} ${e} in ${n}`,r=new Cd("",s);return new X(new yc(r,-1,-1,-1),new yc(r,-1,-1,-1))}var PP=0;function RP(t){if(!t||!t.reference)return null;let e=t.reference;if(e.__anonymousType)return e.__anonymousType;if(e.__forward_ref__)return"__forward_ref__";let n=nS(e);return n.indexOf("(")>=0?(n=`anonymous_${PP++}`,e.__anonymousType=n):n=Un(n),n}function Un(t){return t.replace(/\W/g,"_")}var m0='(this&&this.__makeTemplateObject||function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e})',Zg=class extends Lg{constructor(){super(!1)}visitWrappedNodeExpr(e,n){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitDeclareVarStmt(e,n){return n.print(e,`var ${e.name}`),e.value&&(n.print(e," = "),e.value.visitExpression(this,n)),n.println(e,";"),null}visitTaggedTemplateExpr(e,n){let s=e.template.elements;return e.tag.visitExpression(this,n),n.print(e,`(${m0}(`),n.print(e,`[${s.map(r=>Qr(r.text,!1)).join(", ")}], `),n.print(e,`[${s.map(r=>Qr(r.rawText,!1)).join(", ")}])`),e.template.expressions.forEach(r=>{n.print(e,", "),r.visitExpression(this,n)}),n.print(e,")"),null}visitFunctionExpr(e,n){return n.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.print(e,"}"),null}visitArrowFunctionExpr(e,n){if(n.print(e,"("),this._visitParams(e.params,n),n.print(e,") =>"),Array.isArray(e.body))n.println(e,"{"),n.incIndent(),this.visitAllStatements(e.body,n),n.decIndent(),n.print(e,"}");else{let s=e.body instanceof Cn;s&&n.print(e,"("),e.body.visitExpression(this,n),s&&n.print(e,")")}return null}visitDeclareFunctionStmt(e,n){return n.print(e,`function ${e.name}(`),this._visitParams(e.params,n),n.println(e,") {"),n.incIndent(),this.visitAllStatements(e.statements,n),n.decIndent(),n.println(e,"}"),null}visitLocalizedString(e,n){n.print(e,`$localize(${m0}(`);let s=[e.serializeI18nHead()];for(let r=1;r<e.messageParts.length;r++)s.push(e.serializeI18nTemplatePart(r));return n.print(e,`[${s.map(r=>Qr(r.cooked,!1)).join(", ")}], `),n.print(e,`[${s.map(r=>Qr(r.raw,!1)).join(", ")}])`),e.expressions.forEach(r=>{n.print(e,", "),r.visitExpression(this,n)}),n.print(e,")"),null}_visitParams(e,n){this.visitAllObjects(s=>n.print(null,s.name),e,n,",")}},Mu;function OP(){if(Mu===void 0){let t=Xa.trustedTypes;if(Mu=null,t)try{Mu=t.createPolicy("angular#unsafe-jit",{createScript:e=>e})}catch{}}return Mu}function FP(t){return OP()?.createScript(t)||t}function v0(...t){if(!Xa.trustedTypes)return new Function(...t);let e=t.slice(0,-1).join(","),n=t[t.length-1],s=`(function anonymous(${e}
) { ${n}
})`,r=Xa.eval(FP(s));return r.bind===void 0?new Function(...t):(r.toString=()=>s,r.bind(Xa))}var Kg=class{evaluateStatements(e,n,s,r){let i=new Jg(s),o=Fg.createRoot();return n.length>0&&!LP(n[0])&&(n=[w("use strict").toStmt(),...n]),i.visitAllStatements(n,o),i.createReturnStmt(o),this.evaluateCode(e,o,i.getArgs(),r)}evaluateCode(e,n,s,r){let i=`"use strict";${n.toSource()}
//# sourceURL=${e}`,o=[],a=[];for(let l in s)a.push(s[l]),o.push(l);if(r){let l=v0(...o.concat("return null;")).toString(),u=l.slice(0,l.indexOf("return null;")).split(`
`).length-1;i+=`
${n.toSourceMapGenerator(e,u).toJsComment()}`}let c=v0(...o.concat(i));return this.executeFunction(c,a)}executeFunction(e,n){return e(...n)}},Jg=class extends Zg{constructor(e){super(),this.refResolver=e,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(e){new qe(new Cn(this._evalExportedVars.map(s=>new No(s,L(s),!1)))).visitStatement(this,e)}getArgs(){let e={};for(let n=0;n<this._evalArgNames.length;n++)e[this._evalArgNames[n]]=this._evalArgValues[n];return e}visitExternalExpr(e,n){return this._emitReferenceToExternal(e,this.refResolver.resolveExternalReference(e.value),n),null}visitWrappedNodeExpr(e,n){return this._emitReferenceToExternal(e,e.node,n),null}visitDeclareVarStmt(e,n){return e.hasModifier(it.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,n)}visitDeclareFunctionStmt(e,n){return e.hasModifier(it.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,n)}_emitReferenceToExternal(e,n,s){let r=this._evalArgValues.indexOf(n);if(r===-1){r=this._evalArgValues.length,this._evalArgValues.push(n);let i=RP({reference:n})||"val";this._evalArgNames.push(`jit_${i}_${r}`)}s.print(e,this._evalArgNames[r])}};function LP(t){return t.isEquivalent(w("use strict").toStmt())}function y0(t){let e=new or;t.providers!==null&&e.set("providers",t.providers),t.imports.length>0&&e.set("imports",z(t.imports));let n=P(p.defineInjector).callFn([e.toLiteralMap()],void 0,!0),s=BP(t);return{expression:n,type:s,statements:[]}}function BP(t){return new on(P(p.InjectorDeclaration,[new on(t.type.type)]))}var em=class{constructor(e){this.context=e}resolveExternalReference(e){if(e.moduleName!=="@angular/core")throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}},Sd=function(t){return t[t.Inline=0]="Inline",t[t.SideEffect=1]="SideEffect",t[t.Omit=2]="Omit",t}(Sd||{}),nr=function(t){return t[t.Global=0]="Global",t[t.Local=1]="Local",t}(nr||{});function VP(t){let e=[],n=new or;if(n.set("type",t.type.value),t.kind===nr.Global&&t.bootstrap.length>0&&n.set("bootstrap",Zr(t.bootstrap,t.containsForwardDecls)),t.selectorScopeMode===Sd.Inline)t.declarations.length>0&&n.set("declarations",Zr(t.declarations,t.containsForwardDecls)),t.imports.length>0&&n.set("imports",Zr(t.imports,t.containsForwardDecls)),t.exports.length>0&&n.set("exports",Zr(t.exports,t.containsForwardDecls));else if(t.selectorScopeMode===Sd.SideEffect){let i=HP(t);i!==null&&e.push(i)}t.schemas!==null&&t.schemas.length>0&&n.set("schemas",z(t.schemas.map(i=>i.value))),t.id!==null&&(n.set("id",t.id),e.push(P(p.registerNgModuleType).callFn([t.type.value,t.id]).toStmt()));let s=P(p.defineNgModule).callFn([n.toLiteralMap()],void 0,!0),r=jP(t);return{expression:s,type:r,statements:e}}function $P(t){let e=new or;return e.set("type",new te(t.type)),t.bootstrap!==void 0&&e.set("bootstrap",new te(t.bootstrap)),t.declarations!==void 0&&e.set("declarations",new te(t.declarations)),t.imports!==void 0&&e.set("imports",new te(t.imports)),t.exports!==void 0&&e.set("exports",new te(t.exports)),t.schemas!==void 0&&e.set("schemas",new te(t.schemas)),t.id!==void 0&&e.set("id",new te(t.id)),P(p.defineNgModule).callFn([e.toLiteralMap()])}function jP(t){if(t.kind===nr.Local)return new on(t.type.value);let{type:e,declarations:n,exports:s,imports:r,includeImportTypes:i,publicDeclarationTypes:o}=t;return new on(P(p.NgModuleDeclaration,[new on(e.type),o===null?ig(n):UP(o),i?ig(r):Wn,ig(s)]))}function HP(t){let e=new or;if(t.kind===nr.Global?t.declarations.length>0&&e.set("declarations",Zr(t.declarations,t.containsForwardDecls)):t.declarationsExpression&&e.set("declarations",t.declarationsExpression),t.kind===nr.Global?t.imports.length>0&&e.set("imports",Zr(t.imports,t.containsForwardDecls)):t.importsExpression&&e.set("imports",t.importsExpression),t.kind===nr.Global?t.exports.length>0&&e.set("exports",Zr(t.exports,t.containsForwardDecls)):t.exportsExpression&&e.set("exports",t.exportsExpression),t.kind===nr.Local&&t.bootstrapExpression&&e.set("bootstrap",t.bootstrapExpression),Object.keys(e.values).length===0)return null;let n=new St(P(p.setNgModuleScope),[t.type.value,e.toLiteralMap()]),s=jk(n),r=new ii([],[s.toStmt()]);return new St(r,[]).toStmt()}function ig(t){let e=t.map(n=>Fc(n.type));return t.length>0?ot(z(e)):Wn}function UP(t){let e=t.map(n=>Fc(n));return t.length>0?ot(z(e)):Wn}function w0(t){let e=[];e.push({key:"name",value:w(t.pipeName),quoted:!1}),e.push({key:"type",value:t.type.value,quoted:!1}),e.push({key:"pure",value:w(t.pure),quoted:!1}),t.isStandalone&&e.push({key:"standalone",value:w(!0),quoted:!1});let n=P(p.definePipe).callFn([st(e)],void 0,!0),s=zP(t);return{expression:n,type:s,statements:[]}}function zP(t){return new on(P(p.PipeDeclaration,[sh(t.type.type,t.typeArgumentCount),new on(new tt(t.pipeName)),new on(new tt(t.isStandalone))]))}var lh=function(t){return t[t.Directive=0]="Directive",t[t.Pipe=1]="Pipe",t[t.NgModule=2]="NgModule",t}(lh||{}),wc=class{constructor(e,n,s,r){this.input=n,this.errLocation=s,this.ctxLocation=r,this.message=`Parser Error: ${e} ${s} [${n}] in ${r}`}},pi=class{constructor(e,n){this.start=e,this.end=n}toAbsolute(e){return new zt(e+this.start,e+this.end)}},je=class{constructor(e,n){this.span=e,this.sourceSpan=n}toString(){return"AST"}},Fo=class extends je{constructor(e,n,s){super(e,n),this.nameSpan=s}},ht=class extends je{visit(e,n=null){}},pt=class extends je{visit(e,n=null){return e.visitImplicitReceiver(this,n)}},sr=class extends pt{visit(e,n=null){return e.visitThisReceiver?.(this,n)}},ar=class extends je{constructor(e,n,s){super(e,n),this.expressions=s}visit(e,n=null){return e.visitChain(this,n)}},gi=class extends je{constructor(e,n,s,r,i){super(e,n),this.condition=s,this.trueExp=r,this.falseExp=i}visit(e,n=null){return e.visitConditional(this,n)}},Ke=class extends Fo{constructor(e,n,s,r,i){super(e,n,s),this.receiver=r,this.name=i}visit(e,n=null){return e.visitPropertyRead(this,n)}},Lo=class extends Fo{constructor(e,n,s,r,i,o){super(e,n,s),this.receiver=r,this.name=i,this.value=o}visit(e,n=null){return e.visitPropertyWrite(this,n)}},Bo=class extends Fo{constructor(e,n,s,r,i){super(e,n,s),this.receiver=r,this.name=i}visit(e,n=null){return e.visitSafePropertyRead(this,n)}},bs=class extends je{constructor(e,n,s,r){super(e,n),this.receiver=s,this.key=r}visit(e,n=null){return e.visitKeyedRead(this,n)}},mi=class extends je{constructor(e,n,s,r){super(e,n),this.receiver=s,this.key=r}visit(e,n=null){return e.visitSafeKeyedRead(this,n)}},Vo=class extends je{constructor(e,n,s,r,i){super(e,n),this.receiver=s,this.key=r,this.value=i}visit(e,n=null){return e.visitKeyedWrite(this,n)}},vi=class extends Fo{constructor(e,n,s,r,i,o){super(e,n,o),this.exp=s,this.name=r,this.args=i}visit(e,n=null){return e.visitPipe(this,n)}},ft=class extends je{constructor(e,n,s){super(e,n),this.value=s}visit(e,n=null){return e.visitLiteralPrimitive(this,n)}},yi=class extends je{constructor(e,n,s){super(e,n),this.expressions=s}visit(e,n=null){return e.visitLiteralArray(this,n)}},$o=class extends je{constructor(e,n,s,r){super(e,n),this.keys=s,this.values=r}visit(e,n=null){return e.visitLiteralMap(this,n)}},ze=class extends je{constructor(e,n,s,r){super(e,n),this.strings=s,this.expressions=r}visit(e,n=null){return e.visitInterpolation(this,n)}},At=class extends je{constructor(e,n,s,r,i){super(e,n),this.operation=s,this.left=r,this.right=i}visit(e,n=null){return e.visitBinary(this,n)}},Es=class t extends At{static createMinus(e,n,s){return new t(e,n,"-",s,"-",new ft(e,n,0),s)}static createPlus(e,n,s){return new t(e,n,"+",s,"-",s,new ft(e,n,0))}constructor(e,n,s,r,i,o,a){super(e,n,i,o,a),this.operator=s,this.expr=r,this.left=null,this.right=null,this.operation=null}visit(e,n=null){return e.visitUnary!==void 0?e.visitUnary(this,n):e.visitBinary(this,n)}},wi=class extends je{constructor(e,n,s){super(e,n),this.expression=s}visit(e,n=null){return e.visitPrefixNot(this,n)}},bi=class extends je{constructor(e,n,s){super(e,n),this.expression=s}visit(e,n=null){return e.visitNonNullAssert(this,n)}},Yn=class extends je{constructor(e,n,s,r,i){super(e,n),this.receiver=s,this.args=r,this.argumentSpan=i}visit(e,n=null){return e.visitCall(this,n)}},Ei=class extends je{constructor(e,n,s,r,i){super(e,n),this.receiver=s,this.args=r,this.argumentSpan=i}visit(e,n=null){return e.visitSafeCall(this,n)}},zt=class{constructor(e,n){this.start=e,this.end=n}},kt=class extends je{constructor(e,n,s,r,i){super(new pi(0,n===null?0:n.length),new zt(r,n===null?r:r+n.length)),this.ast=e,this.source=n,this.location=s,this.errors=i}visit(e,n=null){return e.visitASTWithSource?e.visitASTWithSource(this,n):this.ast.visit(e,n)}toString(){return`${this.source} in ${this.location}`}},bc=class{constructor(e,n,s){this.sourceSpan=e,this.key=n,this.value=s}},tm=class{constructor(e,n,s){this.sourceSpan=e,this.key=n,this.value=s}},Dd=class{visit(e,n){e.visit(this,n)}visitUnary(e,n){this.visit(e.expr,n)}visitBinary(e,n){this.visit(e.left,n),this.visit(e.right,n)}visitChain(e,n){this.visitAll(e.expressions,n)}visitConditional(e,n){this.visit(e.condition,n),this.visit(e.trueExp,n),this.visit(e.falseExp,n)}visitPipe(e,n){this.visit(e.exp,n),this.visitAll(e.args,n)}visitImplicitReceiver(e,n){}visitThisReceiver(e,n){}visitInterpolation(e,n){this.visitAll(e.expressions,n)}visitKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitKeyedWrite(e,n){this.visit(e.receiver,n),this.visit(e.key,n),this.visit(e.value,n)}visitLiteralArray(e,n){this.visitAll(e.expressions,n)}visitLiteralMap(e,n){this.visitAll(e.values,n)}visitLiteralPrimitive(e,n){}visitPrefixNot(e,n){this.visit(e.expression,n)}visitNonNullAssert(e,n){this.visit(e.expression,n)}visitPropertyRead(e,n){this.visit(e.receiver,n)}visitPropertyWrite(e,n){this.visit(e.receiver,n),this.visit(e.value,n)}visitSafePropertyRead(e,n){this.visit(e.receiver,n)}visitSafeKeyedRead(e,n){this.visit(e.receiver,n),this.visit(e.key,n)}visitCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitSafeCall(e,n){this.visit(e.receiver,n),this.visitAll(e.args,n)}visitAll(e,n){for(let s of e)this.visit(s,n)}},nm=class{visitImplicitReceiver(e,n){return e}visitThisReceiver(e,n){return e}visitInterpolation(e,n){return new ze(e.span,e.sourceSpan,e.strings,this.visitAll(e.expressions))}visitLiteralPrimitive(e,n){return new ft(e.span,e.sourceSpan,e.value)}visitPropertyRead(e,n){return new Ke(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitPropertyWrite(e,n){return new Lo(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name,e.value.visit(this))}visitSafePropertyRead(e,n){return new Bo(e.span,e.sourceSpan,e.nameSpan,e.receiver.visit(this),e.name)}visitLiteralArray(e,n){return new yi(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitLiteralMap(e,n){return new $o(e.span,e.sourceSpan,e.keys,this.visitAll(e.values))}visitUnary(e,n){switch(e.operator){case"+":return Es.createPlus(e.span,e.sourceSpan,e.expr.visit(this));case"-":return Es.createMinus(e.span,e.sourceSpan,e.expr.visit(this));default:throw new Error(`Unknown unary operator ${e.operator}`)}}visitBinary(e,n){return new At(e.span,e.sourceSpan,e.operation,e.left.visit(this),e.right.visit(this))}visitPrefixNot(e,n){return new wi(e.span,e.sourceSpan,e.expression.visit(this))}visitNonNullAssert(e,n){return new bi(e.span,e.sourceSpan,e.expression.visit(this))}visitConditional(e,n){return new gi(e.span,e.sourceSpan,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}visitPipe(e,n){return new vi(e.span,e.sourceSpan,e.exp.visit(this),e.name,this.visitAll(e.args),e.nameSpan)}visitKeyedRead(e,n){return new bs(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this))}visitKeyedWrite(e,n){return new Vo(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this),e.value.visit(this))}visitCall(e,n){return new Yn(e.span,e.sourceSpan,e.receiver.visit(this),this.visitAll(e.args),e.argumentSpan)}visitSafeCall(e,n){return new Ei(e.span,e.sourceSpan,e.receiver.visit(this),this.visitAll(e.args),e.argumentSpan)}visitAll(e){let n=[];for(let s=0;s<e.length;++s)n[s]=e[s].visit(this);return n}visitChain(e,n){return new ar(e.span,e.sourceSpan,this.visitAll(e.expressions))}visitSafeKeyedRead(e,n){return new mi(e.span,e.sourceSpan,e.receiver.visit(this),e.key.visit(this))}},sm=class{visitImplicitReceiver(e,n){return e}visitThisReceiver(e,n){return e}visitInterpolation(e,n){let s=this.visitAll(e.expressions);return s!==e.expressions?new ze(e.span,e.sourceSpan,e.strings,s):e}visitLiteralPrimitive(e,n){return e}visitPropertyRead(e,n){let s=e.receiver.visit(this);return s!==e.receiver?new Ke(e.span,e.sourceSpan,e.nameSpan,s,e.name):e}visitPropertyWrite(e,n){let s=e.receiver.visit(this),r=e.value.visit(this);return s!==e.receiver||r!==e.value?new Lo(e.span,e.sourceSpan,e.nameSpan,s,e.name,r):e}visitSafePropertyRead(e,n){let s=e.receiver.visit(this);return s!==e.receiver?new Bo(e.span,e.sourceSpan,e.nameSpan,s,e.name):e}visitLiteralArray(e,n){let s=this.visitAll(e.expressions);return s!==e.expressions?new yi(e.span,e.sourceSpan,s):e}visitLiteralMap(e,n){let s=this.visitAll(e.values);return s!==e.values?new $o(e.span,e.sourceSpan,e.keys,s):e}visitUnary(e,n){let s=e.expr.visit(this);if(s!==e.expr)switch(e.operator){case"+":return Es.createPlus(e.span,e.sourceSpan,s);case"-":return Es.createMinus(e.span,e.sourceSpan,s);default:throw new Error(`Unknown unary operator ${e.operator}`)}return e}visitBinary(e,n){let s=e.left.visit(this),r=e.right.visit(this);return s!==e.left||r!==e.right?new At(e.span,e.sourceSpan,e.operation,s,r):e}visitPrefixNot(e,n){let s=e.expression.visit(this);return s!==e.expression?new wi(e.span,e.sourceSpan,s):e}visitNonNullAssert(e,n){let s=e.expression.visit(this);return s!==e.expression?new bi(e.span,e.sourceSpan,s):e}visitConditional(e,n){let s=e.condition.visit(this),r=e.trueExp.visit(this),i=e.falseExp.visit(this);return s!==e.condition||r!==e.trueExp||i!==e.falseExp?new gi(e.span,e.sourceSpan,s,r,i):e}visitPipe(e,n){let s=e.exp.visit(this),r=this.visitAll(e.args);return s!==e.exp||r!==e.args?new vi(e.span,e.sourceSpan,s,e.name,r,e.nameSpan):e}visitKeyedRead(e,n){let s=e.receiver.visit(this),r=e.key.visit(this);return s!==e.receiver||r!==e.key?new bs(e.span,e.sourceSpan,s,r):e}visitKeyedWrite(e,n){let s=e.receiver.visit(this),r=e.key.visit(this),i=e.value.visit(this);return s!==e.receiver||r!==e.key||i!==e.value?new Vo(e.span,e.sourceSpan,s,r,i):e}visitAll(e){let n=[],s=!1;for(let r=0;r<e.length;++r){let i=e[r],o=i.visit(this);n[r]=o,s=s||o!==i}return s?n:e}visitChain(e,n){let s=this.visitAll(e.expressions);return s!==e.expressions?new ar(e.span,e.sourceSpan,s):e}visitCall(e,n){let s=e.receiver.visit(this),r=this.visitAll(e.args);return s!==e.receiver||r!==e.args?new Yn(e.span,e.sourceSpan,s,r,e.argumentSpan):e}visitSafeCall(e,n){let s=e.receiver.visit(this),r=this.visitAll(e.args);return s!==e.receiver||r!==e.args?new Ei(e.span,e.sourceSpan,s,r,e.argumentSpan):e}visitSafeKeyedRead(e,n){let s=e.receiver.visit(this),r=e.key.visit(this);return s!==e.receiver||r!==e.key?new mi(e.span,e.sourceSpan,s,r):e}},Za=class{constructor(e,n,s,r,i,o){this.name=e,this.expression=n,this.type=s,this.sourceSpan=r,this.keySpan=i,this.valueSpan=o,this.isLiteral=this.type===er.LITERAL_ATTR,this.isAnimation=this.type===er.ANIMATION}},er=function(t){return t[t.DEFAULT=0]="DEFAULT",t[t.LITERAL_ATTR=1]="LITERAL_ATTR",t[t.ANIMATION=2]="ANIMATION",t[t.TWO_WAY=3]="TWO_WAY",t}(er||{}),_d=class{constructor(e,n,s,r,i,o,a){this.name=e,this.targetOrPhase=n,this.type=s,this.handler=r,this.sourceSpan=i,this.handlerSpan=o,this.keySpan=a}},rm=class{constructor(e,n,s,r,i){this.name=e,this.value=n,this.sourceSpan=s,this.keySpan=r,this.valueSpan=i}},Id=class{constructor(e,n,s,r,i,o,a,c){this.name=e,this.type=n,this.securityContext=s,this.value=r,this.unit=i,this.sourceSpan=o,this.keySpan=a,this.valueSpan=c}},Vv=class Vv{};Vv.event=L("$event");var cr=Vv;function WP(t,e,n,s,r,i,o){t??=new Ec(o);let a=new xi(t,e,s,!1,r,i),c=[];uh(MS(n).visit(a,fe.Statement),c),kS(a.temporaryCount,s,c),a.usesImplicitReceiver&&t.notifyImplicitReceiverUse();let l=c.length-1;if(l>=0){let u=c[l];u instanceof nt&&(c[l]=new qe(u.expr))}return c}function qP(t,e,n,s,r,i,o){t??=new Ec(o);let a=new xi(t,e,s,!1,r,i),c=MS(n).visit(a,fe.Statement);if(!(c instanceof nt))throw new Error("Illegal state: unsupported expression in two-way action binding.");c=GP(c.expr).toStmt();let l=[];return uh(c,l),kS(a.temporaryCount,s,l),l.push(new qe(cr.event)),i?.add(cr.event.name),a.usesImplicitReceiver&&t.notifyImplicitReceiverUse(),l}function Nu(t){return new gs(p.twoWayBindingSet).callFn([t,cr.event]).or(t.set(cr.event))}function ku(t){return t instanceof Dt||t instanceof qn}function GP(t){if(ku(t))return Nu(t);if(t instanceof ee&&ku(t.rhs))return new ee(t.operator,t.lhs,Nu(t.rhs));if(t instanceof Yt&&ku(t.falseCase))return new Yt(t.condition,t.trueCase,Nu(t.falseCase));if(t instanceof ms){let e=t.condition;for(;;)if(e instanceof ms)e=e.condition;else{if(ku(e))return Nu(e);break}}throw new Error("Illegal state: unsupported expression in two-way action binding.")}function IS(t,e){return QP(t,e)}var im=class{constructor(e,n){this.stmts=e,this.currValExpr=n}};function TS(t,e,n,s){t||(t=new Ec);let r=new xi(t,e,s,!1),i=n.visit(r,fe.Expression),o=AS(r,s);return r.usesImplicitReceiver&&t.notifyImplicitReceiverUse(),new im(o,i)}function YP(t,e,n,s){let r=IS({createLiteralArrayConverter:()=>a=>z(a),createLiteralMapConverter:a=>c=>st(a.map((l,u)=>({key:l.key,value:c[u],quoted:l.quoted}))),createPipeConverter:()=>{throw new Error("Illegal State: Pipes are not allowed in this context")}},t),i=new xi(e,n,s,!1),o=[];return uh(r.visit(i,fe.Statement),o),o}function XP(t,e,n,s){let r=new xi(t,e,s,!0),i=r.visitInterpolation(n,fe.Expression);r.usesImplicitReceiver&&t.notifyImplicitReceiverUse();let o=AS(r,s),a=i.args;return{stmts:o,args:a}}function AS(t,e){let n=[];for(let s=0;s<t.temporaryCount;s++)n.push(NS(e,s));return n}function QP(t,e){let n=new am(t);return e.visit(n)}function MS(t){return IS({createLiteralArrayConverter:()=>n=>z(n),createLiteralMapConverter:n=>s=>{let r=n.map((i,o)=>({key:i.key,value:s[o],quoted:i.quoted}));return st(r)},createPipeConverter:n=>{throw new Error(`Illegal State: Actions are not allowed to contain pipes. Pipe: ${n}`)}},t)}function om(t,e){return`tmp_${t}_${e}`}function NS(t,e){return new vt(om(t,e))}function kS(t,e,n){for(let s=t-1;s>=0;s--)n.unshift(NS(e,s))}var fe=function(t){return t[t.Statement=0]="Statement",t[t.Expression=1]="Expression",t}(fe||{});function ZP(t,e){if(t!==fe.Statement)throw new Error(`Expected a statement, but saw ${e}`)}function b0(t,e){if(t!==fe.Expression)throw new Error(`Expected an expression, but saw ${e}`)}function wt(t,e){return t===fe.Statement?e.toStmt():e}var am=class extends nm{constructor(e){super(),this._converterFactory=e}visitPipe(e,n){let s=[e.exp,...e.args].map(r=>r.visit(this,n));return new rr(e.span,e.sourceSpan,s,this._converterFactory.createPipeConverter(e.name,s.length))}visitLiteralArray(e,n){let s=e.expressions.map(r=>r.visit(this,n));return new rr(e.span,e.sourceSpan,s,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}visitLiteralMap(e,n){let s=e.values.map(r=>r.visit(this,n));return new rr(e.span,e.sourceSpan,s,this._converterFactory.createLiteralMapConverter(e.keys))}},xi=class{constructor(e,n,s,r,i,o){this._localResolver=e,this._implicitReceiver=n,this.bindingId=s,this.supportsInterpolation=r,this.baseSourceSpan=i,this.implicitReceiverAccesses=o,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0,this.usesImplicitReceiver=!1}visitUnary(e,n){let s;switch(e.operator){case"+":s=ri.Plus;break;case"-":s=ri.Minus;break;default:throw new Error(`Unsupported operator ${e.operator}`)}return wt(n,new ai(s,this._visit(e.expr,fe.Expression),void 0,this.convertSourceSpan(e.span)))}visitBinary(e,n){let s;switch(e.operation){case"+":s=R.Plus;break;case"-":s=R.Minus;break;case"*":s=R.Multiply;break;case"/":s=R.Divide;break;case"%":s=R.Modulo;break;case"&&":s=R.And;break;case"||":s=R.Or;break;case"==":s=R.Equals;break;case"!=":s=R.NotEquals;break;case"===":s=R.Identical;break;case"!==":s=R.NotIdentical;break;case"<":s=R.Lower;break;case">":s=R.Bigger;break;case"<=":s=R.LowerEquals;break;case">=":s=R.BiggerEquals;break;case"??":return this.convertNullishCoalesce(e,n);default:throw new Error(`Unsupported operation ${e.operation}`)}return wt(n,new ee(s,this._visit(e.left,fe.Expression),this._visit(e.right,fe.Expression),void 0,this.convertSourceSpan(e.span)))}visitChain(e,n){return ZP(n,e),this.visitAll(e.expressions,n)}visitConditional(e,n){let s=this._visit(e.condition,fe.Expression);return wt(n,s.conditional(this._visit(e.trueExp,fe.Expression),this._visit(e.falseExp,fe.Expression),this.convertSourceSpan(e.span)))}visitPipe(e,n){throw new Error(`Illegal state: Pipes should have been converted into functions. Pipe: ${e.name}`)}visitImplicitReceiver(e,n){return b0(n,e),this.usesImplicitReceiver=!0,this._implicitReceiver}visitThisReceiver(e,n){return this.visitImplicitReceiver(e,n)}visitInterpolation(e,n){if(!this.supportsInterpolation)throw new Error("Unexpected interpolation");b0(n,e);let s=[];for(let i=0;i<e.strings.length-1;i++)s.push(w(e.strings[i])),s.push(this._visit(e.expressions[i],fe.Expression));s.push(w(e.strings[e.strings.length-1]));let r=e.strings;return r.length===2&&r[0]===""&&r[1]===""?s=[s[1]]:e.expressions.length>=9&&(s=[z(s)]),new cm(s)}visitKeyedRead(e,n){let s=this.leftMostSafeNode(e);return s?this.convertSafeAccess(e,s,n):wt(n,this._visit(e.receiver,fe.Expression).key(this._visit(e.key,fe.Expression)))}visitKeyedWrite(e,n){let s=this._visit(e.receiver,fe.Expression),r=this._visit(e.key,fe.Expression),i=this._visit(e.value,fe.Expression);return s===this._implicitReceiver&&this._localResolver.maybeRestoreView(),wt(n,s.key(r).set(i))}visitLiteralArray(e,n){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(e,n){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(e,n){let s=e.value===null||e.value===void 0||e.value===!0||e.value===!0?xt:void 0;return wt(n,w(e.value,s,this.convertSourceSpan(e.span)))}_getLocal(e,n){return this._localResolver.globals?.has(e)&&n instanceof sr?null:this._localResolver.getLocal(e)}visitPrefixNot(e,n){return wt(n,JC(this._visit(e.expression,fe.Expression)))}visitNonNullAssert(e,n){return wt(n,this._visit(e.expression,fe.Expression))}visitPropertyRead(e,n){let s=this.leftMostSafeNode(e);if(s)return this.convertSafeAccess(e,s,n);{let r=null,i=this.usesImplicitReceiver,o=this._visit(e.receiver,fe.Expression);return o===this._implicitReceiver&&(r=this._getLocal(e.name,e.receiver),r&&(this.usesImplicitReceiver=i,this.addImplicitReceiverAccess(e.name))),r==null&&(r=o.prop(e.name,this.convertSourceSpan(e.span))),wt(n,r)}}visitPropertyWrite(e,n){let s=this._visit(e.receiver,fe.Expression),r=this.usesImplicitReceiver,i=null;if(s===this._implicitReceiver){let o=this._getLocal(e.name,e.receiver);if(o)if(o instanceof Dt)i=o,this.usesImplicitReceiver=r,this.addImplicitReceiverAccess(e.name);else{let a=e.name,c=e.value instanceof Ke?e.value.name:void 0;throw new Error(`Cannot assign value "${c}" to template variable "${a}". Template variables are read-only.`)}}return i===null&&(i=s.prop(e.name,this.convertSourceSpan(e.span))),wt(n,i.set(this._visit(e.value,fe.Expression)))}visitSafePropertyRead(e,n){return this.convertSafeAccess(e,this.leftMostSafeNode(e),n)}visitSafeKeyedRead(e,n){return this.convertSafeAccess(e,this.leftMostSafeNode(e),n)}visitAll(e,n){return e.map(s=>this._visit(s,n))}visitCall(e,n){let s=this.leftMostSafeNode(e);if(s)return this.convertSafeAccess(e,s,n);let r=this.visitAll(e.args,fe.Expression);if(e instanceof rr)return wt(n,e.converter(r));let i=e.receiver;if(i instanceof Ke&&i.receiver instanceof pt&&!(i.receiver instanceof sr)&&i.name==="$any"){if(r.length!==1)throw new Error(`Invalid call to $any, expected 1 argument but received ${r.length||"none"}`);return wt(n,r[0])}let o=this._visit(i,fe.Expression).callFn(r,this.convertSourceSpan(e.span));return wt(n,o)}visitSafeCall(e,n){return this.convertSafeAccess(e,this.leftMostSafeNode(e),n)}_visit(e,n){let s=this._resultMap.get(e);return s||(this._nodeMap.get(e)||e).visit(this,n)}convertSafeAccess(e,n,s){let r=this._visit(n.receiver,fe.Expression),i;this.needsTemporaryInSafeAccess(n.receiver)&&(i=this.allocateTemporary(),r=i.set(r),this._resultMap.set(n.receiver,i));let o=r.isBlank();n instanceof Ei?this._nodeMap.set(n,new Yn(n.span,n.sourceSpan,n.receiver,n.args,n.argumentSpan)):n instanceof mi?this._nodeMap.set(n,new bs(n.span,n.sourceSpan,n.receiver,n.key)):this._nodeMap.set(n,new Ke(n.span,n.sourceSpan,n.nameSpan,n.receiver,n.name));let a=this._visit(e,fe.Expression);return this._nodeMap.delete(n),i&&this.releaseTemporary(i),wt(s,o.conditional(ci,a))}convertNullishCoalesce(e,n){let s=this._visit(e.left,fe.Expression),r=this._visit(e.right,fe.Expression),i=this.allocateTemporary();return this.releaseTemporary(i),wt(n,i.set(s).notIdentical(ci).and(i.notIdentical(w(void 0))).conditional(i,r))}leftMostSafeNode(e){let n=(s,r)=>(this._nodeMap.get(r)||r).visit(s);return e.visit({visitUnary(s){return null},visitBinary(s){return null},visitChain(s){return null},visitConditional(s){return null},visitCall(s){return n(this,s.receiver)},visitSafeCall(s){return n(this,s.receiver)||s},visitImplicitReceiver(s){return null},visitThisReceiver(s){return null},visitInterpolation(s){return null},visitKeyedRead(s){return n(this,s.receiver)},visitKeyedWrite(s){return null},visitLiteralArray(s){return null},visitLiteralMap(s){return null},visitLiteralPrimitive(s){return null},visitPipe(s){return null},visitPrefixNot(s){return null},visitNonNullAssert(s){return n(this,s.expression)},visitPropertyRead(s){return n(this,s.receiver)},visitPropertyWrite(s){return null},visitSafePropertyRead(s){return n(this,s.receiver)||s},visitSafeKeyedRead(s){return n(this,s.receiver)||s}})}needsTemporaryInSafeAccess(e){let n=(r,i)=>i&&(this._nodeMap.get(i)||i).visit(r),s=(r,i)=>i.some(o=>n(r,o));return e.visit({visitUnary(r){return n(this,r.expr)},visitBinary(r){return n(this,r.left)||n(this,r.right)},visitChain(r){return!1},visitConditional(r){return n(this,r.condition)||n(this,r.trueExp)||n(this,r.falseExp)},visitCall(r){return!0},visitSafeCall(r){return!0},visitImplicitReceiver(r){return!1},visitThisReceiver(r){return!1},visitInterpolation(r){return s(this,r.expressions)},visitKeyedRead(r){return!1},visitKeyedWrite(r){return!1},visitLiteralArray(r){return!0},visitLiteralMap(r){return!0},visitLiteralPrimitive(r){return!1},visitPipe(r){return!0},visitPrefixNot(r){return n(this,r.expression)},visitNonNullAssert(r){return n(this,r.expression)},visitPropertyRead(r){return!1},visitPropertyWrite(r){return!1},visitSafePropertyRead(r){return!1},visitSafeKeyedRead(r){return!1}})}allocateTemporary(){let e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new Gt(om(this.bindingId,e))}releaseTemporary(e){if(this._currentTemporary--,e.name!=om(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${e.name} released out of order`)}convertSourceSpan(e){if(this.baseSourceSpan){let n=this.baseSourceSpan.start.moveBy(e.start),s=this.baseSourceSpan.start.moveBy(e.end),r=this.baseSourceSpan.fullStart.moveBy(e.start);return new X(n,s,r)}else return null}addImplicitReceiverAccess(e){this.implicitReceiverAccesses&&this.implicitReceiverAccesses.add(e)}};function uh(t,e){Array.isArray(t)?t.forEach(n=>uh(n,e)):e.push(t)}function Pu(){throw new Error("Unsupported operation")}var cm=class extends pe{constructor(e){super(null,null),this.args=e,this.isConstant=Pu,this.isEquivalent=Pu,this.visitExpression=Pu,this.clone=Pu}},Ec=class{constructor(e){this.globals=e}notifyImplicitReceiverUse(){}maybeRestoreView(){}getLocal(e){return e===cr.event.name?cr.event:null}},rr=class extends Yn{constructor(e,n,s,r){super(e,n,new ht(e,n),s,null),this.converter=r}},Uu;function E0(){return Uu||(Uu={},Ru(ne.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Ru(ne.STYLE,["*|style"]),Ru(ne.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","input|src","ins|cite","q|cite","source|src","track|src","video|poster","video|src"]),Ru(ne.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),Uu}function Ru(t,e){for(let n of e)Uu[n.toLowerCase()]=t}var KP=new Set(["sandbox","allow","allowfullscreen","referrerpolicy","csp","fetchpriority"]);function _v(t){return KP.has(t.toLowerCase())}var JP=new Set(["inherit","initial","revert","unset","alternate","alternate-reverse","normal","reverse","backwards","both","forwards","none","paused","running","ease","ease-in","ease-in-out","ease-out","linear","step-start","step-end","end","jump-both","jump-end","jump-none","jump-start","start"]),eR=["@media","@supports","@document","@layer","@container","@scope","@starting-style"],lm=class{constructor(){this._animationDeclarationKeyframesRe=/(^|\s+)(?:(?:(['"])((?:\\\\|\\\2|(?!\2).)+)\2)|(-?[A-Za-z][\w\-]*))(?=[,\s]|$)/g}shimCssText(e,n,s=""){let r=[];e=e.replace(dR,a=>{if(a.match(hR))r.push(a);else{let c=a.match(uR);r.push((c?.join("")??"")+`
`)}return Av}),e=this._insertDirectives(e);let i=this._scopeCssText(e,n,s),o=0;return i.replace(fR,()=>r[o++])}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_scopeKeyframesRelatedCss(e,n){let s=new Set,r=Ou(e,i=>this._scopeLocalKeyframeDeclarations(i,n,s));return Ou(r,i=>this._scopeAnimationRule(i,n,s))}_scopeLocalKeyframeDeclarations(e,n,s){return me(_({},e),{selector:e.selector.replace(/(^@(?:-webkit-)?keyframes(?:\s+))(['"]?)(.+)\2(\s*)$/,(r,i,o,a,c)=>(s.add(D0(a,o)),`${i}${o}${n}_${a}${o}${c}`))})}_scopeAnimationKeyframe(e,n,s){return e.replace(/^(\s*)(['"]?)(.+?)\2(\s*)$/,(r,i,o,a,c)=>(a=`${s.has(D0(a,o))?n+"_":""}${a}`,`${i}${o}${a}${o}${c}`))}_scopeAnimationRule(e,n,s){let r=e.content.replace(/((?:^|\s+|;)(?:-webkit-)?animation(?:\s*):(?:\s*))([^;]+)/g,(i,o,a)=>o+a.replace(this._animationDeclarationKeyframesRe,(c,l,u="",d,h)=>d?`${l}${this._scopeAnimationKeyframe(`${u}${d}${u}`,n,s)}`:JP.has(h)?c:`${l}${this._scopeAnimationKeyframe(h,n,s)}`));return r=r.replace(/((?:^|\s+|;)(?:-webkit-)?animation-name(?:\s*):(?:\s*))([^;]+)/g,(i,o,a)=>`${o}${a.split(",").map(c=>this._scopeAnimationKeyframe(c,n,s)).join(",")}`),me(_({},e),{content:r})}_insertPolyfillDirectivesInCssText(e){return e.replace(tR,function(...n){return n[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(nR,(...n)=>{let s=n[0].replace(n[1],"").replace(n[2],"");return n[4]+s})}_scopeCssText(e,n,s){let r=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),n&&(e=this._scopeKeyframesRelatedCss(e,n),e=this._scopeSelectors(e,n,s)),e=e+`
`+r,e.trim()}_extractUnscopedRulesFromCssText(e){let n="",s;for(x0.lastIndex=0;(s=x0.exec(e))!==null;){let r=s[0].replace(s[2],"").replace(s[1],s[4]);n+=r+`

`}return n}_convertColonHost(e){return e.replace(sR,(n,s,r)=>{if(s){let i=[],o=s.split(",").map(a=>a.trim());for(let a of o){if(!a)break;let c=qr+a.replace(Td,"")+r;i.push(c)}return i.join(",")}else return qr+r})}_convertColonHostContext(e){return e.replace(rR,n=>{let s=[[]],r;for(;r=iR.exec(n);){let i=(r[1]??"").trim().split(",").map(a=>a.trim()).filter(a=>a!==""),o=s.length;SR(s,i.length);for(let a=0;a<i.length;a++)for(let c=0;c<o;c++)s[c+a*o].push(i[a]);n=r[2]}return s.map(i=>CR(i,n)).join(", ")})}_convertShadowDOMSelectors(e){return oR.reduce((n,s)=>n.replace(s," "),e)}_scopeSelectors(e,n,s){return Ou(e,r=>{let i=r.selector,o=r.content;return r.selector[0]!=="@"?i=this._scopeSelector(r.selector,n,s):eR.some(a=>r.selector.startsWith(a))?o=this._scopeSelectors(r.content,n,s):(r.selector.startsWith("@font-face")||r.selector.startsWith("@page"))&&(o=this._stripScopingSelectors(r.content)),new xc(i,o)})}_stripScopingSelectors(e){return Ou(e,n=>{let s=n.selector.replace(S0," ").replace(C0," ");return new xc(s,n.content)})}_scopeSelector(e,n,s){return e.split(",").map(r=>r.trim().split(S0)).map(r=>{let[i,...o]=r;return[(c=>this._selectorNeedsScoping(c,n)?this._applySelectorScope(c,n,s):c)(i),...o].join(" ")}).join(", ")}_selectorNeedsScoping(e,n){return!this._makeScopeMatcher(n).test(e)}_makeScopeMatcher(e){let n=/\[/g,s=/\]/g;return e=e.replace(n,"\\[").replace(s,"\\]"),new RegExp("^("+e+")"+aR,"m")}_applySimpleSelectorScope(e,n,s){if(xo.lastIndex=0,xo.test(e)){let r=`[${s}]`;return e.replace(C0,(i,o)=>o.replace(/([^:]*)(:*)(.*)/,(a,c,l,u)=>c+r+l+u)).replace(xo,r+" ")}return n+" "+e}_applySelectorScope(e,n,s){let r=/\[is=([^\]]*)\]/g;n=n.replace(r,(y,...v)=>v[0]);let i="["+n+"]",o=y=>{let v=y.trim();if(!v)return"";if(y.indexOf(qr)>-1)v=this._applySimpleSelectorScope(y,n,s);else{let b=y.replace(xo,"");if(b.length>0){let x=b.match(/([^:]*)(:*)(.*)/);x&&(v=x[1]+i+x[2]+x[3])}}return v},a=new um(e);e=a.content();let c="",l=0,u,d=/( |>|\+|~(?!=))\s*/g,f=!(e.indexOf(qr)>-1);for(;(u=d.exec(e))!==null;){let y=u[1],v=e.slice(l,u.index).trim();if(v.match(/__esc-ph-(\d+)__/)&&e[u.index+1]?.match(/[a-fA-F\d]/))continue;f=f||v.indexOf(qr)>-1;let b=f?o(v):v;c+=`${b} ${y} `,l=d.lastIndex}let g=e.substring(l);return f=f||g.indexOf(qr)>-1,c+=f?o(g):g,a.restore(c)}_insertPolyfillHostInCssText(e){return e.replace(lR,Iv).replace(cR,Td)}},um=class{constructor(e){this.placeholders=[],this.index=0,e=this._escapeRegexMatches(e,/(\[[^\]]*\])/g),e=e.replace(/(\\.)/g,(n,s)=>{let r=`__esc-ph-${this.index}__`;return this.placeholders.push(s),this.index++,r}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(n,s,r)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,s+i})}restore(e){return e.replace(/__(?:ph|esc-ph)-(\d+)__/g,(n,s)=>this.placeholders[+s])}content(){return this._content}_escapeRegexMatches(e,n){return e.replace(n,(s,r)=>{let i=`__ph-${this.index}__`;return this.placeholders.push(r),this.index++,i})}},tR=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,nR=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,x0=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Td="-shadowcsshost",Iv="-shadowcsscontext",Tv="(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",sR=new RegExp(Td+Tv,"gim"),rR=new RegExp(Iv+Tv,"gim"),iR=new RegExp(Iv+Tv,"im"),qr=Td+"-no-combinator",C0=/-shadowcsshost-no-combinator([^\s]*)/,oR=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],S0=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,aR="([>\\s~+[.,{:][\\s\\S]*)?$",xo=/-shadowcsshost/gim,cR=/:host/gim,lR=/:host-context/gim,uR=/\r?\n/g,dR=/\/\*[\s\S]*?\*\//g,hR=/\/\*\s*#\s*source(Mapping)?URL=/g,Av="%COMMENT%",fR=new RegExp(Av,"g"),og="%BLOCK%",pR=new RegExp(`(\\s*(?:${Av}\\s*)*)([^;\\{\\}]+?)(\\s*)((?:{%BLOCK%}?\\s*;?)|(?:\\s*;))`,"g"),gR=new Map([["{","}"]]),PS="%COMMA_IN_PLACEHOLDER%",RS="%SEMI_IN_PLACEHOLDER%",OS="%COLON_IN_PLACEHOLDER%",mR=new RegExp(PS,"g"),vR=new RegExp(RS,"g"),yR=new RegExp(OS,"g"),xc=class{constructor(e,n){this.selector=e,this.content=n}};function Ou(t,e){let n=ER(t),s=wR(n,gR,og),r=0,i=s.escapedString.replace(pR,(...o)=>{let a=o[2],c="",l=o[4],u="";l&&l.startsWith("{"+og)&&(c=s.blocks[r++],l=l.substring(og.length+1),u="{");let d=e(new xc(a,c));return`${o[1]}${d.selector}${o[3]}${u}${d.content}${l}`});return xR(i)}var dm=class{constructor(e,n){this.escapedString=e,this.blocks=n}};function wR(t,e,n){let s=[],r=[],i=0,o=0,a=-1,c,l;for(let u=0;u<t.length;u++){let d=t[u];d==="\\"?u++:d===l?(i--,i===0&&(r.push(t.substring(a,u)),s.push(n),o=u,a=-1,c=l=void 0)):d===c?i++:i===0&&e.has(d)&&(c=d,l=e.get(d),i=1,a=u+1,s.push(t.substring(o,a)))}return a!==-1?(r.push(t.substring(a)),s.push(n)):s.push(t.substring(o)),new dm(s.join(""),r)}var bR={";":RS,",":PS,":":OS};function ER(t){let e=t,n=null;for(let s=0;s<e.length;s++){let r=e[s];if(r==="\\")s++;else if(n!==null)if(r===n)n=null;else{let i=bR[r];i&&(e=`${e.substr(0,s)}${i}${e.substr(s+1)}`,s+=i.length-1)}else(r==="'"||r==='"')&&(n=r)}return e}function xR(t){let e=t.replace(mR,",");return e=e.replace(vR,";"),e=e.replace(yR,":"),e}function D0(t,e){return e?t.replace(/((?:^|[^\\])(?:\\\\)*)\\(?=['"])/g,"$1"):t}function CR(t,e){let n=qr;xo.lastIndex=0;let s=xo.test(e);if(t.length===0)return n+e;let r=[t.pop()||""];for(;t.length>0;){let i=r.length,o=t.pop();for(let a=0;a<i;a++){let c=r[a];r[i*2+a]=c+" "+o,r[i+a]=o+" "+c,r[a]=o+c}}return r.map(i=>s?`${i}${e}`:`${i}${n}${e}, ${i} ${n}${e}`).join(",")}function SR(t,e){let n=t.length;for(let s=1;s<e;s++)for(let r=0;r<n;r++)t[r+s*n]=t[r].slice(0)}var m=function(t){return t[t.ListEnd=0]="ListEnd",t[t.Statement=1]="Statement",t[t.Variable=2]="Variable",t[t.ElementStart=3]="ElementStart",t[t.Element=4]="Element",t[t.Template=5]="Template",t[t.ElementEnd=6]="ElementEnd",t[t.ContainerStart=7]="ContainerStart",t[t.Container=8]="Container",t[t.ContainerEnd=9]="ContainerEnd",t[t.DisableBindings=10]="DisableBindings",t[t.Conditional=11]="Conditional",t[t.EnableBindings=12]="EnableBindings",t[t.Text=13]="Text",t[t.Listener=14]="Listener",t[t.InterpolateText=15]="InterpolateText",t[t.Binding=16]="Binding",t[t.Property=17]="Property",t[t.StyleProp=18]="StyleProp",t[t.ClassProp=19]="ClassProp",t[t.StyleMap=20]="StyleMap",t[t.ClassMap=21]="ClassMap",t[t.Advance=22]="Advance",t[t.Pipe=23]="Pipe",t[t.Attribute=24]="Attribute",t[t.ExtractedAttribute=25]="ExtractedAttribute",t[t.Defer=26]="Defer",t[t.DeferOn=27]="DeferOn",t[t.DeferWhen=28]="DeferWhen",t[t.I18nMessage=29]="I18nMessage",t[t.HostProperty=30]="HostProperty",t[t.Namespace=31]="Namespace",t[t.ProjectionDef=32]="ProjectionDef",t[t.Projection=33]="Projection",t[t.RepeaterCreate=34]="RepeaterCreate",t[t.Repeater=35]="Repeater",t[t.TwoWayProperty=36]="TwoWayProperty",t[t.TwoWayListener=37]="TwoWayListener",t[t.I18nStart=38]="I18nStart",t[t.I18n=39]="I18n",t[t.I18nEnd=40]="I18nEnd",t[t.I18nExpression=41]="I18nExpression",t[t.I18nApply=42]="I18nApply",t[t.IcuStart=43]="IcuStart",t[t.IcuEnd=44]="IcuEnd",t[t.IcuPlaceholder=45]="IcuPlaceholder",t[t.I18nContext=46]="I18nContext",t[t.I18nAttributes=47]="I18nAttributes",t}(m||{}),j=function(t){return t[t.LexicalRead=0]="LexicalRead",t[t.Context=1]="Context",t[t.TrackContext=2]="TrackContext",t[t.ReadVariable=3]="ReadVariable",t[t.NextContext=4]="NextContext",t[t.Reference=5]="Reference",t[t.GetCurrentView=6]="GetCurrentView",t[t.RestoreView=7]="RestoreView",t[t.ResetView=8]="ResetView",t[t.PureFunctionExpr=9]="PureFunctionExpr",t[t.PureFunctionParameterExpr=10]="PureFunctionParameterExpr",t[t.PipeBinding=11]="PipeBinding",t[t.PipeBindingVariadic=12]="PipeBindingVariadic",t[t.SafePropertyRead=13]="SafePropertyRead",t[t.SafeKeyedRead=14]="SafeKeyedRead",t[t.SafeInvokeFunction=15]="SafeInvokeFunction",t[t.SafeTernaryExpr=16]="SafeTernaryExpr",t[t.EmptyExpr=17]="EmptyExpr",t[t.AssignTemporaryExpr=18]="AssignTemporaryExpr",t[t.ReadTemporaryExpr=19]="ReadTemporaryExpr",t[t.SlotLiteralExpr=20]="SlotLiteralExpr",t[t.ConditionalCase=21]="ConditionalCase",t[t.ConstCollected=22]="ConstCollected",t[t.TwoWayBindingSet=23]="TwoWayBindingSet",t}(j||{}),jn=function(t){return t[t.None=0]="None",t[t.AlwaysInline=1]="AlwaysInline",t}(jn||{}),Je=function(t){return t[t.Context=0]="Context",t[t.Identifier=1]="Identifier",t[t.SavedView=2]="SavedView",t[t.Alias=3]="Alias",t}(Je||{}),Xt=function(t){return t[t.Normal=0]="Normal",t[t.TemplateDefinitionBuilder=1]="TemplateDefinitionBuilder",t}(Xt||{}),V=function(t){return t[t.Attribute=0]="Attribute",t[t.ClassName=1]="ClassName",t[t.StyleProperty=2]="StyleProperty",t[t.Property=3]="Property",t[t.Template=4]="Template",t[t.I18n=5]="I18n",t[t.Animation=6]="Animation",t[t.TwoWayProperty=7]="TwoWayProperty",t}(V||{}),Cc=function(t){return t[t.Creation=0]="Creation",t[t.Postproccessing=1]="Postproccessing",t}(Cc||{}),Qo=function(t){return t[t.I18nText=0]="I18nText",t[t.I18nAttribute=1]="I18nAttribute",t}(Qo||{}),be=function(t){return t[t.None=0]="None",t[t.ElementTag=1]="ElementTag",t[t.TemplateTag=2]="TemplateTag",t[t.OpenTag=4]="OpenTag",t[t.CloseTag=8]="CloseTag",t[t.ExpressionIndex=16]="ExpressionIndex",t}(be||{}),gt=function(t){return t[t.HTML=0]="HTML",t[t.SVG=1]="SVG",t[t.Math=2]="Math",t}(gt||{}),Te=function(t){return t[t.Idle=0]="Idle",t[t.Immediate=1]="Immediate",t[t.Timer=2]="Timer",t[t.Hover=3]="Hover",t[t.Interaction=4]="Interaction",t[t.Viewport=5]="Viewport",t}(Te||{}),Kr=function(t){return t[t.RootI18n=0]="RootI18n",t[t.Icu=1]="Icu",t[t.Attr=2]="Attr",t}(Kr||{}),Wt=function(t){return t[t.NgTemplate=0]="NgTemplate",t[t.Structural=1]="Structural",t[t.Block=2]="Block",t}(Wt||{}),FS=Symbol("ConsumesSlot"),LS=Symbol("DependsOnSlotContext"),Hc=Symbol("ConsumesVars"),dh=Symbol("UsesVarOffset"),Is={[FS]:!0,numSlotsUsed:1},ln={[LS]:!0},Zt={[Hc]:!0};function Zo(t){return t[FS]===!0}function Mv(t){return t[LS]===!0}function ag(t){return t[Hc]===!0}function _0(t){return t[dh]===!0}function Xn(t){return _({kind:m.Statement,statement:t},Q)}function Co(t,e,n,s){return _({kind:m.Variable,xref:t,variable:e,initializer:n,flags:s},Q)}var Q={debugListId:null,prev:null,next:null};function DR(t,e,n){return _(_(_({kind:m.InterpolateText,target:t,interpolation:e,sourceSpan:n},ln),Zt),Q)}var We=class{constructor(e,n,s){if(this.strings=e,this.expressions=n,this.i18nPlaceholders=s,s.length!==0&&s.length!==n.length)throw new Error(`Expected ${n.length} placeholders to match interpolation expression count, but got ${s.length}`)}};function Ci(t,e,n,s,r,i,o,a,c,l,u){return _({kind:m.Binding,bindingKind:e,target:t,name:n,expression:s,unit:r,securityContext:i,isTextAttribute:o,isStructuralTemplateAttribute:a,templateKind:c,i18nContext:null,i18nMessage:l,sourceSpan:u},Q)}function _R(t,e,n,s,r,i,o,a,c,l){return _(_(_({kind:m.Property,target:t,name:e,expression:n,isAnimationTrigger:s,securityContext:r,sanitizer:null,isStructuralTemplateAttribute:i,templateKind:o,i18nContext:a,i18nMessage:c,sourceSpan:l},ln),Zt),Q)}function IR(t,e,n,s,r,i,o,a,c){return _(_(_({kind:m.TwoWayProperty,target:t,name:e,expression:n,securityContext:s,sanitizer:null,isStructuralTemplateAttribute:r,templateKind:i,i18nContext:o,i18nMessage:a,sourceSpan:c},ln),Zt),Q)}function TR(t,e,n,s,r){return _(_(_({kind:m.StyleProp,target:t,name:e,expression:n,unit:s,sourceSpan:r},ln),Zt),Q)}function AR(t,e,n,s){return _(_(_({kind:m.ClassProp,target:t,name:e,expression:n,sourceSpan:s},ln),Zt),Q)}function MR(t,e,n){return _(_(_({kind:m.StyleMap,target:t,expression:e,sourceSpan:n},ln),Zt),Q)}function NR(t,e,n){return _(_(_({kind:m.ClassMap,target:t,expression:e,sourceSpan:n},ln),Zt),Q)}function kR(t,e,n,s,r,i,o,a,c,l){return _(_(_({kind:m.Attribute,target:t,namespace:e,name:n,expression:s,securityContext:r,sanitizer:null,isTextAttribute:i,isStructuralTemplateAttribute:o,templateKind:a,i18nContext:null,i18nMessage:c,sourceSpan:l},ln),Zt),Q)}function PR(t,e){return _({kind:m.Advance,delta:t,sourceSpan:e},Q)}function BS(t,e,n,s,r){return _(_(_({kind:m.Conditional,target:t,targetSlot:e,test:n,conditions:s,processed:null,sourceSpan:r,contextValue:null},Q),ln),Zt)}function RR(t,e,n,s){return _(_({kind:m.Repeater,target:t,targetSlot:e,collection:n,sourceSpan:s},Q),ln)}function OR(t,e,n,s){return _(_(_({kind:m.DeferWhen,target:t,expr:e,prefetch:n,sourceSpan:s},Q),ln),Zt)}function VS(t,e,n,s,r,i,o,a,c,l,u){return _(_(_({kind:m.I18nExpression,context:t,target:e,i18nOwner:n,handle:s,expression:r,icuPlaceholder:i,i18nPlaceholder:o,resolutionTime:a,usage:c,name:l,sourceSpan:u},Q),Zt),ln)}function FR(t,e,n){return _({kind:m.I18nApply,owner:t,handle:e,sourceSpan:n},Q)}var I0,T0,A0,M0,N0,k0;function Qn(t){return t instanceof xe}var xe=class extends pe{constructor(e=null){super(null,e)}},Pt=class t extends xe{constructor(e){super(),this.name=e,this.kind=j.LexicalRead}visitExpression(e,n){}isEquivalent(e){return this.name===e.name}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.name)}},Ad=class t extends xe{constructor(e,n,s){super(),this.target=e,this.targetSlot=n,this.offset=s,this.kind=j.Reference}visitExpression(){}isEquivalent(e){return e instanceof t&&e.target===this.target}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.target,this.targetSlot,this.offset)}},xs=class t extends xe{constructor(e){super(),this.view=e,this.kind=j.Context}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},Md=class t extends xe{constructor(e){super(),this.view=e,this.kind=j.TrackContext}visitExpression(){}isEquivalent(e){return e instanceof t&&e.view===this.view}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t(this.view)}},Nd=class t extends xe{constructor(){super(),this.kind=j.NextContext,this.steps=1}visitExpression(){}isEquivalent(e){return e instanceof t&&e.steps===this.steps}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t;return e.steps=this.steps,e}},hm=class t extends xe{constructor(){super(),this.kind=j.GetCurrentView}visitExpression(){}isEquivalent(e){return e instanceof t}isConstant(){return!1}transformInternalExpressions(){}clone(){return new t}},kd=class t extends xe{constructor(e){super(),this.view=e,this.kind=j.RestoreView}visitExpression(e,n){typeof this.view!="number"&&this.view.visitExpression(e,n)}isEquivalent(e){return!(e instanceof t)||typeof e.view!=typeof this.view?!1:typeof this.view=="number"?this.view===e.view:this.view.isEquivalent(e.view)}isConstant(){return!1}transformInternalExpressions(e,n){typeof this.view!="number"&&(this.view=F(this.view,e,n))}clone(){return new t(this.view instanceof pe?this.view.clone():this.view)}},fm=class t extends xe{constructor(e){super(),this.expr=e,this.kind=j.ResetView}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&this.expr.isEquivalent(e.expr)}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=F(this.expr,e,n)}clone(){return new t(this.expr.clone())}},Pd=class t extends xe{constructor(e,n){super(),this.target=e,this.value=n,this.kind=j.TwoWayBindingSet}visitExpression(e,n){this.target.visitExpression(e,n),this.value.visitExpression(e,n)}isEquivalent(e){return this.target.isEquivalent(e.target)&&this.value.isEquivalent(e.value)}isConstant(){return!1}transformInternalExpressions(e,n){this.target=F(this.target,e,n),this.value=F(this.value,e,n)}clone(){return new t(this.target,this.value)}},Cs=class t extends xe{constructor(e){super(),this.xref=e,this.kind=j.ReadVariable,this.name=null}visitExpression(){}isEquivalent(e){return e instanceof t&&e.xref===this.xref}isConstant(){return!1}transformInternalExpressions(){}clone(){let e=new t(this.xref);return e.name=this.name,e}},nh=class nh extends xe{constructor(e,n){super(),this.kind=j.PureFunctionExpr,this[I0]=!0,this[T0]=!0,this.varOffset=null,this.fn=null,this.body=e,this.args=n}visitExpression(e,n){this.body?.visitExpression(e,n);for(let s of this.args)s.visitExpression(e,n)}isEquivalent(e){return!(e instanceof nh)||e.args.length!==this.args.length?!1:e.body!==null&&this.body!==null&&e.body.isEquivalent(this.body)&&e.args.every((n,s)=>n.isEquivalent(this.args[s]))}isConstant(){return!1}transformInternalExpressions(e,n){this.body!==null?this.body=F(this.body,e,n|ge.InChildOperation):this.fn!==null&&(this.fn=F(this.fn,e,n));for(let s=0;s<this.args.length;s++)this.args[s]=F(this.args[s],e,n)}clone(){let e=new nh(this.body?.clone()??null,this.args.map(n=>n.clone()));return e.fn=this.fn?.clone()??null,e.varOffset=this.varOffset,e}};I0=Hc,T0=dh;var Si=nh,jo=class t extends xe{constructor(e){super(),this.index=e,this.kind=j.PureFunctionParameterExpr}visitExpression(){}isEquivalent(e){return e instanceof t&&e.index===this.index}isConstant(){return!0}transformInternalExpressions(){}clone(){return new t(this.index)}},$v=class $v extends xe{constructor(e,n,s,r){super(),this.target=e,this.targetSlot=n,this.name=s,this.args=r,this.kind=j.PipeBinding,this[A0]=!0,this[M0]=!0,this.varOffset=null}visitExpression(e,n){for(let s of this.args)s.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){for(let s=0;s<this.args.length;s++)this.args[s]=F(this.args[s],e,n)}clone(){let e=new $v(this.target,this.targetSlot,this.name,this.args.map(n=>n.clone()));return e.varOffset=this.varOffset,e}};A0=Hc,M0=dh;var Di=$v,jv=class jv extends xe{constructor(e,n,s,r,i){super(),this.target=e,this.targetSlot=n,this.name=s,this.args=r,this.numArgs=i,this.kind=j.PipeBindingVariadic,this[N0]=!0,this[k0]=!0,this.varOffset=null}visitExpression(e,n){this.args.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.args=F(this.args,e,n)}clone(){let e=new jv(this.target,this.targetSlot,this.name,this.args.clone(),this.numArgs);return e.varOffset=this.varOffset,e}};N0=Hc,k0=dh;var Rd=jv,Ho=class t extends xe{constructor(e,n){super(),this.receiver=e,this.name=n,this.kind=j.SafePropertyRead}get index(){return this.name}visitExpression(e,n){this.receiver.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=F(this.receiver,e,n)}clone(){return new t(this.receiver.clone(),this.name)}},Uo=class t extends xe{constructor(e,n,s){super(s),this.receiver=e,this.index=n,this.kind=j.SafeKeyedRead}visitExpression(e,n){this.receiver.visitExpression(e,n),this.index.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=F(this.receiver,e,n),this.index=F(this.index,e,n)}clone(){return new t(this.receiver.clone(),this.index.clone(),this.sourceSpan)}},lr=class t extends xe{constructor(e,n){super(),this.receiver=e,this.args=n,this.kind=j.SafeInvokeFunction}visitExpression(e,n){this.receiver.visitExpression(e,n);for(let s of this.args)s.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.receiver=F(this.receiver,e,n);for(let s=0;s<this.args.length;s++)this.args[s]=F(this.args[s],e,n)}clone(){return new t(this.receiver.clone(),this.args.map(e=>e.clone()))}},zo=class t extends xe{constructor(e,n){super(),this.guard=e,this.expr=n,this.kind=j.SafeTernaryExpr}visitExpression(e,n){this.guard.visitExpression(e,n),this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.guard=F(this.guard,e,n),this.expr=F(this.expr,e,n)}clone(){return new t(this.guard.clone(),this.expr.clone())}},Sc=class t extends xe{constructor(){super(...arguments),this.kind=j.EmptyExpr}visitExpression(e,n){}isEquivalent(e){return e instanceof t}isConstant(){return!0}clone(){return new t}transformInternalExpressions(){}},Sn=class t extends xe{constructor(e,n){super(),this.expr=e,this.xref=n,this.kind=j.AssignTemporaryExpr,this.name=null}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(){return!1}isConstant(){return!1}transformInternalExpressions(e,n){this.expr=F(this.expr,e,n)}clone(){let e=new t(this.expr.clone(),this.xref);return e.name=this.name,e}},Ss=class t extends xe{constructor(e){super(),this.xref=e,this.kind=j.ReadTemporaryExpr,this.name=null}visitExpression(e,n){}isEquivalent(){return this.xref===this.xref}isConstant(){return!1}transformInternalExpressions(e,n){}clone(){let e=new t(this.xref);return e.name=this.name,e}},Od=class t extends xe{constructor(e){super(),this.slot=e,this.kind=j.SlotLiteralExpr}visitExpression(e,n){}isEquivalent(e){return e instanceof t&&e.slot===this.slot}isConstant(){return!0}clone(){return new t(this.slot)}transformInternalExpressions(){}},Fd=class t extends xe{constructor(e,n,s,r=null){super(),this.expr=e,this.target=n,this.targetSlot=s,this.alias=r,this.kind=j.ConditionalCase}visitExpression(e,n){this.expr!==null&&this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t&&e.expr===this.expr}isConstant(){return!0}clone(){return new t(this.expr,this.target,this.targetSlot)}transformInternalExpressions(e,n){this.expr!==null&&(this.expr=F(this.expr,e,n))}},Dc=class t extends xe{constructor(e){super(),this.expr=e,this.kind=j.ConstCollected}transformInternalExpressions(e,n){this.expr=e(this.expr,n)}visitExpression(e,n){this.expr.visitExpression(e,n)}isEquivalent(e){return e instanceof t?this.expr.isEquivalent(e.expr):!1}isConstant(){return this.expr.isConstant()}clone(){return new t(this.expr)}};function Ot(t,e){at(t,(n,s)=>(e(n,s),n),ge.None)}var ge=function(t){return t[t.None=0]="None",t[t.InChildOperation=1]="InChildOperation",t}(ge||{});function cg(t,e,n){for(let s=0;s<t.expressions.length;s++)t.expressions[s]=F(t.expressions[s],e,n)}function at(t,e,n){switch(t.kind){case m.StyleProp:case m.StyleMap:case m.ClassProp:case m.ClassMap:case m.Binding:t.expression instanceof We?cg(t.expression,e,n):t.expression=F(t.expression,e,n);break;case m.Property:case m.HostProperty:case m.Attribute:t.expression instanceof We?cg(t.expression,e,n):t.expression=F(t.expression,e,n),t.sanitizer=t.sanitizer&&F(t.sanitizer,e,n);break;case m.TwoWayProperty:t.expression=F(t.expression,e,n),t.sanitizer=t.sanitizer&&F(t.sanitizer,e,n);break;case m.I18nExpression:t.expression=F(t.expression,e,n);break;case m.InterpolateText:cg(t.interpolation,e,n);break;case m.Statement:Ld(t.statement,e,n);break;case m.Variable:t.initializer=F(t.initializer,e,n);break;case m.Conditional:for(let s of t.conditions)s.expr!==null&&(s.expr=F(s.expr,e,n));t.processed!==null&&(t.processed=F(t.processed,e,n)),t.contextValue!==null&&(t.contextValue=F(t.contextValue,e,n));break;case m.Listener:case m.TwoWayListener:for(let s of t.handlerOps)at(s,e,n|ge.InChildOperation);break;case m.ExtractedAttribute:t.expression=t.expression&&F(t.expression,e,n),t.trustedValueFn=t.trustedValueFn&&F(t.trustedValueFn,e,n);break;case m.RepeaterCreate:t.track=F(t.track,e,n),t.trackByFn!==null&&(t.trackByFn=F(t.trackByFn,e,n));break;case m.Repeater:t.collection=F(t.collection,e,n);break;case m.Defer:t.loadingConfig!==null&&(t.loadingConfig=F(t.loadingConfig,e,n)),t.placeholderConfig!==null&&(t.placeholderConfig=F(t.placeholderConfig,e,n)),t.resolverFn!==null&&(t.resolverFn=F(t.resolverFn,e,n));break;case m.I18nMessage:for(let[s,r]of t.params)t.params.set(s,F(r,e,n));for(let[s,r]of t.postprocessingParams)t.postprocessingParams.set(s,F(r,e,n));break;case m.DeferWhen:t.expr=F(t.expr,e,n);break;case m.Advance:case m.Container:case m.ContainerEnd:case m.ContainerStart:case m.DeferOn:case m.DisableBindings:case m.Element:case m.ElementEnd:case m.ElementStart:case m.EnableBindings:case m.I18n:case m.I18nApply:case m.I18nContext:case m.I18nEnd:case m.I18nStart:case m.IcuEnd:case m.IcuStart:case m.Namespace:case m.Pipe:case m.Projection:case m.ProjectionDef:case m.Template:case m.Text:case m.I18nAttributes:case m.IcuPlaceholder:break;default:throw new Error(`AssertionError: transformExpressionsInOp doesn't handle ${m[t.kind]}`)}}function F(t,e,n){if(t instanceof xe)t.transformInternalExpressions(e,n);else if(t instanceof ee)t.lhs=F(t.lhs,e,n),t.rhs=F(t.rhs,e,n);else if(t instanceof ai)t.expr=F(t.expr,e,n);else if(t instanceof Dt)t.receiver=F(t.receiver,e,n);else if(t instanceof qn)t.receiver=F(t.receiver,e,n),t.index=F(t.index,e,n);else if(t instanceof Mo)t.receiver=F(t.receiver,e,n),t.value=F(t.value,e,n);else if(t instanceof tc)t.receiver=F(t.receiver,e,n),t.index=F(t.index,e,n),t.value=F(t.value,e,n);else if(t instanceof St){t.fn=F(t.fn,e,n);for(let s=0;s<t.args.length;s++)t.args[s]=F(t.args[s],e,n)}else if(t instanceof an)for(let s=0;s<t.entries.length;s++)t.entries[s]=F(t.entries[s],e,n);else if(t instanceof Cn)for(let s=0;s<t.entries.length;s++)t.entries[s].value=F(t.entries[s].value,e,n);else if(t instanceof Yt)t.condition=F(t.condition,e,n),t.trueCase=F(t.trueCase,e,n),t.falseCase!==null&&(t.falseCase=F(t.falseCase,e,n));else if(t instanceof Ao)t.expr=F(t.expr,e,n);else if(t instanceof Qu)t.value=F(t.value,e,n);else if(t instanceof Ku)for(let s=0;s<t.expressions.length;s++)t.expressions[s]=F(t.expressions[s],e,n);else if(t instanceof ms)t.condition=F(t.condition,e,n);else if(t instanceof Zu)t.tag=F(t.tag,e,n),t.template.expressions=t.template.expressions.map(s=>F(s,e,n));else if(t instanceof oi)if(Array.isArray(t.body))for(let s=0;s<t.body.length;s++)Ld(t.body[s],e,n);else t.body=F(t.body,e,n);else if(!(t instanceof te)){if(!(t instanceof Gt||t instanceof gs||t instanceof tt))throw new Error(`Unhandled expression kind: ${t.constructor.name}`)}return e(t,n)}function Ld(t,e,n){if(t instanceof nt)t.expr=F(t.expr,e,n);else if(t instanceof qe)t.value=F(t.value,e,n);else if(t instanceof vt)t.value!==void 0&&(t.value=F(t.value,e,n));else if(t instanceof ed){t.condition=F(t.condition,e,n);for(let s of t.trueCase)Ld(s,e,n);for(let s of t.falseCase)Ld(s,e,n)}else throw new Error(`Unhandled statement kind: ${t.constructor.name}`)}function $S(t){return t instanceof tt&&typeof t.value=="string"}var T=(()=>{let e=class e{constructor(){this.debugListId=e.nextListId++,this.head={kind:m.ListEnd,next:null,prev:null,debugListId:this.debugListId},this.tail={kind:m.ListEnd,next:null,prev:null,debugListId:this.debugListId},this.head.next=this.tail,this.tail.prev=this.head}push(s){if(Array.isArray(s)){for(let i of s)this.push(i);return}e.assertIsNotEnd(s),e.assertIsUnowned(s),s.debugListId=this.debugListId;let r=this.tail.prev;s.prev=r,r.next=s,s.next=this.tail,this.tail.prev=s}prepend(s){if(s.length===0)return;for(let o of s)e.assertIsNotEnd(o),e.assertIsUnowned(o),o.debugListId=this.debugListId;let r=this.head.next,i=this.head;for(let o of s)i.next=o,o.prev=i,i=o;i.next=r,r.prev=i}*[Symbol.iterator](){let s=this.head.next;for(;s!==this.tail;){e.assertIsOwned(s,this.debugListId);let r=s.next;yield s,s=r}}*reversed(){let s=this.tail.prev;for(;s!==this.head;){e.assertIsOwned(s,this.debugListId);let r=s.prev;yield s,s=r}}static replace(s,r){e.assertIsNotEnd(s),e.assertIsNotEnd(r),e.assertIsOwned(s),e.assertIsUnowned(r),r.debugListId=s.debugListId,s.prev!==null&&(s.prev.next=r,r.prev=s.prev),s.next!==null&&(s.next.prev=r,r.next=s.next),s.debugListId=null,s.prev=null,s.next=null}static replaceWithMany(s,r){if(r.length===0){e.remove(s);return}e.assertIsNotEnd(s),e.assertIsOwned(s);let i=s.debugListId;s.debugListId=null;for(let d of r)e.assertIsNotEnd(d),e.assertIsUnowned(d);let{prev:o,next:a}=s;s.prev=null,s.next=null;let c=o;for(let d of r)this.assertIsUnowned(d),d.debugListId=i,c.next=d,d.prev=c,d.next=null,c=d;let l=r[0],u=c;o!==null&&(o.next=l,l.prev=o),a!==null&&(a.prev=u,u.next=a)}static remove(s){e.assertIsNotEnd(s),e.assertIsOwned(s),s.prev.next=s.next,s.next.prev=s.prev,s.debugListId=null,s.prev=null,s.next=null}static insertBefore(s,r){if(Array.isArray(s)){for(let i of s)this.insertBefore(i,r);return}if(e.assertIsOwned(r),r.prev===null)throw new Error("AssertionError: illegal operation on list start");e.assertIsNotEnd(s),e.assertIsUnowned(s),s.debugListId=r.debugListId,s.prev=null,r.prev.next=s,s.prev=r.prev,s.next=r,r.prev=s}static insertAfter(s,r){if(e.assertIsOwned(r),r.next===null)throw new Error("AssertionError: illegal operation on list end");e.assertIsNotEnd(s),e.assertIsUnowned(s),s.debugListId=r.debugListId,r.next.prev=s,s.next=r.next,s.prev=r,r.next=s}static assertIsUnowned(s){if(s.debugListId!==null)throw new Error(`AssertionError: illegal operation on owned node: ${m[s.kind]}`)}static assertIsOwned(s,r){if(s.debugListId===null)throw new Error(`AssertionError: illegal operation on unowned node: ${m[s.kind]}`);if(r!==void 0&&s.debugListId!==r)throw new Error(`AssertionError: node belongs to the wrong list (expected ${r}, actual ${s.debugListId})`)}static assertIsNotEnd(s){if(s.kind===m.ListEnd)throw new Error("AssertionError: illegal operation on list head or tail")}};e.nextListId=0;let t=e;return t})(),Qt=class{constructor(){this.slot=null}},LR=new Set([m.Element,m.ElementStart,m.Container,m.ContainerStart,m.Template,m.RepeaterCreate]);function ur(t){return LR.has(t.kind)}function BR(t,e,n,s,r,i){return _(_({kind:m.ElementStart,xref:e,tag:t,handle:new Qt,attributes:null,localRefs:[],nonBindable:!1,namespace:n,i18nPlaceholder:s,startSourceSpan:r,wholeSourceSpan:i},Is),Q)}function hh(t,e,n,s,r,i,o,a){return _(_({kind:m.Template,xref:t,templateKind:e,attributes:null,tag:n,handle:new Qt,functionNameSuffix:s,decls:null,vars:null,localRefs:[],nonBindable:!1,namespace:r,i18nPlaceholder:i,startSourceSpan:o,wholeSourceSpan:a},Is),Q)}function VR(t,e,n,s,r,i,o,a,c,l){return me(_(_(_({kind:m.RepeaterCreate,attributes:null,xref:t,handle:new Qt,emptyView:e,track:s,trackByFn:null,tag:n,emptyTag:i,emptyAttributes:null,functionNameSuffix:"For",namespace:gt.HTML,nonBindable:!1,localRefs:[],decls:null,vars:null,varNames:r,usesComponentInstance:!1,i18nPlaceholder:o,emptyI18nPlaceholder:a,startSourceSpan:c,wholeSourceSpan:l},Is),Q),Zt),{numSlotsUsed:e===null?2:3})}function $R(t,e){return _({kind:m.ElementEnd,xref:t,sourceSpan:e},Q)}function jR(t){return _({kind:m.DisableBindings,xref:t},Q)}function HR(t){return _({kind:m.EnableBindings,xref:t},Q)}function jS(t,e,n,s){return _(_({kind:m.Text,xref:t,handle:new Qt,initialValue:e,icuPlaceholder:n,sourceSpan:s},Is),Q)}function Nv(t,e,n,s,r,i,o,a,c){let l=new T;return l.push(r),_({kind:m.Listener,target:t,targetSlot:e,tag:s,hostListener:a,name:n,handlerOps:l,handlerFnName:null,consumesDollarEvent:!1,isAnimationListener:i!==null,animationPhase:i,eventTarget:o,sourceSpan:c},Q)}function HS(t,e,n,s,r,i){let o=new T;return o.push(r),_({kind:m.TwoWayListener,target:t,targetSlot:e,tag:s,name:n,handlerOps:o,handlerFnName:null,sourceSpan:i},Q)}function US(t,e,n){return _(_({kind:m.Pipe,xref:t,handle:e,name:n},Q),Is)}function UR(t){return _({kind:m.Namespace,active:t},Q)}function zR(t){return _({kind:m.ProjectionDef,def:t},Q)}function WR(t,e,n,s){return _(_({kind:m.Projection,xref:t,handle:new Qt,selector:e,i18nPlaceholder:n,projectionSlotIndex:0,attributes:null,localRefs:[],sourceSpan:s},Q),Is)}function sn(t,e,n,s,r,i,o,a){return _({kind:m.ExtractedAttribute,target:t,bindingKind:e,namespace:n,name:s,expression:r,i18nContext:i,i18nMessage:o,securityContext:a,trustedValueFn:null},Q)}function qR(t,e,n,s,r,i){return me(_(_({kind:m.Defer,xref:t,handle:new Qt,mainView:e,mainSlot:n,loadingView:null,loadingSlot:null,loadingConfig:null,loadingMinimumTime:null,loadingAfterTime:null,placeholderView:null,placeholderSlot:null,placeholderConfig:null,placeholderMinimumTime:null,errorView:null,errorSlot:null,metadata:s,resolverFn:r,sourceSpan:i},Q),Is),{numSlotsUsed:2})}function Wr(t,e,n,s){return _({kind:m.DeferOn,defer:t,trigger:e,prefetch:n,sourceSpan:s},Q)}function GR(t,e,n,s,r,i,o,a){return _({kind:m.I18nMessage,xref:t,i18nContext:e,i18nBlock:n,message:s,messagePlaceholder:r,params:i,postprocessingParams:o,needsPostprocessing:a,subMessages:[]},Q)}function fh(t,e,n,s){return _(_({kind:m.I18nStart,xref:t,handle:new Qt,root:n??t,message:e,messageIndex:null,subTemplateIndex:null,context:null,sourceSpan:s},Q),Is)}function ph(t,e){return _({kind:m.I18nEnd,xref:t,sourceSpan:e},Q)}function YR(t,e,n,s){return _({kind:m.IcuStart,xref:t,message:e,messagePlaceholder:n,context:null,sourceSpan:s},Q)}function XR(t){return _({kind:m.IcuEnd,xref:t},Q)}function QR(t,e,n){return _({kind:m.IcuPlaceholder,xref:t,name:e,strings:n,expressionPlaceholders:[]},Q)}function lg(t,e,n,s,r){if(n===null&&t!==Kr.Attr)throw new Error("AssertionError: i18nBlock must be provided for non-attribute contexts.");return _({kind:m.I18nContext,contextKind:t,xref:e,i18nBlock:n,message:s,sourceSpan:r,params:new Map,postprocessingParams:new Map},Q)}function zS(t,e,n){return _(_({kind:m.I18nAttributes,xref:t,handle:e,target:n,i18nAttributesConfig:null},Q),Is)}function ZR(t,e,n,s,r,i){return _(_({kind:m.HostProperty,name:t,expression:e,isAnimationTrigger:n,i18nContext:s,securityContext:r,sanitizer:null,sourceSpan:i},Zt),Q)}var WS="CTX_REF_MARKER",O=function(t){return t[t.Tmpl=0]="Tmpl",t[t.Host=1]="Host",t[t.Both=2]="Both",t}(O||{}),Bd=class{constructor(e,n,s){this.componentName=e,this.pool=n,this.compatibility=s,this.kind=O.Both,this.nextXrefId=0}allocateXrefId(){return this.nextXrefId++}},_c=class extends Bd{constructor(e,n,s,r,i,o,a){super(e,n,s),this.relativeContextFilePath=r,this.i18nUseExternalIds=i,this.deferBlocksMeta=o,this.allDeferrableDepsFn=a,this.kind=O.Tmpl,this.fnSuffix="Template",this.views=new Map,this.contentSelectors=null,this.consts=[],this.constsInitializers=[],this.root=new dr(this,this.allocateXrefId(),null),this.views.set(this.root.xref,this.root)}allocateView(e){let n=new dr(this,this.allocateXrefId(),e);return this.views.set(n.xref,n),n}get units(){return this.views.values()}addConst(e,n){for(let r=0;r<this.consts.length;r++)if(this.consts[r].isEquivalent(e))return r;let s=this.consts.length;return this.consts.push(e),n&&this.constsInitializers.push(...n),s}},Vd=class{constructor(e){this.xref=e,this.create=new T,this.update=new T,this.fnName=null,this.vars=null}*ops(){for(let e of this.create)if(yield e,e.kind===m.Listener||e.kind===m.TwoWayListener)for(let n of e.handlerOps)yield n;for(let e of this.update)yield e}},dr=class extends Vd{constructor(e,n,s){super(n),this.job=e,this.parent=s,this.contextVariables=new Map,this.aliases=new Set,this.decls=null}},$d=class extends Bd{constructor(e,n,s){super(e,n,s),this.kind=O.Host,this.fnSuffix="HostBindings",this.root=new pm(this)}get units(){return[this.root]}},pm=class extends Vd{constructor(e){super(0),this.job=e,this.attributes=null}};function KR(t){for(let e of t.units)for(let n of e.ops())at(n,JR,ge.None)}function JR(t){if(t instanceof St&&t.fn instanceof Pt&&t.fn.name==="$any"){if(t.args.length!==1)throw new Error("The $any builtin function expects exactly one argument.");return t.args[0]}return t}function eO(t){let e=new Map;for(let n of t.units)for(let s of n.create)s.kind===m.I18nContext&&e.set(s.xref,s);for(let n of t.units)for(let s of n.update)s.kind===m.I18nExpression&&tO(e,s)&&T.insertAfter(FR(s.i18nOwner,s.handle,null),s)}function tO(t,e){if(e.next?.kind!==m.I18nExpression)return!0;let n=t.get(e.context),s=t.get(e.next.context);if(n===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the I18nExpressionOp's context");if(s===void 0)throw new Error("AssertionError: expected an I18nContextOp to exist for the next I18nExpressionOp's context");return n.i18nBlock!==null?n.i18nBlock!==s.i18nBlock:e.i18nOwner!==e.next.i18nOwner}function nO(t){for(let e of t.units){let n=e.update.head,s=[],r=null;for(let i of e.create){if(i.kind===m.I18nStart)r={blockXref:i.xref,lastSlotConsumer:i.xref};else if(i.kind===m.I18nEnd){for(let o of s)o.target=r.lastSlotConsumer,T.insertBefore(o,n);s.length=0,r=null}if(Zo(i))for(r!==null&&(r.lastSlotConsumer=i.xref);n.next!==null;){if(r!==null&&n.kind===m.I18nExpression&&n.usage===Qo.I18nText&&n.i18nOwner===r.blockXref){let o=n;n=n.next,T.remove(o),s.push(o);continue}if(Mv(n)&&n.target!==i.xref)break;n=n.next}}}}function kv(t){let e=new Map;for(let n of t.create)Zo(n)&&(e.set(n.xref,n),n.kind===m.RepeaterCreate&&n.emptyView!==null&&e.set(n.emptyView,n));return e}function sO(t){for(let e of t.units){let n=kv(e);for(let s of e.ops())switch(s.kind){case m.Attribute:rO(e,s,n);break;case m.Property:if(!s.isAnimationTrigger){let r;s.i18nMessage!==null&&s.templateKind===null?r=V.I18n:s.isStructuralTemplateAttribute?r=V.Template:r=V.Property,T.insertBefore(sn(s.target,r,null,s.name,null,null,null,s.securityContext),mo(n,s.target))}break;case m.TwoWayProperty:T.insertBefore(sn(s.target,V.TwoWayProperty,null,s.name,null,null,null,s.securityContext),mo(n,s.target));break;case m.StyleProp:case m.ClassProp:e.job.compatibility===Xt.TemplateDefinitionBuilder&&s.expression instanceof Sc&&T.insertBefore(sn(s.target,V.Property,null,s.name,null,null,null,ne.STYLE),mo(n,s.target));break;case m.Listener:if(!s.isAnimationListener){let r=sn(s.target,V.Property,null,s.name,null,null,null,ne.NONE);if(t.kind===O.Host){if(t.compatibility)break;e.create.push(r)}else T.insertBefore(r,mo(n,s.target))}break;case m.TwoWayListener:if(t.kind!==O.Host){let r=sn(s.target,V.Property,null,s.name,null,null,null,ne.NONE);T.insertBefore(r,mo(n,s.target))}break}}}function mo(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function rO(t,e,n){if(e.expression instanceof We)return;let s=e.isTextAttribute||e.expression.isConstant();if(t.job.compatibility===Xt.TemplateDefinitionBuilder&&(s&&=e.isTextAttribute),s){let r=sn(e.target,e.isStructuralTemplateAttribute?V.Template:V.Attribute,e.namespace,e.name,e.expression,e.i18nContext,e.i18nMessage,e.securityContext);if(t.job.kind===O.Host)t.create.push(r);else{let i=mo(n,e.target);T.insertBefore(r,i)}T.remove(e)}}function iO(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function oO(t){let e=new Map;for(let n of t.units)for(let s of n.create)ur(s)&&e.set(s.xref,s);for(let n of t.units)for(let s of n.ops())if(s.kind===m.Binding)switch(s.bindingKind){case V.Attribute:if(s.name==="ngNonBindable"){T.remove(s);let r=iO(e,s.target);r.nonBindable=!0}else{let[r,i]=Ct(s.name);T.replace(s,kR(s.target,r,i,s.expression,s.securityContext,s.isTextAttribute,s.isStructuralTemplateAttribute,s.templateKind,s.i18nMessage,s.sourceSpan))}break;case V.Property:case V.Animation:t.kind===O.Host?T.replace(s,ZR(s.name,s.expression,s.bindingKind===V.Animation,s.i18nContext,s.securityContext,s.sourceSpan)):T.replace(s,_R(s.target,s.name,s.expression,s.bindingKind===V.Animation,s.securityContext,s.isStructuralTemplateAttribute,s.templateKind,s.i18nContext,s.i18nMessage,s.sourceSpan));break;case V.TwoWayProperty:if(!(s.expression instanceof pe))throw new Error(`Expected value of two-way property binding "${s.name}" to be an expression`);T.replace(s,IR(s.target,s.name,s.expression,s.securityContext,s.isStructuralTemplateAttribute,s.templateKind,s.i18nContext,s.i18nMessage,s.sourceSpan));break;case V.I18n:case V.ClassName:case V.StyleProperty:throw new Error(`Unhandled binding of kind ${V[s.bindingKind]}`)}}var aO=new Set([p.attribute,p.classProp,p.element,p.elementContainer,p.elementContainerEnd,p.elementContainerStart,p.elementEnd,p.elementStart,p.hostProperty,p.i18nExp,p.listener,p.listener,p.property,p.styleProp,p.stylePropInterpolate1,p.stylePropInterpolate2,p.stylePropInterpolate3,p.stylePropInterpolate4,p.stylePropInterpolate5,p.stylePropInterpolate6,p.stylePropInterpolate7,p.stylePropInterpolate8,p.stylePropInterpolateV,p.syntheticHostListener,p.syntheticHostProperty,p.templateCreate,p.twoWayProperty,p.twoWayListener]);function cO(t){for(let e of t.units)P0(e.create),P0(e.update)}function P0(t){let e=null;for(let n of t){if(n.kind!==m.Statement||!(n.statement instanceof nt)){e=null;continue}if(!(n.statement.expr instanceof St)||!(n.statement.expr.fn instanceof gs)){e=null;continue}let s=n.statement.expr.fn.value;if(!aO.has(s)){e=null;continue}if(e!==null&&e.instruction===s){let r=e.expression.callFn(n.statement.expr.args,n.statement.expr.sourceSpan,n.statement.expr.pure);e.expression=r,e.op.statement=r.toStmt(),T.remove(n)}else e={op:n,instruction:s,expression:n.statement.expr}}}function lO(t){for(let e of t.units)for(let n of e.update)n.kind===m.Attribute&&n.expression instanceof We&&n.expression.strings.length===2&&n.expression.strings.every(r=>r==="")&&(n.expression=n.expression.expressions[0])}function uO(t){for(let e of t.units)for(let n of e.ops()){if(n.kind!==m.Conditional)continue;let s,r=n.conditions.findIndex(o=>o.expr===null);if(r>=0){let o=n.conditions.splice(r,1)[0].targetSlot;s=new Od(o)}else s=w(-1);let i=n.test==null?null:new Sn(n.test,t.allocateXrefId());for(let o=n.conditions.length-1;o>=0;o--){let a=n.conditions[o];if(a.expr!==null){if(i!==null){let c=o===0?i:new Ss(i.xref);a.expr=new ee(R.Identical,c,a.expr)}else if(a.alias!==null){let c=t.allocateXrefId();a.expr=new Sn(a.expr,c),n.contextValue=new Ss(c)}s=new Yt(a.expr,new Od(a.targetSlot),s)}}n.processed=s,n.conditions=[]}}var dO=new Map([["&&",R.And],[">",R.Bigger],[">=",R.BiggerEquals],["|",R.BitwiseOr],["&",R.BitwiseAnd],["/",R.Divide],["==",R.Equals],["===",R.Identical],["<",R.Lower],["<=",R.LowerEquals],["-",R.Minus],["%",R.Modulo],["*",R.Multiply],["!=",R.NotEquals],["!==",R.NotIdentical],["??",R.NullishCoalesce],["||",R.Or],["+",R.Plus]]);function qS(t){let e=new Map([["svg",gt.SVG],["math",gt.Math]]);return t===null?gt.HTML:e.get(t)??gt.HTML}function hO(t){let e=new Map([["svg",gt.SVG],["math",gt.Math]]);for(let[n,s]of e.entries())if(s===t)return n;return null}function fO(t,e){return e===gt.HTML?t:`:${hO(e)}:${t}`}function Wo(t){return Array.isArray(t)?z(t.map(Wo)):w(t)}function pO(t){let e=new Map;for(let n of t.units)for(let s of n.create)if(s.kind===m.ExtractedAttribute){let r=e.get(s.target)||new gm(t.compatibility);e.set(s.target,r),r.add(s.bindingKind,s.name,s.expression,s.namespace,s.trustedValueFn),T.remove(s)}if(t instanceof _c)for(let n of t.units)for(let s of n.create)if(s.kind==m.Projection){let r=e.get(s.xref);if(r!==void 0){let i=mm(r);i.entries.length>0&&(s.attributes=i)}}else ur(s)&&(s.attributes=R0(t,e,s.xref),s.kind===m.RepeaterCreate&&s.emptyView!==null&&(s.emptyAttributes=R0(t,e,s.emptyView)));else if(t instanceof $d)for(let[n,s]of e.entries()){if(n!==t.root.xref)throw new Error("An attribute would be const collected into the host binding's template function, but is not associated with the root xref.");let r=mm(s);r.entries.length>0&&(t.root.attributes=r)}}function R0(t,e,n){let s=e.get(n);if(s!==void 0){let r=mm(s);if(r.entries.length>0)return t.addConst(r)}return null}var lo=Object.freeze([]),gm=class{get attributes(){return this.byKind.get(V.Attribute)??lo}get classes(){return this.byKind.get(V.ClassName)??lo}get styles(){return this.byKind.get(V.StyleProperty)??lo}get bindings(){return this.propertyBindings??lo}get template(){return this.byKind.get(V.Template)??lo}get i18n(){return this.byKind.get(V.I18n)??lo}constructor(e){this.compatibility=e,this.known=new Map,this.byKind=new Map,this.propertyBindings=null,this.projectAs=null}isKnown(e,n){let s=this.known.get(e)??new Set;return this.known.set(e,s),s.has(n)?!0:(s.add(n),!1)}add(e,n,s,r,i){if(!(this.compatibility===Xt.TemplateDefinitionBuilder&&(e===V.Attribute||e===V.ClassName||e===V.StyleProperty))&&this.isKnown(e,n))return;if(n==="ngProjectAs"){if(s===null||!(s instanceof tt)||s.value==null||typeof s.value?.toString()!="string")throw Error("ngProjectAs must have a string literal value");this.projectAs=s.value.toString()}let a=this.arrayFor(e);if(a.push(...gO(r,n)),e===V.Attribute||e===V.StyleProperty){if(s===null)throw Error("Attribute, i18n attribute, & style element attributes must have a value");if(i!==null){if(!$S(s))throw Error("AssertionError: extracted attribute value should be string literal");a.push(kg(i,new sc([new rc(s.value)],[]),void 0,s.sourceSpan))}else a.push(s)}}arrayFor(e){return e===V.Property||e===V.TwoWayProperty?(this.propertyBindings??=[],this.propertyBindings):(this.byKind.has(e)||this.byKind.set(e,[]),this.byKind.get(e))}};function gO(t,e){let n=w(e);return t?[w(0),w(t),n]:[n]}function mm({attributes:t,bindings:e,classes:n,i18n:s,projectAs:r,styles:i,template:o}){let a=[...t];if(r!==null){let c=Rc(r)[0];a.push(w(5),Wo(c))}return n.length>0&&a.push(w(1),...n),i.length>0&&a.push(w(2),...i),e.length>0&&a.push(w(3),...e),o.length>0&&a.push(w(4),...o),s.length>0&&a.push(w(6),...s),z(a)}function mO(t){let e=new Map;for(let n of t.units){for(let s of n.create)s.kind===m.I18nAttributes&&e.set(s.target,s);for(let s of n.update)switch(s.kind){case m.Property:case m.Attribute:if(s.i18nContext===null||!(s.expression instanceof We))continue;let r=e.get(s.target);if(r===void 0)throw new Error("AssertionError: An i18n attribute binding instruction requires the owning element to have an I18nAttributes create instruction");if(r.target!==s.target)throw new Error("AssertionError: Expected i18nAttributes target element to match binding target element");let i=[];for(let o=0;o<s.expression.expressions.length;o++){let a=s.expression.expressions[o];if(s.expression.i18nPlaceholders.length!==s.expression.expressions.length)throw new Error(`AssertionError: An i18n attribute binding instruction requires the same number of expressions and placeholders, but found ${s.expression.i18nPlaceholders.length} placeholders and ${s.expression.expressions.length} expressions`);i.push(VS(s.i18nContext,r.target,r.xref,r.handle,a,null,s.expression.i18nPlaceholders[o],Cc.Creation,Qo.I18nAttribute,s.name,s.sourceSpan))}T.replaceWithMany(s,i);break}}}function vO(t){for(let e of t.units)for(let n of e.create)if(n.kind===m.Defer){if(n.metadata.deps.length===0||n.resolverFn!==null)continue;let s=[];for(let o of n.metadata.deps)if(o.isDeferrable){let a=et([new Ee("m",_s)],L("m").prop(o.isDefaultImport?"default":o.symbolName)),c=new ic(o.importPath).prop("then").callFn([a]);s.push(c)}else s.push(o.type);let r=et([],z(s));if(n.handle.slot===null)throw new Error("AssertionError: slot must be assigned bfore extracting defer deps functions");let i=e.fnName?.replace("_Template","");n.resolverFn=t.pool.getSharedFunctionReference(r,`${i}_Defer_${n.handle.slot}_DepsFn`,!1)}}function yO(t){let e=new Map;for(let r of t.units)for(let i of r.ops())switch(i.kind){case m.Binding:case m.Property:case m.Attribute:case m.ExtractedAttribute:if(i.i18nMessage===null)continue;if(!e.has(i.i18nMessage)){let o=lg(Kr.Attr,t.allocateXrefId(),null,i.i18nMessage,null);r.create.push(o),e.set(i.i18nMessage,o.xref)}i.i18nContext=e.get(i.i18nMessage);break}let n=new Map;for(let r of t.units)for(let i of r.create)switch(i.kind){case m.I18nStart:if(i.xref===i.root){let o=lg(Kr.RootI18n,t.allocateXrefId(),i.xref,i.message,null);r.create.push(o),i.context=o.xref,n.set(i.xref,o)}break}for(let r of t.units)for(let i of r.create)if(i.kind===m.I18nStart&&i.xref!==i.root){let o=n.get(i.root);if(o===void 0)throw Error("AssertionError: Root i18n block i18n context should have been created.");i.context=o.xref,n.set(i.xref,o)}let s=null;for(let r of t.units)for(let i of r.create)switch(i.kind){case m.I18nStart:s=i;break;case m.I18nEnd:s=null;break;case m.IcuStart:if(s===null)throw Error("AssertionError: Unexpected ICU outside of an i18n block.");if(i.message.id!==s.message.id){let o=lg(Kr.Icu,t.allocateXrefId(),s.root,i.message,null);r.create.push(o),i.context=o.xref}else i.context=s.context,n.get(s.xref).contextKind=Kr.Icu;break}}function wO(t){let e=new Map;for(let n of t.units)for(let s of n.update.reversed())if(s.kind===m.Binding&&s.isTextAttribute){let r=e.get(s.target)||new Set;r.has(s.name)&&t.compatibility===Xt.TemplateDefinitionBuilder&&(s.name==="style"||s.name==="class")&&T.remove(s),r.add(s.name),e.set(s.target,r)}}function bO(t){for(let e of t.units)for(let n of e.create)n.kind===m.Defer&&(n.placeholderMinimumTime!==null&&(n.placeholderConfig=new Dc(Wo([n.placeholderMinimumTime]))),(n.loadingMinimumTime!==null||n.loadingAfterTime!==null)&&(n.loadingConfig=new Dc(Wo([n.loadingMinimumTime,n.loadingAfterTime]))))}function EO(t){let e=new Map;function n(r){if(e.has(r.xref))return e.get(r.xref);let i=new vm;for(let o of r.create)if(!(!ur(o)||o.localRefs===null)){if(!Array.isArray(o.localRefs))throw new Error("LocalRefs were already processed, but were needed to resolve defer targets.");for(let a of o.localRefs)a.target===""&&i.targets.set(a.name,{xref:o.xref,slot:o.handle})}return e.set(r.xref,i),i}function s(r,i,o){switch(i.trigger.kind){case Te.Idle:case Te.Immediate:case Te.Timer:return;case Te.Hover:case Te.Interaction:case Te.Viewport:if(i.trigger.targetName===null){if(o===null)throw new Error("defer on trigger with no target name must have a placeholder block");let l=t.views.get(o);if(l==null)throw new Error("AssertionError: could not find placeholder view for defer on trigger");for(let u of l.create)if(Zo(u)&&(ur(u)||u.kind===m.Projection)){i.trigger.targetXref=u.xref,i.trigger.targetView=o,i.trigger.targetSlotViewSteps=-1,i.trigger.targetSlot=u.handle;return}return}let a=o!==null?t.views.get(o):r,c=o!==null?-1:0;for(;a!==null;){let l=n(a);if(l.targets.has(i.trigger.targetName)){let{xref:u,slot:d}=l.targets.get(i.trigger.targetName);i.trigger.targetXref=u,i.trigger.targetView=a.xref,i.trigger.targetSlotViewSteps=c,i.trigger.targetSlot=d;return}a=a.parent!==null?t.views.get(a.parent):null,c++}break;default:throw new Error(`Trigger kind ${i.trigger.kind} not handled`)}}for(let r of t.units){let i=new Map;for(let o of r.create)switch(o.kind){case m.Defer:i.set(o.xref,o);break;case m.DeferOn:let a=i.get(o.defer);s(r,o,a.placeholderView);break}}}var vm=class{constructor(){this.targets=new Map}},xO=new Map([[m.ElementEnd,[m.ElementStart,m.Element]],[m.ContainerEnd,[m.ContainerStart,m.Container]],[m.I18nEnd,[m.I18nStart,m.I18n]]]),CO=new Set([m.Pipe]);function SO(t){for(let e of t.units)for(let n of e.create){let s=xO.get(n.kind);if(s===void 0)continue;let[r,i]=s,o=n.prev;for(;o!==null&&CO.has(o.kind);)o=o.prev;o!==null&&o.kind===r&&(o.kind=i,T.remove(n))}}function DO(t){for(let e of t.units)for(let n of e.ops())at(n,s=>NO(s,{job:t}),ge.None),at(n,kO,ge.None)}var eG=[St,an,Cn,lr,Di].map(t=>t.constructor.name);function en(t){return t instanceof ai?en(t.expr):t instanceof ee?en(t.lhs)||en(t.rhs):t instanceof Yt?t.falseCase&&en(t.falseCase)?!0:en(t.condition)||en(t.trueCase):t instanceof ms?en(t.condition):t instanceof Sn?en(t.expr):t instanceof Dt?en(t.receiver):t instanceof qn?en(t.receiver)||en(t.index):t instanceof St||t instanceof an||t instanceof Cn||t instanceof lr||t instanceof Di}function _O(t){let e=new Set;return F(t,n=>(n instanceof Sn&&e.add(n.xref),n),ge.None),e}function IO(t,e,n){return F(t,s=>{if(s instanceof Sn&&e.has(s.xref)){let r=new Ss(s.xref);return n.job.compatibility===Xt.TemplateDefinitionBuilder?new Sn(r,r.xref):r}return s},ge.None),t}function uo(t,e,n){let s;if(en(t)){let r=n.job.allocateXrefId();s=[new Sn(t,r),new Ss(r)]}else s=[t,t.clone()],IO(s[1],_O(s[0]),n);return new zo(s[0],e(s[1]))}function TO(t){return t instanceof Ho||t instanceof Uo||t instanceof lr}function AO(t){return t instanceof Dt||t instanceof qn||t instanceof St}function GS(t){return TO(t)||AO(t)}function MO(t){if(GS(t)&&t.receiver instanceof zo){let e=t.receiver;for(;e.expr instanceof zo;)e=e.expr;return e}return null}function NO(t,e){if(!GS(t))return t;let n=MO(t);if(n){if(t instanceof St)return n.expr=n.expr.callFn(t.args),t.receiver;if(t instanceof Dt)return n.expr=n.expr.prop(t.name),t.receiver;if(t instanceof qn)return n.expr=n.expr.key(t.index),t.receiver;if(t instanceof lr)return n.expr=uo(n.expr,s=>s.callFn(t.args),e),t.receiver;if(t instanceof Ho)return n.expr=uo(n.expr,s=>s.prop(t.name),e),t.receiver;if(t instanceof Uo)return n.expr=uo(n.expr,s=>s.key(t.index),e),t.receiver}else{if(t instanceof lr)return uo(t.receiver,s=>s.callFn(t.args),e);if(t instanceof Ho)return uo(t.receiver,s=>s.prop(t.name),e);if(t instanceof Uo)return uo(t.receiver,s=>s.key(t.index),e)}return t}function kO(t){return t instanceof zo?new Yt(new ee(R.Equals,t.guard,ci),ci,t.expr):t}var O0="\uFFFD",PO="#",RO="*",OO="/",FO=":",LO="[",BO="]",VO="|";function $O(t){let e=new Map,n=new Map,s=new Map;for(let i of t.units)for(let o of i.create)switch(o.kind){case m.I18nContext:let a=jO(t,o);i.create.push(a),e.set(o.xref,a),s.set(o.xref,o);break;case m.I18nStart:n.set(o.xref,o);break}let r=null;for(let i of t.units)for(let o of i.create)switch(o.kind){case m.IcuStart:r=o,T.remove(o);let a=s.get(o.context);if(a.contextKind!==Kr.Icu)continue;let c=n.get(a.i18nBlock);if(c.context===a.xref)continue;let l=n.get(c.root),u=e.get(l.context);if(u===void 0)throw Error("AssertionError: ICU sub-message should belong to a root message.");let d=e.get(a.xref);d.messagePlaceholder=o.messagePlaceholder,u.subMessages.push(d.xref);break;case m.IcuEnd:r=null,T.remove(o);break;case m.IcuPlaceholder:if(r===null||r.context==null)throw Error("AssertionError: Unexpected ICU placeholder outside of i18n context");e.get(r.context).postprocessingParams.set(o.name,w(HO(o))),T.remove(o);break}}function jO(t,e,n){let s=F0(e.params),r=F0(e.postprocessingParams),i=[...e.params.values()].some(o=>o.length>1);return GR(t.allocateXrefId(),e.xref,e.i18nBlock,e.message,n??null,s,r,i)}function HO(t){if(t.strings.length!==t.expressionPlaceholders.length+1)throw Error(`AssertionError: Invalid ICU placeholder with ${t.strings.length} strings and ${t.expressionPlaceholders.length} expressions`);let e=t.expressionPlaceholders.map(So);return t.strings.flatMap((n,s)=>[n,e[s]||""]).join("")}function F0(t){let e=new Map;for(let[n,s]of t){let r=UO(s);r!==null&&e.set(n,w(r))}return e}function UO(t){if(t.length===0)return null;let e=t.map(n=>So(n));return e.length===1?e[0]:`${LO}${e.join(VO)}${BO}`}function So(t){if(t.flags&be.ElementTag&&t.flags&be.TemplateTag){if(typeof t.value!="object")throw Error("AssertionError: Expected i18n param value to have an element and template slot");let r=So(me(_({},t),{value:t.value.element,flags:t.flags&~be.TemplateTag})),i=So(me(_({},t),{value:t.value.template,flags:t.flags&~be.ElementTag}));return t.flags&be.OpenTag&&t.flags&be.CloseTag?`${i}${r}${i}`:t.flags&be.CloseTag?`${r}${i}`:`${i}${r}`}if(t.flags&be.OpenTag&&t.flags&be.CloseTag)return`${So(me(_({},t),{flags:t.flags&~be.CloseTag}))}${So(me(_({},t),{flags:t.flags&~be.OpenTag}))}`;if(t.flags===be.None)return`${t.value}`;let e="",n="";t.flags&be.ElementTag?e=PO:t.flags&be.TemplateTag&&(e=RO),e!==""&&(n=t.flags&be.CloseTag?OO:"");let s=t.subTemplateIndex===null?"":`${FO}${t.subTemplateIndex}`;return`${O0}${n}${e}${t.value}${s}${O0}`}function zO(t){for(let e of t.units){let n=new Map;for(let r of e.create){if(Zo(r)){if(r.handle.slot===null)throw new Error("AssertionError: expected slots to have been allocated before generating advance() calls")}else continue;n.set(r.xref,r.handle.slot)}let s=0;for(let r of e.update){if(Mv(r)){if(!n.has(r.target))throw new Error(`AssertionError: reference to unknown slot for target ${r.target}`)}else continue;let i=n.get(r.target);if(s!==i){let o=i-s;if(o<0)throw new Error("AssertionError: slot counter should never need to move backwards");T.insertBefore(PR(o,r.sourceSpan),r),s=i}}}}function WO(t){let e=t.compatibility===Xt.TemplateDefinitionBuilder,n=[],s=0;for(let r of t.units)for(let i of r.create)i.kind===m.Projection&&(n.push(i.selector),i.projectionSlotIndex=s++);if(n.length>0){let r=null;if(n.length>1||n[0]!=="*"){let i=n.map(o=>o==="*"?o:Rc(o));r=t.pool.getConstLiteral(Wo(i),e)}t.contentSelectors=t.pool.getConstLiteral(Wo(n),e),t.root.create.prepend([zR(r)])}}function qO(t){zu(t.root,null)}function zu(t,e){let n=GO(t,e);for(let r of t.create)switch(r.kind){case m.Template:zu(t.job.views.get(r.xref),n);break;case m.RepeaterCreate:zu(t.job.views.get(r.xref),n),r.emptyView&&zu(t.job.views.get(r.emptyView),n);break;case m.Listener:case m.TwoWayListener:r.handlerOps.prepend(ym(t,n));break}let s=ym(t,n);t.update.prepend(s)}function GO(t,e){let n={view:t.xref,viewContextVariable:{kind:Je.Context,name:null,view:t.xref},contextVariables:new Map,aliases:t.aliases,references:[],parent:e};for(let s of t.contextVariables.keys())n.contextVariables.set(s,{kind:Je.Identifier,name:null,identifier:s});for(let s of t.create)switch(s.kind){case m.ElementStart:case m.Template:if(!Array.isArray(s.localRefs))throw new Error("AssertionError: expected localRefs to be an array");for(let r=0;r<s.localRefs.length;r++)n.references.push({name:s.localRefs[r].name,targetId:s.xref,targetSlot:s.handle,offset:r,variable:{kind:Je.Identifier,name:null,identifier:s.localRefs[r].name}});break}return n}function ym(t,e){let n=[];e.view!==t.xref&&n.push(Co(t.job.allocateXrefId(),e.viewContextVariable,new Nd,jn.None));let s=t.job.views.get(e.view);for(let[r,i]of s.contextVariables){let o=new xs(e.view),a=i===WS?o:new Dt(o,i);n.push(Co(t.job.allocateXrefId(),e.contextVariables.get(r),a,jn.None))}for(let r of s.aliases)n.push(Co(t.job.allocateXrefId(),r,r.expression.clone(),jn.AlwaysInline));for(let r of e.references)n.push(Co(t.job.allocateXrefId(),r.variable,new Ad(r.targetId,r.targetSlot,r.offset),jn.None));return e.parent!==null&&n.push(...ym(t,e.parent)),n}function YO(t){for(let e of t.units)for(let n of e.ops())at(n,s=>s instanceof Dc?w(t.addConst(s.expr)):s,ge.None)}var L0="style.",B0="class.",XO="style!",V0="class!",$0="!important";function QO(t){for(let e of t.root.update)if(e.kind===m.Binding&&e.bindingKind===V.Property)if(e.name.endsWith($0)&&(e.name=e.name.substring(0,e.name.length-$0.length)),e.name.startsWith(L0)){e.bindingKind=V.StyleProperty,e.name=e.name.substring(L0.length),ZO(e.name)||(e.name=KO(e.name));let{property:n,suffix:s}=ug(e.name);e.name=n,e.unit=s}else e.name.startsWith(XO)?(e.bindingKind=V.StyleProperty,e.name="style"):e.name.startsWith(B0)?(e.bindingKind=V.ClassName,e.name=ug(e.name.substring(B0.length)).property):e.name.startsWith(V0)&&(e.bindingKind=V.ClassName,e.name=ug(e.name.substring(V0.length)).property)}function ZO(t){return t.startsWith("--")}function KO(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function ug(t){let e=t.indexOf("!important");e!==-1&&(t=e>0?t.substring(0,e):"");let n=null,s=t,r=t.lastIndexOf(".");return r>0&&(n=t.slice(r+1),s=t.substring(0,r)),{property:s,suffix:n}}function Ic(t,e=!1){return st(Object.keys(t).map(n=>({key:n,quoted:e,value:t[n]})))}var wm=class{visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){let n=Object.keys(e.cases).map(r=>`${r} {${e.cases[r].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}formatPh(e){return`{${Vc(e,!1)}}`}},JO=new wm;function YS(t){return t.visit(JO)}var J=function(t){return t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.PrivateIdentifier=2]="PrivateIdentifier",t[t.Keyword=3]="Keyword",t[t.String=4]="String",t[t.Operator=5]="Operator",t[t.Number=6]="Number",t[t.Error=7]="Error",t}(J||{}),eF=["var","let","as","null","undefined","true","false","if","else","this"],Tc=class{tokenize(e){let n=new bm(e),s=[],r=n.scanToken();for(;r!=null;)s.push(r),r=n.scanToken();return s}},Dn=class{constructor(e,n,s,r,i){this.index=e,this.end=n,this.type=s,this.numValue=r,this.strValue=i}isCharacter(e){return this.type==J.Character&&this.numValue==e}isNumber(){return this.type==J.Number}isString(){return this.type==J.String}isOperator(e){return this.type==J.Operator&&this.strValue==e}isIdentifier(){return this.type==J.Identifier}isPrivateIdentifier(){return this.type==J.PrivateIdentifier}isKeyword(){return this.type==J.Keyword}isKeywordLet(){return this.type==J.Keyword&&this.strValue=="let"}isKeywordAs(){return this.type==J.Keyword&&this.strValue=="as"}isKeywordNull(){return this.type==J.Keyword&&this.strValue=="null"}isKeywordUndefined(){return this.type==J.Keyword&&this.strValue=="undefined"}isKeywordTrue(){return this.type==J.Keyword&&this.strValue=="true"}isKeywordFalse(){return this.type==J.Keyword&&this.strValue=="false"}isKeywordThis(){return this.type==J.Keyword&&this.strValue=="this"}isError(){return this.type==J.Error}toNumber(){return this.type==J.Number?this.numValue:-1}toString(){switch(this.type){case J.Character:case J.Identifier:case J.Keyword:case J.Operator:case J.PrivateIdentifier:case J.String:case J.Error:return this.strValue;case J.Number:return this.numValue.toString();default:return null}}};function j0(t,e,n){return new Dn(t,e,J.Character,n,String.fromCharCode(n))}function tF(t,e,n){return new Dn(t,e,J.Identifier,0,n)}function nF(t,e,n){return new Dn(t,e,J.PrivateIdentifier,0,n)}function sF(t,e,n){return new Dn(t,e,J.Keyword,0,n)}function dg(t,e,n){return new Dn(t,e,J.Operator,0,n)}function rF(t,e,n){return new Dn(t,e,J.String,0,n)}function iF(t,e,n){return new Dn(t,e,J.Number,n,"")}function oF(t,e,n){return new Dn(t,e,J.Error,0,n)}var hg=new Dn(-1,-1,J.Character,0,""),bm=class{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?Et:this.input.charCodeAt(this.index)}scanToken(){let e=this.input,n=this.length,s=this.peek,r=this.index;for(;s<=pS;)if(++r>=n){s=Et;break}else s=e.charCodeAt(r);if(this.peek=s,this.index=r,r>=n)return null;if(H0(s))return this.scanIdentifier();if(cs(s))return this.scanNumber(r);let i=r;switch(s){case go:return this.advance(),cs(this.peek)?this.scanNumber(i):j0(i,this.index,go);case ps:case En:case $n:case Mt:case Io:case Eo:case rn:case Js:case xn:return this.scanCharacter(i,s);case vc:case mc:return this.scanString();case gS:return this.scanPrivateIdentifier();case vS:case bd:case xP:case us:case EP:case IP:return this.scanOperator(i,String.fromCharCode(s));case h0:return this.scanQuestion(i);case wo:case Ks:return this.scanComplexOperator(i,String.fromCharCode(s),bo,"=");case Qg:case bo:return this.scanComplexOperator(i,String.fromCharCode(s),bo,"=",bo,"=");case wd:return this.scanComplexOperator(i,"&",wd,"&");case f0:return this.scanComplexOperator(i,"|",f0,"|");case DS:for(;ah(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(s)}]`,0)}scanCharacter(e,n){return this.advance(),j0(e,this.index,n)}scanOperator(e,n){return this.advance(),dg(e,this.index,n)}scanComplexOperator(e,n,s,r,i,o){this.advance();let a=n;return this.peek==s&&(this.advance(),a+=r),i!=null&&this.peek==i&&(this.advance(),a+=o),dg(e,this.index,a)}scanIdentifier(){let e=this.index;for(this.advance();U0(this.peek);)this.advance();let n=this.input.substring(e,this.index);return eF.indexOf(n)>-1?sF(e,this.index,n):tF(e,this.index,n)}scanPrivateIdentifier(){let e=this.index;if(this.advance(),!H0(this.peek))return this.error("Invalid character [#]",-1);for(;U0(this.peek);)this.advance();let n=this.input.substring(e,this.index);return nF(e,this.index,n)}scanNumber(e){let n=this.index===e,s=!1;for(this.advance();;){if(!cs(this.peek))if(this.peek===oh){if(!cs(this.input.charCodeAt(this.index-1))||!cs(this.input.charCodeAt(this.index+1)))return this.error("Invalid numeric separator",0);s=!0}else if(this.peek===go)n=!1;else if(aF(this.peek)){if(this.advance(),cF(this.peek)&&this.advance(),!cs(this.peek))return this.error("Invalid exponent",-1);n=!1}else break;this.advance()}let r=this.input.substring(e,this.index);s&&(r=r.replace(/_/g,""));let i=n?uF(r):parseFloat(r);return iF(e,this.index,i)}scanString(){let e=this.index,n=this.peek;this.advance();let s="",r=this.index,i=this.input;for(;this.peek!=n;)if(this.peek==Ed){s+=i.substring(r,this.index);let a;if(this.advance(),this.peek==xS){let c=i.substring(this.index+1,this.index+5);if(/^[0-9a-f]+$/i.test(c))a=parseInt(c,16);else return this.error(`Invalid unicode escape [\\u${c}]`,0);for(let l=0;l<5;l++)this.advance()}else a=lF(this.peek),this.advance();s+=String.fromCharCode(a),r=this.index}else{if(this.peek==Et)return this.error("Unterminated quote",0);this.advance()}let o=i.substring(r,this.index);return this.advance(),rF(e,this.index,s+o)}scanQuestion(e){this.advance();let n="?";return(this.peek===h0||this.peek===go)&&(n+=this.peek===go?".":"?",this.advance()),dg(e,this.index,n)}error(e,n){let s=this.index+n;return oF(s,this.index,`Lexer Error: ${e} at column ${s} in expression [${this.input}]`)}};function H0(t){return fi<=t&&t<=jc||Xo<=t&&t<=ih||t==oh||t==mS}function U0(t){return ch(t)||cs(t)||t==oh||t==mS}function aF(t){return t==AP||t==SP}function cF(t){return t==bd||t==vS}function lF(t){switch(t){case wS:return ti;case Dv:return fS;case bS:return Cv;case ES:return xv;case CS:return hS;default:return t}}function uF(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var Em=class{constructor(e,n,s){this.strings=e,this.expressions=n,this.offsets=s}},xm=class{constructor(e,n,s){this.templateBindings=e,this.warnings=n,this.errors=s}},jd=class{constructor(e){this._lexer=e,this.errors=[]}parseAction(e,n,s,r=Vn){this._checkNoInterpolation(e,n,r);let i=this._stripComments(e),o=this._lexer.tokenize(i),a=new Xr(e,n,s,o,1,this.errors,0).parseChain();return new kt(a,e,n,s,this.errors)}parseBinding(e,n,s,r=Vn){let i=this._parseBindingAst(e,n,s,r);return new kt(i,e,n,s,this.errors)}checkSimpleExpression(e){let n=new Cm;return e.visit(n),n.errors}parseSimpleBinding(e,n,s,r=Vn){let i=this._parseBindingAst(e,n,s,r),o=this.checkSimpleExpression(i);return o.length>0&&this._reportError(`Host binding expression cannot contain ${o.join(" ")}`,e,n),new kt(i,e,n,s,this.errors)}_reportError(e,n,s,r){this.errors.push(new wc(e,n,s,r))}_parseBindingAst(e,n,s,r){this._checkNoInterpolation(e,n,r);let i=this._stripComments(e),o=this._lexer.tokenize(i);return new Xr(e,n,s,o,0,this.errors,0).parseChain()}parseTemplateBindings(e,n,s,r,i){let o=this._lexer.tokenize(n);return new Xr(n,s,i,o,0,this.errors,0).parseTemplateBindings({source:e,span:new zt(r,r+e.length)})}parseInterpolation(e,n,s,r,i=Vn){let{strings:o,expressions:a,offsets:c}=this.splitInterpolation(e,n,r,i);if(a.length===0)return null;let l=[];for(let u=0;u<a.length;++u){let d=a[u].text,h=this._stripComments(d),f=this._lexer.tokenize(h),g=new Xr(e,n,s,f,0,this.errors,c[u]).parseChain();l.push(g)}return this.createInterpolationAst(o.map(u=>u.text),l,e,n,s)}parseInterpolationExpression(e,n,s){let r=this._stripComments(e),i=this._lexer.tokenize(r),o=new Xr(e,n,s,i,0,this.errors,0).parseChain(),a=["",""];return this.createInterpolationAst(a,[o],e,n,s)}createInterpolationAst(e,n,s,r,i){let o=new pi(0,s.length),a=new ze(o,o.toAbsolute(i),e,n);return new kt(a,s,r,i,this.errors)}splitInterpolation(e,n,s,r=Vn){let i=[],o=[],a=[],c=s?dF(s):null,l=0,u=!1,d=!1,{start:h,end:f}=r;for(;l<e.length;)if(u){let g=l,y=g+h.length,v=this._getInterpolationEndIndex(e,f,y);if(v===-1){u=!1,d=!0;break}let b=v+f.length,x=e.substring(y,v);x.trim().length===0&&this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${l} in`,n),o.push({text:x,start:g,end:b});let D=(c?.get(g)??g)+h.length;a.push(D),l=b,u=!1}else{let g=l;l=e.indexOf(h,l),l===-1&&(l=e.length);let y=e.substring(g,l);i.push({text:y,start:g,end:l}),u=!0}if(!u)if(d){let g=i[i.length-1];g.text+=e.substring(l),g.end=e.length}else i.push({text:e.substring(l),start:l,end:e.length});return new Em(i,o,a)}wrapLiteralPrimitive(e,n,s){let r=new pi(0,e==null?0:e.length);return new kt(new ft(r,r.toAbsolute(s),e),e,n,s,this.errors)}_stripComments(e){let n=this._commentStart(e);return n!=null?e.substring(0,n):e}_commentStart(e){let n=null;for(let s=0;s<e.length-1;s++){let r=e.charCodeAt(s),i=e.charCodeAt(s+1);if(r===us&&i==us&&n==null)return s;n===r?n=null:n==null&&xd(r)&&(n=r)}return null}_checkNoInterpolation(e,n,{start:s,end:r}){let i=-1,o=-1;for(let a of this._forEachUnquotedChar(e,0))if(i===-1)e.startsWith(s)&&(i=a);else if(o=this._getInterpolationEndIndex(e,r,a),o>-1)break;i>-1&&o>-1&&this._reportError(`Got interpolation (${s}${r}) where expression was expected`,e,`at column ${i} in`,n)}_getInterpolationEndIndex(e,n,s){for(let r of this._forEachUnquotedChar(e,s)){if(e.startsWith(n,r))return r;if(e.startsWith("//",r))return e.indexOf(n,r)}return-1}*_forEachUnquotedChar(e,n){let s=null,r=0;for(let i=n;i<e.length;i++){let o=e[i];xd(e.charCodeAt(i))&&(s===null||s===o)&&r%2===0?s=s===null?o:null:s===null&&(yield i),r=o==="\\"?r+1:0}}},Ya=function(t){return t[t.None=0]="None",t[t.Writable=1]="Writable",t}(Ya||{}),Xr=class{constructor(e,n,s,r,i,o,a){this.input=e,this.location=n,this.absoluteOffset=s,this.tokens=r,this.parseFlags=i,this.errors=o,this.offset=a,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.context=Ya.None,this.sourceSpanCache=new Map,this.index=0}peek(e){let n=this.index+e;return n<this.tokens.length?this.tokens[n]:hg}get next(){return this.peek(0)}get atEOF(){return this.index>=this.tokens.length}get inputIndex(){return this.atEOF?this.currentEndIndex:this.next.index+this.offset}get currentEndIndex(){return this.index>0?this.peek(-1).end+this.offset:this.tokens.length===0?this.input.length+this.offset:this.next.index+this.offset}get currentAbsoluteOffset(){return this.absoluteOffset+this.inputIndex}span(e,n){let s=this.currentEndIndex;if(n!==void 0&&n>this.currentEndIndex&&(s=n),e>s){let r=s;s=e,e=r}return new pi(e,s)}sourceSpan(e,n){let s=`${e}@${this.inputIndex}:${n}`;return this.sourceSpanCache.has(s)||this.sourceSpanCache.set(s,this.span(e,n).toAbsolute(this.absoluteOffset)),this.sourceSpanCache.get(s)}advance(){this.index++}withContext(e,n){this.context|=e;let s=n();return this.context^=e,s}consumeOptionalCharacter(e){return this.next.isCharacter(e)?(this.advance(),!0):!1}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.consumeOptionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}consumeOptionalOperator(e){return this.next.isOperator(e)?(this.advance(),!0):!1}expectOperator(e){this.consumeOptionalOperator(e)||this.error(`Missing expected operator ${e}`)}prettyPrintToken(e){return e===hg?"end of input":`token ${e}`}expectIdentifierOrKeyword(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier or keyword"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier or keyword`),null):(this.advance(),e.toString())}expectIdentifierOrKeywordOrString(){let e=this.next;return!e.isIdentifier()&&!e.isKeyword()&&!e.isString()?(e.isPrivateIdentifier()?this._reportErrorForPrivateIdentifier(e,"expected identifier, keyword or string"):this.error(`Unexpected ${this.prettyPrintToken(e)}, expected identifier, keyword, or string`),""):(this.advance(),e.toString())}parseChain(){let e=[],n=this.inputIndex;for(;this.index<this.tokens.length;){let s=this.parsePipe();if(e.push(s),this.consumeOptionalCharacter(xn))for(this.parseFlags&1||this.error("Binding expression cannot contain chained expression");this.consumeOptionalCharacter(xn););else if(this.index<this.tokens.length){let r=this.index;if(this.error(`Unexpected token '${this.next}'`),this.index===r)break}}if(e.length===0){let s=this.offset,r=this.offset+this.input.length;return new ht(this.span(s,r),this.sourceSpan(s,r))}return e.length==1?e[0]:new ar(this.span(n),this.sourceSpan(n),e)}parsePipe(){let e=this.inputIndex,n=this.parseExpression();if(this.consumeOptionalOperator("|")){this.parseFlags&1&&this.error("Cannot have a pipe in an action expression");do{let s=this.inputIndex,r=this.expectIdentifierOrKeyword(),i,o;r!==null?i=this.sourceSpan(s):(r="",o=this.next.index!==-1?this.next.index:this.input.length+this.offset,i=new pi(o,o).toAbsolute(this.absoluteOffset));let a=[];for(;this.consumeOptionalCharacter(Js);)a.push(this.parseExpression());n=new vi(this.span(e),this.sourceSpan(e,o),n,r,a,i)}while(this.consumeOptionalOperator("|"))}return n}parseExpression(){return this.parseConditional()}parseConditional(){let e=this.inputIndex,n=this.parseLogicalOr();if(this.consumeOptionalOperator("?")){let s=this.parsePipe(),r;if(this.consumeOptionalCharacter(Js))r=this.parsePipe();else{let i=this.inputIndex,o=this.input.substring(e,i);this.error(`Conditional expression ${o} requires all 3 expressions`),r=new ht(this.span(e),this.sourceSpan(e))}return new gi(this.span(e),this.sourceSpan(e),n,s,r)}else return n}parseLogicalOr(){let e=this.inputIndex,n=this.parseLogicalAnd();for(;this.consumeOptionalOperator("||");){let s=this.parseLogicalAnd();n=new At(this.span(e),this.sourceSpan(e),"||",n,s)}return n}parseLogicalAnd(){let e=this.inputIndex,n=this.parseNullishCoalescing();for(;this.consumeOptionalOperator("&&");){let s=this.parseNullishCoalescing();n=new At(this.span(e),this.sourceSpan(e),"&&",n,s)}return n}parseNullishCoalescing(){let e=this.inputIndex,n=this.parseEquality();for(;this.consumeOptionalOperator("??");){let s=this.parseEquality();n=new At(this.span(e),this.sourceSpan(e),"??",n,s)}return n}parseEquality(){let e=this.inputIndex,n=this.parseRelational();for(;this.next.type==J.Operator;){let s=this.next.strValue;switch(s){case"==":case"===":case"!=":case"!==":this.advance();let r=this.parseRelational();n=new At(this.span(e),this.sourceSpan(e),s,n,r);continue}break}return n}parseRelational(){let e=this.inputIndex,n=this.parseAdditive();for(;this.next.type==J.Operator;){let s=this.next.strValue;switch(s){case"<":case">":case"<=":case">=":this.advance();let r=this.parseAdditive();n=new At(this.span(e),this.sourceSpan(e),s,n,r);continue}break}return n}parseAdditive(){let e=this.inputIndex,n=this.parseMultiplicative();for(;this.next.type==J.Operator;){let s=this.next.strValue;switch(s){case"+":case"-":this.advance();let r=this.parseMultiplicative();n=new At(this.span(e),this.sourceSpan(e),s,n,r);continue}break}return n}parseMultiplicative(){let e=this.inputIndex,n=this.parsePrefix();for(;this.next.type==J.Operator;){let s=this.next.strValue;switch(s){case"*":case"%":case"/":this.advance();let r=this.parsePrefix();n=new At(this.span(e),this.sourceSpan(e),s,n,r);continue}break}return n}parsePrefix(){if(this.next.type==J.Operator){let e=this.inputIndex,n=this.next.strValue,s;switch(n){case"+":return this.advance(),s=this.parsePrefix(),Es.createPlus(this.span(e),this.sourceSpan(e),s);case"-":return this.advance(),s=this.parsePrefix(),Es.createMinus(this.span(e),this.sourceSpan(e),s);case"!":return this.advance(),s=this.parsePrefix(),new wi(this.span(e),this.sourceSpan(e),s)}}return this.parseCallChain()}parseCallChain(){let e=this.inputIndex,n=this.parsePrimary();for(;;)if(this.consumeOptionalCharacter(go))n=this.parseAccessMember(n,e,!1);else if(this.consumeOptionalOperator("?."))this.consumeOptionalCharacter(ps)?n=this.parseCall(n,e,!0):n=this.consumeOptionalCharacter(Io)?this.parseKeyedReadOrWrite(n,e,!0):this.parseAccessMember(n,e,!0);else if(this.consumeOptionalCharacter(Io))n=this.parseKeyedReadOrWrite(n,e,!1);else if(this.consumeOptionalCharacter(ps))n=this.parseCall(n,e,!1);else if(this.consumeOptionalOperator("!"))n=new bi(this.span(e),this.sourceSpan(e),n);else return n}parsePrimary(){let e=this.inputIndex;if(this.consumeOptionalCharacter(ps)){this.rparensExpected++;let n=this.parsePipe();return this.rparensExpected--,this.expectCharacter(En),n}else{if(this.next.isKeywordNull())return this.advance(),new ft(this.span(e),this.sourceSpan(e),null);if(this.next.isKeywordUndefined())return this.advance(),new ft(this.span(e),this.sourceSpan(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new ft(this.span(e),this.sourceSpan(e),!0);if(this.next.isKeywordFalse())return this.advance(),new ft(this.span(e),this.sourceSpan(e),!1);if(this.next.isKeywordThis())return this.advance(),new sr(this.span(e),this.sourceSpan(e));if(this.consumeOptionalCharacter(Io)){this.rbracketsExpected++;let n=this.parseExpressionList(Eo);return this.rbracketsExpected--,this.expectCharacter(Eo),new yi(this.span(e),this.sourceSpan(e),n)}else{if(this.next.isCharacter($n))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMember(new pt(this.span(e),this.sourceSpan(e)),e,!1);if(this.next.isNumber()){let n=this.next.toNumber();return this.advance(),new ft(this.span(e),this.sourceSpan(e),n)}else if(this.next.isString()){let n=this.next.toString();return this.advance(),new ft(this.span(e),this.sourceSpan(e),n)}else return this.next.isPrivateIdentifier()?(this._reportErrorForPrivateIdentifier(this.next,null),new ht(this.span(e),this.sourceSpan(e))):this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new ht(this.span(e),this.sourceSpan(e))):(this.error(`Unexpected token ${this.next}`),new ht(this.span(e),this.sourceSpan(e)))}}}parseExpressionList(e){let n=[];do if(!this.next.isCharacter(e))n.push(this.parsePipe());else break;while(this.consumeOptionalCharacter(rn));return n}parseLiteralMap(){let e=[],n=[],s=this.inputIndex;if(this.expectCharacter($n),!this.consumeOptionalCharacter(Mt)){this.rbracesExpected++;do{let r=this.inputIndex,i=this.next.isString(),o=this.expectIdentifierOrKeywordOrString();if(e.push({key:o,quoted:i}),i)this.expectCharacter(Js),n.push(this.parsePipe());else if(this.consumeOptionalCharacter(Js))n.push(this.parsePipe());else{let a=this.span(r),c=this.sourceSpan(r);n.push(new Ke(a,c,c,new pt(a,c),o))}}while(this.consumeOptionalCharacter(rn)&&!this.next.isCharacter(Mt));this.rbracesExpected--,this.expectCharacter(Mt)}return new $o(this.span(s),this.sourceSpan(s),e,n)}parseAccessMember(e,n,s){let r=this.inputIndex,i=this.withContext(Ya.Writable,()=>{let c=this.expectIdentifierOrKeyword()??"";return c.length===0&&this.error("Expected identifier for property access",e.span.end),c}),o=this.sourceSpan(r),a;if(s)this.consumeOptionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),a=new ht(this.span(n),this.sourceSpan(n))):a=new Bo(this.span(n),this.sourceSpan(n),o,e,i);else if(this.consumeOptionalOperator("=")){if(!(this.parseFlags&1))return this.error("Bindings cannot contain assignments"),new ht(this.span(n),this.sourceSpan(n));let c=this.parseConditional();a=new Lo(this.span(n),this.sourceSpan(n),o,e,i,c)}else a=new Ke(this.span(n),this.sourceSpan(n),o,e,i);return a}parseCall(e,n,s){let r=this.inputIndex;this.rparensExpected++;let i=this.parseCallArguments(),o=this.span(r,this.inputIndex).toAbsolute(this.absoluteOffset);this.expectCharacter(En),this.rparensExpected--;let a=this.span(n),c=this.sourceSpan(n);return s?new Ei(a,c,e,i,o):new Yn(a,c,e,i,o)}parseCallArguments(){if(this.next.isCharacter(En))return[];let e=[];do e.push(this.parsePipe());while(this.consumeOptionalCharacter(rn));return e}expectTemplateBindingKey(){let e="",n=!1,s=this.currentAbsoluteOffset;do e+=this.expectIdentifierOrKeywordOrString(),n=this.consumeOptionalOperator("-"),n&&(e+="-");while(n);return{source:e,span:new zt(s,s+e.length)}}parseTemplateBindings(e){let n=[];for(n.push(...this.parseDirectiveKeywordBindings(e));this.index<this.tokens.length;){let s=this.parseLetBinding();if(s)n.push(s);else{let r=this.expectTemplateBindingKey(),i=this.parseAsBinding(r);i?n.push(i):(r.source=e.source+r.source.charAt(0).toUpperCase()+r.source.substring(1),n.push(...this.parseDirectiveKeywordBindings(r)))}this.consumeStatementTerminator()}return new xm(n,[],this.errors)}parseKeyedReadOrWrite(e,n,s){return this.withContext(Ya.Writable,()=>{this.rbracketsExpected++;let r=this.parsePipe();if(r instanceof ht&&this.error("Key access cannot be empty"),this.rbracketsExpected--,this.expectCharacter(Eo),this.consumeOptionalOperator("="))if(s)this.error("The '?.' operator cannot be used in the assignment");else{let i=this.parseConditional();return new Vo(this.span(n),this.sourceSpan(n),e,r,i)}else return s?new mi(this.span(n),this.sourceSpan(n),e,r):new bs(this.span(n),this.sourceSpan(n),e,r);return new ht(this.span(n),this.sourceSpan(n))})}parseDirectiveKeywordBindings(e){let n=[];this.consumeOptionalCharacter(Js);let s=this.getDirectiveBoundTarget(),r=this.currentAbsoluteOffset,i=this.parseAsBinding(e);i||(this.consumeStatementTerminator(),r=this.currentAbsoluteOffset);let o=new zt(e.span.start,r);return n.push(new tm(o,e,s)),i&&n.push(i),n}getDirectiveBoundTarget(){if(this.next===hg||this.peekKeywordAs()||this.peekKeywordLet())return null;let e=this.parsePipe(),{start:n,end:s}=e.span,r=this.input.substring(n,s);return new kt(e,r,this.location,this.absoluteOffset+n,this.errors)}parseAsBinding(e){if(!this.peekKeywordAs())return null;this.advance();let n=this.expectTemplateBindingKey();this.consumeStatementTerminator();let s=new zt(e.span.start,this.currentAbsoluteOffset);return new bc(s,n,e)}parseLetBinding(){if(!this.peekKeywordLet())return null;let e=this.currentAbsoluteOffset;this.advance();let n=this.expectTemplateBindingKey(),s=null;this.consumeOptionalOperator("=")&&(s=this.expectTemplateBindingKey()),this.consumeStatementTerminator();let r=new zt(e,this.currentAbsoluteOffset);return new bc(r,n,s)}consumeStatementTerminator(){this.consumeOptionalCharacter(xn)||this.consumeOptionalCharacter(rn)}error(e,n=null){this.errors.push(new wc(e,this.input,this.locationText(n),this.location)),this.skip()}locationText(e=null){return e==null&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}_reportErrorForPrivateIdentifier(e,n){let s=`Private identifiers are not supported. Unexpected private identifier: ${e}`;n!==null&&(s+=`, ${n}`),this.error(s)}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(xn)&&!e.isOperator("|")&&(this.rparensExpected<=0||!e.isCharacter(En))&&(this.rbracesExpected<=0||!e.isCharacter(Mt))&&(this.rbracketsExpected<=0||!e.isCharacter(Eo))&&(!(this.context&Ya.Writable)||!e.isOperator("="));)this.next.isError()&&this.errors.push(new wc(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}},Cm=class extends Dd{constructor(){super(...arguments),this.errors=[]}visitPipe(){this.errors.push("pipes")}};function dF(t){let e=new Map,n=0,s=0,r=0;for(;r<t.length;){let i=t[r];if(i.type===9){let[o,a]=i.parts;n+=a.length,s+=o.length}else{let o=i.parts.reduce((a,c)=>a+c.length,0);s+=o,n+=o}e.set(s,n),r++}return e}var hr=class{constructor(e,n){this.sourceSpan=e,this.i18n=n}},fr=class extends hr{constructor(e,n,s,r){super(n,r),this.value=e,this.tokens=s}visit(e,n){return e.visitText(this,n)}},qo=class extends hr{constructor(e,n,s,r,i,o){super(r,o),this.switchValue=e,this.type=n,this.cases=s,this.switchValueSourceSpan=i}visit(e,n){return e.visitExpansion(this,n)}},Sm=class{constructor(e,n,s,r,i){this.value=e,this.expression=n,this.sourceSpan=s,this.valueSourceSpan=r,this.expSourceSpan=i}visit(e,n){return e.visitExpansionCase(this,n)}},Dm=class extends hr{constructor(e,n,s,r,i,o,a){super(s,a),this.name=e,this.value=n,this.keySpan=r,this.valueSpan=i,this.valueTokens=o}visit(e,n){return e.visitAttribute(this,n)}},tn=class extends hr{constructor(e,n,s,r,i,o=null,a){super(r,a),this.name=e,this.attrs=n,this.children=s,this.startSourceSpan=i,this.endSourceSpan=o}visit(e,n){return e.visitElement(this,n)}},Ac=class{constructor(e,n){this.value=e,this.sourceSpan=n}visit(e,n){return e.visitComment(this,n)}},nn=class extends hr{constructor(e,n,s,r,i,o,a=null,c){super(r,c),this.name=e,this.parameters=n,this.children=s,this.nameSpan=i,this.startSourceSpan=o,this.endSourceSpan=a}visit(e,n){return e.visitBlock(this,n)}},Hd=class{constructor(e,n){this.expression=e,this.sourceSpan=n}visit(e,n){return e.visitBlockParameter(this,n)}};function Re(t,e,n=null){let s=[],r=t.visit?i=>t.visit(i,n)||i.visit(t,n):i=>i.visit(t,n);return e.forEach(i=>{let o=r(i);o&&s.push(o)}),s}var _m=class{},hF="boolean",fF="number",pF="string",gF="object",mF=["[Element]|textContent,%ariaAtomic,%ariaAutoComplete,%ariaBusy,%ariaChecked,%ariaColCount,%ariaColIndex,%ariaColSpan,%ariaCurrent,%ariaDescription,%ariaDisabled,%ariaExpanded,%ariaHasPopup,%ariaHidden,%ariaKeyShortcuts,%ariaLabel,%ariaLevel,%ariaLive,%ariaModal,%ariaMultiLine,%ariaMultiSelectable,%ariaOrientation,%ariaPlaceholder,%ariaPosInSet,%ariaPressed,%ariaReadOnly,%ariaRelevant,%ariaRequired,%ariaRoleDescription,%ariaRowCount,%ariaRowIndex,%ariaRowSpan,%ariaSelected,%ariaSetSize,%ariaSort,%ariaValueMax,%ariaValueMin,%ariaValueNow,%ariaValueText,%classList,className,elementTiming,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*fullscreenchange,*fullscreenerror,*search,*webkitfullscreenchange,*webkitfullscreenerror,outerHTML,%part,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,!inert,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","abbr,address,article,aside,b,bdi,bdo,cite,content,code,dd,dfn,dt,em,figcaption,figure,footer,header,hgroup,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,autocapitalize,!autofocus,contentEditable,dir,!draggable,enterKeyHint,!hidden,innerText,inputMode,lang,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,outerText,!spellcheck,%style,#tabIndex,title,!translate,virtualKeyboardPolicy","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,!preservesPitch,src,%srcObject,#volume",":svg:^[HTMLElement]|!autofocus,nonce,*abort,*animationend,*animationiteration,*animationstart,*auxclick,*beforexrselect,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*copy,*cuechange,*cut,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*formdata,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*paste,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerrawupdate,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*securitypolicyviolation,*seeked,*seeking,*select,*selectionchange,*selectstart,*slotchange,*stalled,*submit,*suspend,*timeupdate,*toggle,*transitioncancel,*transitionend,*transitionrun,*transitionstart,*volumechange,*waiting,*webkitanimationend,*webkitanimationiteration,*webkitanimationstart,*webkittransitionend,*wheel,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,%relList,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","data^[HTMLElement]|value","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*afterprint,*beforeprint,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*messageerror,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,allow,!allowFullscreen,!allowPaymentRequest,csp,frameBorder,height,loading,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,decoding,#height,#hspace,!isMap,loading,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocomplete,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,imageSizes,imageSrcset,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,media,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,!noModule,%referrerPolicy,src,text,type","select^[HTMLElement]|autocomplete,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","slot^[HTMLElement]|name","source^[HTMLElement]|#height,media,sizes,src,srcset,type,#width","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocomplete,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","time^[HTMLElement]|dateTime","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|!disablePictureInPicture,#height,*enterpictureinpicture,*leavepictureinpicture,!playsInline,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|decoding",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],XS=new Map(Object.entries({class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"})),vF=Array.from(XS).reduce((t,[e,n])=>(t.set(e,n),t),new Map),Go=class extends _m{constructor(){super(),this._schema=new Map,this._eventSchema=new Map,mF.forEach(e=>{let n=new Map,s=new Set,[r,i]=e.split("|"),o=i.split(","),[a,c]=r.split("^");a.split(",").forEach(u=>{this._schema.set(u.toLowerCase(),n),this._eventSchema.set(u.toLowerCase(),s)});let l=c&&this._schema.get(c.toLowerCase());if(l){for(let[u,d]of l)n.set(u,d);for(let u of this._eventSchema.get(c.toLowerCase()))s.add(u)}o.forEach(u=>{if(u.length>0)switch(u[0]){case"*":s.add(u.substring(1));break;case"!":n.set(u.substring(1),hF);break;case"#":n.set(u.substring(1),fF);break;case"%":n.set(u.substring(1),gF);break;default:n.set(u,pF)}})})}hasProperty(e,n,s){if(s.some(i=>i.name===Wx.name))return!0;if(e.indexOf("-")>-1){if(Bg(e)||Vg(e))return!1;if(s.some(i=>i.name===zx.name))return!0}return(this._schema.get(e.toLowerCase())||this._schema.get("unknown")).has(n)}hasElement(e,n){return n.some(s=>s.name===Wx.name)||e.indexOf("-")>-1&&(Bg(e)||Vg(e)||n.some(s=>s.name===zx.name))?!0:this._schema.has(e.toLowerCase())}securityContext(e,n,s){s&&(n=this.getMappedPropName(n)),e=e.toLowerCase(),n=n.toLowerCase();let r=E0()[e+"|"+n];return r||(r=E0()["*|"+n],r||ne.NONE)}getMappedPropName(e){return XS.get(e)??e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...
If '${e}' is a directive input, make sure the directive is imported by the current module.`}:{error:!1}}validateAttribute(e){return e.toLowerCase().startsWith("on")?{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, please use (${e.slice(2)})=...`}:{error:!1}}allKnownElementNames(){return Array.from(this._schema.keys())}allKnownAttributesOfElement(e){let n=this._schema.get(e.toLowerCase())||this._schema.get("unknown");return Array.from(n.keys()).map(s=>vF.get(s)??s)}allKnownEventsOfElement(e){return Array.from(this._eventSchema.get(e.toLowerCase())??[])}normalizeAnimationStyleProperty(e){return Tk(e)}normalizeAnimationStyleValue(e,n,s){let r="",i=s.toString().trim(),o=null;if(yF(e)&&s!==0&&s!=="0")if(typeof s=="number")r="px";else{let a=s.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&(o=`Please provide a CSS unit value for ${n}:${s}`)}return{error:o,value:i+r}}};function yF(t){switch(t){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}var q=class{constructor({closedByChildren:e,implicitNamespacePrefix:n,contentType:s=Bn.PARSABLE_DATA,closedByParent:r=!1,isVoid:i=!1,ignoreFirstLf:o=!1,preventNamespaceInheritance:a=!1,canSelfClose:c=!1}={}){this.closedByChildren={},this.closedByParent=!1,e&&e.length>0&&e.forEach(l=>this.closedByChildren[l]=!0),this.isVoid=i,this.closedByParent=r||i,this.implicitNamespacePrefix=n||null,this.contentType=s,this.ignoreFirstLf=o,this.preventNamespaceInheritance=a,this.canSelfClose=c??i}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}getContentType(e){return typeof this.contentType=="object"?(e===void 0?void 0:this.contentType[e])??this.contentType.default:this.contentType}},z0,ho;function QS(t){return ho||(z0=new q({canSelfClose:!0}),ho=Object.assign(Object.create(null),{base:new q({isVoid:!0}),meta:new q({isVoid:!0}),area:new q({isVoid:!0}),embed:new q({isVoid:!0}),link:new q({isVoid:!0}),img:new q({isVoid:!0}),input:new q({isVoid:!0}),param:new q({isVoid:!0}),hr:new q({isVoid:!0}),br:new q({isVoid:!0}),source:new q({isVoid:!0}),track:new q({isVoid:!0}),wbr:new q({isVoid:!0}),p:new q({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new q({closedByChildren:["tbody","tfoot"]}),tbody:new q({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new q({closedByChildren:["tbody"],closedByParent:!0}),tr:new q({closedByChildren:["tr"],closedByParent:!0}),td:new q({closedByChildren:["td","th"],closedByParent:!0}),th:new q({closedByChildren:["td","th"],closedByParent:!0}),col:new q({isVoid:!0}),svg:new q({implicitNamespacePrefix:"svg"}),foreignObject:new q({implicitNamespacePrefix:"svg",preventNamespaceInheritance:!0}),math:new q({implicitNamespacePrefix:"math"}),li:new q({closedByChildren:["li"],closedByParent:!0}),dt:new q({closedByChildren:["dt","dd"]}),dd:new q({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new q({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new q({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new q({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new q({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new q({closedByChildren:["optgroup"],closedByParent:!0}),option:new q({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new q({ignoreFirstLf:!0}),listing:new q({ignoreFirstLf:!0}),style:new q({contentType:Bn.RAW_TEXT}),script:new q({contentType:Bn.RAW_TEXT}),title:new q({contentType:{default:Bn.ESCAPABLE_RAW_TEXT,svg:Bn.PARSABLE_DATA}}),textarea:new q({contentType:Bn.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),new Go().allKnownElementNames().forEach(e=>{!ho[e]&&$g(e)===null&&(ho[e]=new q({canSelfClose:!1}))})),ho[t]??ho[t.toLowerCase()]??z0}var W0={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"},Im=class{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(e,n,s){let r=this._hashTag(e,n,s);if(this._signatureToName[r])return this._signatureToName[r];let i=e.toUpperCase(),o=W0[i]||`TAG_${i}`,a=this._generateUniqueName(s?o:`START_${o}`);return this._signatureToName[r]=a,a}getCloseTagPlaceholderName(e){let n=this._hashClosingTag(e);if(this._signatureToName[n])return this._signatureToName[n];let s=e.toUpperCase(),r=W0[s]||`TAG_${s}`,i=this._generateUniqueName(`CLOSE_${r}`);return this._signatureToName[n]=i,i}getPlaceholderName(e,n){let s=e.toUpperCase(),r=`PH: ${s}=${n}`;if(this._signatureToName[r])return this._signatureToName[r];let i=this._generateUniqueName(s);return this._signatureToName[r]=i,i}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}getStartBlockPlaceholderName(e,n){let s=this._hashBlock(e,n);if(this._signatureToName[s])return this._signatureToName[s];let r=this._generateUniqueName(`START_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[s]=r,r}getCloseBlockPlaceholderName(e){let n=this._hashClosingBlock(e);if(this._signatureToName[n])return this._signatureToName[n];let s=this._generateUniqueName(`CLOSE_BLOCK_${this._toSnakeCase(e)}`);return this._signatureToName[n]=s,s}_hashTag(e,n,s){let r=`<${e}`,i=Object.keys(n).sort().map(a=>` ${a}=${n[a]}`).join(""),o=s?"/>":`></${e}>`;return r+i+o}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_hashBlock(e,n){let s=n.length===0?"":` (${n.sort().join("; ")})`;return`@${e}${s} {}`}_hashClosingBlock(e){return this._hashBlock(`close_${e}`,[])}_toSnakeCase(e){return e.toUpperCase().replace(/[^A-Z0-9]/g,"_")}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;let s=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=s+1,`${e}_${s}`}},wF=new jd(new Tc);function bF(t,e){let n=new Tm(wF,t,e);return(s,r,i,o,a)=>n.toI18nMessage(s,r,i,o,a)}function EF(t,e){return e}var Tm=class{constructor(e,n,s){this._expressionParser=e,this._interpolationConfig=n,this._containerBlocks=s}toI18nMessage(e,n="",s="",r="",i){let o={isIcu:e.length==1&&e[0]instanceof qo,icuDepth:0,placeholderRegistry:new Im,placeholderToContent:{},placeholderToMessage:{},visitNodeFn:i||EF},a=Re(this,e,o);return new mt(a,o.placeholderToContent,o.placeholderToMessage,n,s,r)}visitElement(e,n){let s=Re(this,e.children,n),r={};e.attrs.forEach(l=>{r[l.name]=l.value});let i=QS(e.name).isVoid,o=n.placeholderRegistry.getStartTagPlaceholderName(e.name,r,i);n.placeholderToContent[o]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan};let a="";i||(a=n.placeholderRegistry.getCloseTagPlaceholderName(e.name),n.placeholderToContent[a]={text:`</${e.name}>`,sourceSpan:e.endSourceSpan??e.sourceSpan});let c=new ir(e.name,r,o,a,s,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,c)}visitAttribute(e,n){let s=e.valueTokens===void 0||e.valueTokens.length===1?new yo(e.value,e.valueSpan||e.sourceSpan):this._visitTextWithInterpolation(e.valueTokens,e.valueSpan||e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,s)}visitText(e,n){let s=e.tokens.length===1?new yo(e.value,e.sourceSpan):this._visitTextWithInterpolation(e.tokens,e.sourceSpan,n,e.i18n);return n.visitNodeFn(e,s)}visitComment(e,n){return null}visitExpansion(e,n){n.icuDepth++;let s={},r=new gd(e.switchValue,e.type,s,e.sourceSpan);if(e.cases.forEach(a=>{s[a.value]=new Hn(a.expression.map(c=>c.visit(this,n)),a.expSourceSpan)}),n.icuDepth--,n.isIcu||n.icuDepth>0){let a=n.placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return r.expressionPlaceholder=a,n.placeholderToContent[a]={text:e.switchValue,sourceSpan:e.switchValueSourceSpan},n.visitNodeFn(e,r)}let i=n.placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString());n.placeholderToMessage[i]=this.toI18nMessage([e],"","","",void 0);let o=new Oo(r,i,e.sourceSpan);return n.visitNodeFn(e,o)}visitExpansionCase(e,n){throw new Error("Unreachable code")}visitBlock(e,n){let s=Re(this,e.children,n);if(this._containerBlocks.has(e.name))return new Hn(s,e.sourceSpan);let r=e.parameters.map(c=>c.expression),i=n.placeholderRegistry.getStartBlockPlaceholderName(e.name,r),o=n.placeholderRegistry.getCloseBlockPlaceholderName(e.name);n.placeholderToContent[i]={text:e.startSourceSpan.toString(),sourceSpan:e.startSourceSpan},n.placeholderToContent[o]={text:e.endSourceSpan?e.endSourceSpan.toString():"}",sourceSpan:e.endSourceSpan??e.sourceSpan};let a=new ws(e.name,r,i,o,s,e.sourceSpan,e.startSourceSpan,e.endSourceSpan);return n.visitNodeFn(e,a)}visitBlockParameter(e,n){throw new Error("Unreachable code")}_visitTextWithInterpolation(e,n,s,r){let i=[],o=!1;for(let a of e)switch(a.type){case 8:case 17:o=!0;let c=a.parts[1],l=_F(c)||"INTERPOLATION",u=s.placeholderRegistry.getPlaceholderName(l,c);s.placeholderToContent[u]={text:a.parts.join(""),sourceSpan:a.sourceSpan},i.push(new pc(c,u,a.sourceSpan));break;default:if(a.parts[0].length>0){let d=i[i.length-1];d instanceof yo?(d.value+=a.parts[0],d.sourceSpan=new X(d.sourceSpan.start,a.sourceSpan.end,d.sourceSpan.fullStart,d.sourceSpan.details)):i.push(new yo(a.parts[0],a.sourceSpan))}break}return o?(xF(i,r),new Hn(i,n)):i[0]}};function xF(t,e){if(e instanceof mt&&(CF(e),e=e.nodes[0]),e instanceof Hn){SF(e.children,t);for(let n=0;n<t.length;n++)t[n].sourceSpan=e.children[n].sourceSpan}}function CF(t){let e=t.nodes;if(e.length!==1||!(e[0]instanceof Hn))throw new Error("Unexpected previous i18n message - expected it to consist of only a single `Container` node.")}function SF(t,e){if(t.length!==e.length)throw new Error("The number of i18n message children changed between first and second pass.");if(t.some((n,s)=>e[s].constructor!==n.constructor))throw new Error("The types of the i18n message children changed between first and second pass.")}var DF=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function _F(t){return t.split(DF)[2]}var Am=class extends W{constructor(e,n){super(e,n)}},Ud={AElig:"\xC6",AMP:"&",amp:"&",Aacute:"\xC1",Abreve:"\u0102",Acirc:"\xC2",Acy:"\u0410",Afr:"\u{1D504}",Agrave:"\xC0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2A53",Aogon:"\u0104",Aopf:"\u{1D538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xC5",angst:"\xC5",Ascr:"\u{1D49C}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xC3",Auml:"\xC4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2AE7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212C",Bscr:"\u212C",bernou:"\u212C",Beta:"\u0392",Bfr:"\u{1D505}",Bopf:"\u{1D539}",Breve:"\u02D8",breve:"\u02D8",Bumpeq:"\u224E",HumpDownHump:"\u224E",bump:"\u224E",CHcy:"\u0427",COPY:"\xA9",copy:"\xA9",Cacute:"\u0106",Cap:"\u22D2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212D",Cfr:"\u212D",Ccaron:"\u010C",Ccedil:"\xC7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010A",Cedilla:"\xB8",cedil:"\xB8",CenterDot:"\xB7",centerdot:"\xB7",middot:"\xB7",Chi:"\u03A7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201D",rdquo:"\u201D",rdquor:"\u201D",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2A74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222F",DoubleContourIntegral:"\u222F",ContourIntegral:"\u222E",conint:"\u222E",oint:"\u222E",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2A2F",Cscr:"\u{1D49E}",Cup:"\u22D3",CupCap:"\u224D",asympeq:"\u224D",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040F",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21A1",Dashv:"\u2AE4",DoubleLeftTee:"\u2AE4",Dcaron:"\u010E",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1D507}",DiacriticalAcute:"\xB4",acute:"\xB4",DiacriticalDot:"\u02D9",dot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",dblac:"\u02DD",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02DC",tilde:"\u02DC",Diamond:"\u22C4",diam:"\u22C4",diamond:"\u22C4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1D53B}",Dot:"\xA8",DoubleDot:"\xA8",die:"\xA8",uml:"\xA8",DotDot:"\u20DC",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21D3",Downarrow:"\u21D3",dArr:"\u21D3",DoubleLeftArrow:"\u21D0",Leftarrow:"\u21D0",lArr:"\u21D0",DoubleLeftRightArrow:"\u21D4",Leftrightarrow:"\u21D4",hArr:"\u21D4",iff:"\u21D4",DoubleLongLeftArrow:"\u27F8",Longleftarrow:"\u27F8",xlArr:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",Longleftrightarrow:"\u27FA",xhArr:"\u27FA",DoubleLongRightArrow:"\u27F9",Longrightarrow:"\u27F9",xrArr:"\u27F9",DoubleRightArrow:"\u21D2",Implies:"\u21D2",Rightarrow:"\u21D2",rArr:"\u21D2",DoubleRightTee:"\u22A8",vDash:"\u22A8",DoubleUpArrow:"\u21D1",Uparrow:"\u21D1",uArr:"\u21D1",DoubleUpDownArrow:"\u21D5",Updownarrow:"\u21D5",vArr:"\u21D5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",duarr:"\u21F5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",leftharpoondown:"\u21BD",lhard:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",rhard:"\u21C1",rightharpoondown:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",top:"\u22A4",DownTeeArrow:"\u21A7",mapstodown:"\u21A7",Dscr:"\u{1D49F}",Dstrok:"\u0110",ENG:"\u014A",ETH:"\xD0",Eacute:"\xC9",Ecaron:"\u011A",Ecirc:"\xCA",Ecy:"\u042D",Edot:"\u0116",Efr:"\u{1D508}",Egrave:"\xC8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25FB",EmptyVerySmallSquare:"\u25AB",Eogon:"\u0118",Eopf:"\u{1D53C}",Epsilon:"\u0395",Equal:"\u2A75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21CC",rightleftharpoons:"\u21CC",rlhar:"\u21CC",Escr:"\u2130",expectation:"\u2130",Esim:"\u2A73",Eta:"\u0397",Euml:"\xCB",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1D509}",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",blacksquare:"\u25AA",squarf:"\u25AA",squf:"\u25AA",Fopf:"\u{1D53D}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03DC",Gbreve:"\u011E",Gcedil:"\u0122",Gcirc:"\u011C",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1D50A}",Gg:"\u22D9",ggg:"\u22D9",Gopf:"\u{1D53E}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22DB",gel:"\u22DB",gtreqless:"\u22DB",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2A7E",geqslant:"\u2A7E",ges:"\u2A7E",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1D4A2}",Gt:"\u226B",NestedGreaterGreater:"\u226B",gg:"\u226B",HARDcy:"\u042A",Hacek:"\u02C7",caron:"\u02C7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210C",Poincareplane:"\u210C",HilbertSpace:"\u210B",Hscr:"\u210B",hamilt:"\u210B",Hopf:"\u210D",quaternions:"\u210D",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224F",bumpe:"\u224F",bumpeq:"\u224F",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xCD",Icirc:"\xCE",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xCC",Imacr:"\u012A",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222C",Integral:"\u222B",int:"\u222B",Intersection:"\u22C2",bigcap:"\u22C2",xcap:"\u22C2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012E",Iopf:"\u{1D540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xCF",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1D50D}",Jopf:"\u{1D541}",Jscr:"\u{1D4A5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040C",Kappa:"\u039A",Kcedil:"\u0136",Kcy:"\u041A",Kfr:"\u{1D50E}",Kopf:"\u{1D542}",Kscr:"\u{1D4A6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039B",Lang:"\u27EA",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219E",twoheadleftarrow:"\u219E",Lcaron:"\u013D",Lcedil:"\u013B",Lcy:"\u041B",LeftAngleBracket:"\u27E8",lang:"\u27E8",langle:"\u27E8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21E4",larrb:"\u21E4",LeftArrowRightArrow:"\u21C6",leftrightarrows:"\u21C6",lrarr:"\u21C6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27E6",lobrk:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",dharl:"\u21C3",downharpoonleft:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",lfloor:"\u230A",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294E",LeftTee:"\u22A3",dashv:"\u22A3",LeftTeeArrow:"\u21A4",mapstoleft:"\u21A4",LeftTeeVector:"\u295A",LeftTriangle:"\u22B2",vartriangleleft:"\u22B2",vltri:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",ltrie:"\u22B4",trianglelefteq:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",uharl:"\u21BF",upharpoonleft:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",leftharpoonup:"\u21BC",lharu:"\u21BC",LeftVectorBar:"\u2952",LessEqualGreater:"\u22DA",leg:"\u22DA",lesseqgtr:"\u22DA",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2AA1",LessSlantEqual:"\u2A7D",leqslant:"\u2A7D",les:"\u2A7D",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1D50F}",Ll:"\u22D8",Lleftarrow:"\u21DA",lAarr:"\u21DA",Lmidot:"\u013F",LongLeftArrow:"\u27F5",longleftarrow:"\u27F5",xlarr:"\u27F5",LongLeftRightArrow:"\u27F7",longleftrightarrow:"\u27F7",xharr:"\u27F7",LongRightArrow:"\u27F6",longrightarrow:"\u27F6",xrarr:"\u27F6",Lopf:"\u{1D543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21B0",lsh:"\u21B0",Lstrok:"\u0141",Lt:"\u226A",NestedLessLess:"\u226A",ll:"\u226A",Map:"\u2905",Mcy:"\u041C",MediumSpace:"\u205F",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1D510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1D544}",Mu:"\u039C",NJcy:"\u040A",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041D",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",ZeroWidthSpace:"\u200B",NewLine:`
`,Nfr:"\u{1D511}",NoBreak:"\u2060",NonBreakingSpace:"\xA0",nbsp:"\xA0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2AEC",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226F",ngt:"\u226F",ngtr:"\u226F",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",nGtv:"\u226B\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224E\u0338",nbump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",nbumpe:"\u224F\u0338",NotLeftTriangle:"\u22EA",nltri:"\u22EA",ntriangleleft:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",nltrie:"\u22EC",ntrianglelefteq:"\u22EC",NotLess:"\u226E",nless:"\u226E",nlt:"\u226E",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226A\u0338",nLtv:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",npre:"\u2AAF\u0338",npreceq:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",nprcue:"\u22E0",NotReverseElement:"\u220C",notni:"\u220C",notniva:"\u220C",NotRightTriangle:"\u22EB",nrtri:"\u22EB",ntriangleright:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",nrtrie:"\u22ED",ntrianglerighteq:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",nsqsube:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",nsqsupe:"\u22E3",NotSubset:"\u2282\u20D2",nsubset:"\u2282\u20D2",vnsub:"\u2282\u20D2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",nsce:"\u2AB0\u0338",nsucceq:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",nsccue:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",nsupset:"\u2283\u20D2",vnsup:"\u2283\u20D2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1D4A9}",Ntilde:"\xD1",Nu:"\u039D",OElig:"\u0152",Oacute:"\xD3",Ocirc:"\xD4",Ocy:"\u041E",Odblac:"\u0150",Ofr:"\u{1D512}",Ograve:"\xD2",Omacr:"\u014C",Omega:"\u03A9",ohm:"\u03A9",Omicron:"\u039F",Oopf:"\u{1D546}",OpenCurlyDoubleQuote:"\u201C",ldquo:"\u201C",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2A54",Oscr:"\u{1D4AA}",Oslash:"\xD8",Otilde:"\xD5",Otimes:"\u2A37",Ouml:"\xD6",OverBar:"\u203E",oline:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",tbrk:"\u23B4",OverParenthesis:"\u23DC",PartialD:"\u2202",part:"\u2202",Pcy:"\u041F",Pfr:"\u{1D513}",Phi:"\u03A6",Pi:"\u03A0",PlusMinus:"\xB1",plusmn:"\xB1",pm:"\xB1",Popf:"\u2119",primes:"\u2119",Pr:"\u2ABB",Precedes:"\u227A",pr:"\u227A",prec:"\u227A",PrecedesEqual:"\u2AAF",pre:"\u2AAF",preceq:"\u2AAF",PrecedesSlantEqual:"\u227C",prcue:"\u227C",preccurlyeq:"\u227C",PrecedesTilde:"\u227E",precsim:"\u227E",prsim:"\u227E",Prime:"\u2033",Product:"\u220F",prod:"\u220F",Proportional:"\u221D",prop:"\u221D",propto:"\u221D",varpropto:"\u221D",vprop:"\u221D",Pscr:"\u{1D4AB}",Psi:"\u03A8",QUOT:'"',quot:'"',Qfr:"\u{1D514}",Qopf:"\u211A",rationals:"\u211A",Qscr:"\u{1D4AC}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xAE",circledR:"\xAE",reg:"\xAE",Racute:"\u0154",Rang:"\u27EB",Rarr:"\u21A0",twoheadrightarrow:"\u21A0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211C",Rfr:"\u211C",real:"\u211C",realpart:"\u211C",ReverseElement:"\u220B",SuchThat:"\u220B",ni:"\u220B",niv:"\u220B",ReverseEquilibrium:"\u21CB",leftrightharpoons:"\u21CB",lrhar:"\u21CB",ReverseUpEquilibrium:"\u296F",duhar:"\u296F",Rho:"\u03A1",RightAngleBracket:"\u27E9",rang:"\u27E9",rangle:"\u27E9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21E5",rarrb:"\u21E5",RightArrowLeftArrow:"\u21C4",rightleftarrows:"\u21C4",rlarr:"\u21C4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27E7",robrk:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",dharr:"\u21C2",downharpoonright:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rfloor:"\u230B",RightTee:"\u22A2",vdash:"\u22A2",RightTeeArrow:"\u21A6",map:"\u21A6",mapsto:"\u21A6",RightTeeVector:"\u295B",RightTriangle:"\u22B3",vartriangleright:"\u22B3",vrtri:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",rtrie:"\u22B5",trianglerighteq:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",uharr:"\u21BE",upharpoonright:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",rharu:"\u21C0",rightharpoonup:"\u21C0",RightVectorBar:"\u2953",Ropf:"\u211D",reals:"\u211D",RoundImplies:"\u2970",Rrightarrow:"\u21DB",rAarr:"\u21DB",Rscr:"\u211B",realine:"\u211B",Rsh:"\u21B1",rsh:"\u21B1",RuleDelayed:"\u29F4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042C",Sacute:"\u015A",Sc:"\u2ABC",Scaron:"\u0160",Scedil:"\u015E",Scirc:"\u015C",Scy:"\u0421",Sfr:"\u{1D516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03A3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1D54A}",Sqrt:"\u221A",radic:"\u221A",Square:"\u25A1",squ:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228F",sqsub:"\u228F",sqsubset:"\u228F",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1D4AE}",Star:"\u22C6",sstarf:"\u22C6",Sub:"\u22D0",Subset:"\u22D0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227B",sc:"\u227B",succ:"\u227B",SucceedsEqual:"\u2AB0",sce:"\u2AB0",succeq:"\u2AB0",SucceedsSlantEqual:"\u227D",sccue:"\u227D",succcurlyeq:"\u227D",SucceedsTilde:"\u227F",scsim:"\u227F",succsim:"\u227F",Sum:"\u2211",sum:"\u2211",Sup:"\u22D1",Supset:"\u22D1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xDE",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040B",TScy:"\u0426",Tab:"	",Tau:"\u03A4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1D517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205F\u200A",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223C",sim:"\u223C",thicksim:"\u223C",thksim:"\u223C",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1D54B}",TripleDot:"\u20DB",tdot:"\u20DB",Tscr:"\u{1D4AF}",Tstrok:"\u0166",Uacute:"\xDA",Uarr:"\u219F",Uarrocir:"\u2949",Ubrcy:"\u040E",Ubreve:"\u016C",Ucirc:"\xDB",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1D518}",Ugrave:"\xD9",Umacr:"\u016A",UnderBar:"_",lowbar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",bbrk:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",bigcup:"\u22C3",xcup:"\u22C3",UnionPlus:"\u228E",uplus:"\u228E",Uogon:"\u0172",Uopf:"\u{1D54C}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",udarr:"\u21C5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296E",udhar:"\u296E",UpTee:"\u22A5",bot:"\u22A5",bottom:"\u22A5",perp:"\u22A5",UpTeeArrow:"\u21A5",mapstoup:"\u21A5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03D2",upsih:"\u03D2",Upsilon:"\u03A5",Uring:"\u016E",Uscr:"\u{1D4B0}",Utilde:"\u0168",Uuml:"\xDC",VDash:"\u22AB",Vbar:"\u2AEB",Vcy:"\u0412",Vdash:"\u22A9",Vdashl:"\u2AE6",Vee:"\u22C1",bigvee:"\u22C1",xvee:"\u22C1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200A",hairsp:"\u200A",Vfr:"\u{1D519}",Vopf:"\u{1D54D}",Vscr:"\u{1D4B1}",Vvdash:"\u22AA",Wcirc:"\u0174",Wedge:"\u22C0",bigwedge:"\u22C0",xwedge:"\u22C0",Wfr:"\u{1D51A}",Wopf:"\u{1D54E}",Wscr:"\u{1D4B2}",Xfr:"\u{1D51B}",Xi:"\u039E",Xopf:"\u{1D54F}",Xscr:"\u{1D4B3}",YAcy:"\u042F",YIcy:"\u0407",YUcy:"\u042E",Yacute:"\xDD",Ycirc:"\u0176",Ycy:"\u042B",Yfr:"\u{1D51C}",Yopf:"\u{1D550}",Yscr:"\u{1D4B4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017D",Zcy:"\u0417",Zdot:"\u017B",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1D4B5}",aacute:"\xE1",abreve:"\u0103",ac:"\u223E",mstpos:"\u223E",acE:"\u223E\u0333",acd:"\u223F",acirc:"\xE2",acy:"\u0430",aelig:"\xE6",afr:"\u{1D51E}",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03B1",amacr:"\u0101",amalg:"\u2A3F",and:"\u2227",wedge:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",angle:"\u2220",ange:"\u29A4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angzarr:"\u237C",aogon:"\u0105",aopf:"\u{1D552}",apE:"\u2A70",apacir:"\u2A6F",ape:"\u224A",approxeq:"\u224A",apid:"\u224B",apos:"'",aring:"\xE5",ascr:"\u{1D4B6}",ast:"*",midast:"*",atilde:"\xE3",auml:"\xE4",awint:"\u2A11",bNot:"\u2AED",backcong:"\u224C",bcong:"\u224C",backepsilon:"\u03F6",bepsi:"\u03F6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223D",bsim:"\u223D",backsimeq:"\u22CD",bsime:"\u22CD",barvee:"\u22BD",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23B6",bcy:"\u0431",bdquo:"\u201E",ldquor:"\u201E",bemptyv:"\u29B0",beta:"\u03B2",beth:"\u2136",between:"\u226C",twixt:"\u226C",bfr:"\u{1D51F}",bigcirc:"\u25EF",xcirc:"\u25EF",bigodot:"\u2A00",xodot:"\u2A00",bigoplus:"\u2A01",xoplus:"\u2A01",bigotimes:"\u2A02",xotime:"\u2A02",bigsqcup:"\u2A06",xsqcup:"\u2A06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25BD",xdtri:"\u25BD",bigtriangleup:"\u25B3",xutri:"\u25B3",biguplus:"\u2A04",xuplus:"\u2A04",bkarow:"\u290D",rbarr:"\u290D",blacklozenge:"\u29EB",lozf:"\u29EB",blacktriangle:"\u25B4",utrif:"\u25B4",blacktriangledown:"\u25BE",dtrif:"\u25BE",blacktriangleleft:"\u25C2",ltrif:"\u25C2",blacktriangleright:"\u25B8",rtrif:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bnot:"\u2310",bopf:"\u{1D553}",bowtie:"\u22C8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255D",boxUR:"\u255A",boxUl:"\u255C",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256C",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256B",boxVl:"\u2562",boxVr:"\u255F",boxbox:"\u29C9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250C",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252C",boxhu:"\u2534",boxminus:"\u229F",minusb:"\u229F",boxplus:"\u229E",plusb:"\u229E",boxtimes:"\u22A0",timesb:"\u22A0",boxuL:"\u255B",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256A",boxvL:"\u2561",boxvR:"\u255E",boxvh:"\u253C",boxvl:"\u2524",boxvr:"\u251C",brvbar:"\xA6",bscr:"\u{1D4B7}",bsemi:"\u204F",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2AAE",cacute:"\u0107",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",caps:"\u2229\uFE00",caret:"\u2041",ccaps:"\u2A4D",ccaron:"\u010D",ccedil:"\xE7",ccirc:"\u0109",ccups:"\u2A4C",ccupssm:"\u2A50",cdot:"\u010B",cemptyv:"\u29B2",cent:"\xA2",cfr:"\u{1D520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03C7",cir:"\u25CB",cirE:"\u29C3",circ:"\u02C6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21BA",olarr:"\u21BA",circlearrowright:"\u21BB",orarr:"\u21BB",circledS:"\u24C8",oS:"\u24C8",circledast:"\u229B",oast:"\u229B",circledcirc:"\u229A",ocir:"\u229A",circleddash:"\u229D",odash:"\u229D",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2A6D",copf:"\u{1D554}",copysr:"\u2117",crarr:"\u21B5",cross:"\u2717",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",curlyeqprec:"\u22DE",cuesc:"\u22DF",curlyeqsucc:"\u22DF",cularr:"\u21B6",curvearrowleft:"\u21B6",cularrp:"\u293D",cup:"\u222A",cupbrcap:"\u2A48",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curvearrowright:"\u21B7",curarrm:"\u293C",curlyvee:"\u22CE",cuvee:"\u22CE",curlywedge:"\u22CF",cuwed:"\u22CF",curren:"\xA4",cwint:"\u2231",cylcty:"\u232D",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290F",rBarr:"\u290F",dcaron:"\u010F",dcy:"\u0434",ddarr:"\u21CA",downdownarrows:"\u21CA",ddotseq:"\u2A77",eDDot:"\u2A77",deg:"\xB0",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",dfr:"\u{1D521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03DD",gammad:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",djcy:"\u0452",dlcorn:"\u231E",llcorner:"\u231E",dlcrop:"\u230D",dollar:"$",dopf:"\u{1D555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22A1",sdotb:"\u22A1",drcorn:"\u231F",lrcorner:"\u231F",drcrop:"\u230C",dscr:"\u{1D4B9}",dscy:"\u0455",dsol:"\u29F6",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",triangledown:"\u25BF",dwangle:"\u29A6",dzcy:"\u045F",dzigrarr:"\u27FF",eacute:"\xE9",easter:"\u2A6E",ecaron:"\u011B",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xEA",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044D",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1D522}",eg:"\u2A9A",egrave:"\xE8",egs:"\u2A96",eqslantgtr:"\u2A96",egsdot:"\u2A98",el:"\u2A99",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",eqslantless:"\u2A95",elsdot:"\u2A97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014B",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",epsilon:"\u03B5",epsiv:"\u03F5",straightepsilon:"\u03F5",varepsilon:"\u03F5",equals:"=",equest:"\u225F",questeq:"\u225F",equivDD:"\u2A78",eqvparsl:"\u29E5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212F",eta:"\u03B7",eth:"\xF0",euml:"\xEB",euro:"\u20AC",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",ffr:"\u{1D523}",filig:"\uFB01",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",fopf:"\u{1D557}",fork:"\u22D4",pitchfork:"\u22D4",forkv:"\u2AD9",fpartint:"\u2A0D",frac12:"\xBD",half:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1D4BB}",gEl:"\u2A8C",gtreqqless:"\u2A8C",gacute:"\u01F5",gamma:"\u03B3",gap:"\u2A86",gtrapprox:"\u2A86",gbreve:"\u011F",gcirc:"\u011D",gcy:"\u0433",gdot:"\u0121",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",gfr:"\u{1D524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2A92",gla:"\u2AA5",glj:"\u2AA4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2A8A",gnapprox:"\u2A8A",gne:"\u2A88",gneq:"\u2A88",gnsim:"\u22E7",gopf:"\u{1D558}",gscr:"\u210A",gsime:"\u2A8E",gsiml:"\u2A90",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtrdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrarr:"\u2978",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",hardcy:"\u044A",harrcir:"\u2948",harrw:"\u21AD",leftrightsquigarrow:"\u21AD",hbar:"\u210F",hslash:"\u210F",planck:"\u210F",plankv:"\u210F",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22B9",hfr:"\u{1D525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",larrhk:"\u21A9",hookrightarrow:"\u21AA",rarrhk:"\u21AA",hopf:"\u{1D559}",horbar:"\u2015",hscr:"\u{1D4BD}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xED",icirc:"\xEE",icy:"\u0438",iecy:"\u0435",iexcl:"\xA1",ifr:"\u{1D526}",igrave:"\xEC",iiiint:"\u2A0C",qint:"\u2A0C",iiint:"\u222D",tint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012B",imath:"\u0131",inodot:"\u0131",imof:"\u22B7",imped:"\u01B5",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",intcal:"\u22BA",intercal:"\u22BA",intlarhk:"\u2A17",intprod:"\u2A3C",iprod:"\u2A3C",iocy:"\u0451",iogon:"\u012F",iopf:"\u{1D55A}",iota:"\u03B9",iquest:"\xBF",iscr:"\u{1D4BE}",isinE:"\u22F9",isindot:"\u22F5",isins:"\u22F4",isinsv:"\u22F3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xEF",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1D527}",jmath:"\u0237",jopf:"\u{1D55B}",jscr:"\u{1D4BF}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03BA",kappav:"\u03F0",varkappa:"\u03F0",kcedil:"\u0137",kcy:"\u043A",kfr:"\u{1D528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045C",kopf:"\u{1D55C}",kscr:"\u{1D4C0}",lAtail:"\u291B",lBarr:"\u290E",lEg:"\u2A8B",lesseqqgtr:"\u2A8B",lHar:"\u2962",lacute:"\u013A",laemptyv:"\u29B4",lambda:"\u03BB",langd:"\u2991",lap:"\u2A85",lessapprox:"\u2A85",laquo:"\xAB",larrbfs:"\u291F",larrfs:"\u291D",larrlp:"\u21AB",looparrowleft:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",leftarrowtail:"\u21A2",lat:"\u2AAB",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",lcaron:"\u013E",lcedil:"\u013C",lcy:"\u043B",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21C7",llarr:"\u21C7",leftthreetimes:"\u22CB",lthree:"\u22CB",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessdot:"\u22D6",ltdot:"\u22D6",lfisht:"\u297C",lfr:"\u{1D529}",lgE:"\u2A91",lharul:"\u296A",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296B",lltri:"\u25FA",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2A89",lnapprox:"\u2A89",lne:"\u2A87",lneq:"\u2A87",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",longmapsto:"\u27FC",xmap:"\u27FC",looparrowright:"\u21AC",rarrlp:"\u21AC",lopar:"\u2985",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",loz:"\u25CA",lozenge:"\u25CA",lpar:"(",lparlt:"\u2993",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",lscr:"\u{1D4C1}",lsime:"\u2A8D",lsimg:"\u2A8F",lsquor:"\u201A",sbquo:"\u201A",lstrok:"\u0142",ltcc:"\u2AA6",ltcir:"\u2A79",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltrPar:"\u2996",ltri:"\u25C3",triangleleft:"\u25C3",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",mDDot:"\u223A",macr:"\xAF",strns:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25AE",mcomma:"\u2A29",mcy:"\u043C",mdash:"\u2014",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",midcir:"\u2AF0",minus:"\u2212",minusdu:"\u2A2A",mlcp:"\u2ADB",models:"\u22A7",mopf:"\u{1D55E}",mscr:"\u{1D4C2}",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nGg:"\u22D9\u0338",nGt:"\u226B\u20D2",nLeftarrow:"\u21CD",nlArr:"\u21CD",nLeftrightarrow:"\u21CE",nhArr:"\u21CE",nLl:"\u22D8\u0338",nLt:"\u226A\u20D2",nRightarrow:"\u21CF",nrArr:"\u21CF",nVDash:"\u22AF",nVdash:"\u22AE",nacute:"\u0144",nang:"\u2220\u20D2",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",natur:"\u266E",natural:"\u266E",ncap:"\u2A43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",ncy:"\u043D",ndash:"\u2013",neArr:"\u21D7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1D52B}",nharr:"\u21AE",nleftrightarrow:"\u21AE",nhpar:"\u2AF2",nis:"\u22FC",nisd:"\u22FA",njcy:"\u045A",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219A",nleftarrow:"\u219A",nldr:"\u2025",nopf:"\u{1D55F}",not:"\xAC",notinE:"\u22F9\u0338",notindot:"\u22F5\u0338",notinvb:"\u22F7",notinvc:"\u22F6",notnivb:"\u22FE",notnivc:"\u22FD",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",nrarr:"\u219B",nrightarrow:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nscr:"\u{1D4C3}",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsubseteqq:"\u2AC5\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupseteqq:"\u2AC6\u0338",ntilde:"\xF1",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22AD",nvHarr:"\u2904",nvap:"\u224D\u20D2",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwArr:"\u21D6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xF3",ocirc:"\xF4",ocy:"\u043E",odblac:"\u0151",odiv:"\u2A38",odsold:"\u29BC",oelig:"\u0153",ofcir:"\u29BF",ofr:"\u{1D52C}",ogon:"\u02DB",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",olcir:"\u29BE",olcross:"\u29BB",olt:"\u29C0",omacr:"\u014D",omega:"\u03C9",omicron:"\u03BF",omid:"\u29B6",oopf:"\u{1D560}",opar:"\u29B7",operp:"\u29B9",or:"\u2228",vee:"\u2228",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oslash:"\xF8",osol:"\u2298",otilde:"\xF5",otimesas:"\u2A36",ouml:"\xF6",ovbar:"\u233D",para:"\xB6",parsim:"\u2AF3",parsl:"\u2AFD",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1D52D}",phi:"\u03C6",phiv:"\u03D5",straightphi:"\u03D5",varphi:"\u03D5",phone:"\u260E",pi:"\u03C0",piv:"\u03D6",varpi:"\u03D6",planckh:"\u210E",plus:"+",plusacir:"\u2A23",pluscir:"\u2A22",plusdu:"\u2A25",pluse:"\u2A72",plussim:"\u2A26",plustwo:"\u2A27",pointint:"\u2A15",popf:"\u{1D561}",pound:"\xA3",prE:"\u2AB3",prap:"\u2AB7",precapprox:"\u2AB7",precnapprox:"\u2AB9",prnap:"\u2AB9",precneqq:"\u2AB5",prnE:"\u2AB5",precnsim:"\u22E8",prnsim:"\u22E8",prime:"\u2032",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prurel:"\u22B0",pscr:"\u{1D4C5}",psi:"\u03C8",puncsp:"\u2008",qfr:"\u{1D52E}",qopf:"\u{1D562}",qprime:"\u2057",qscr:"\u{1D4C6}",quatint:"\u2A16",quest:"?",rAtail:"\u291C",rHar:"\u2964",race:"\u223D\u0331",racute:"\u0155",raemptyv:"\u29B3",rangd:"\u2992",range:"\u29A5",raquo:"\xBB",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21A3",rightarrowtail:"\u21A3",rarrw:"\u219D",rightsquigarrow:"\u219D",ratail:"\u291A",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21B3",rect:"\u25AD",rfisht:"\u297D",rfr:"\u{1D52F}",rharul:"\u296C",rho:"\u03C1",rhov:"\u03F1",varrho:"\u03F1",rightrightarrows:"\u21C9",rrarr:"\u21C9",rightthreetimes:"\u22CC",rthree:"\u22CC",ring:"\u02DA",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",ropar:"\u2986",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rsaquo:"\u203A",rscr:"\u{1D4C7}",rtimes:"\u22CA",rtri:"\u25B9",triangleright:"\u25B9",rtriltri:"\u29CE",ruluhar:"\u2968",rx:"\u211E",sacute:"\u015B",scE:"\u2AB4",scap:"\u2AB8",succapprox:"\u2AB8",scaron:"\u0161",scedil:"\u015F",scirc:"\u015D",scnE:"\u2AB6",succneqq:"\u2AB6",scnap:"\u2ABA",succnapprox:"\u2ABA",scnsim:"\u22E9",succnsim:"\u22E9",scpolint:"\u2A13",scy:"\u0441",sdot:"\u22C5",sdote:"\u2A66",seArr:"\u21D8",sect:"\xA7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1D530}",sharp:"\u266F",shchcy:"\u0449",shcy:"\u0448",shy:"\xAD",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",varsigma:"\u03C2",simdot:"\u2A6A",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",smashp:"\u2A33",smeparsl:"\u29E4",smile:"\u2323",ssmile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\uFE00",sqcups:"\u2294\uFE00",sscr:"\u{1D4C8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2AC5",subseteqq:"\u2AC5",subdot:"\u2ABD",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subsetneqq:"\u2ACB",subne:"\u228A",subsetneq:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",sung:"\u266A",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supE:"\u2AC6",supseteqq:"\u2AC6",supdot:"\u2ABE",supdsub:"\u2AD8",supedot:"\u2AC4",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supsetneqq:"\u2ACC",supne:"\u228B",supsetneq:"\u228B",supplus:"\u2AC0",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swArr:"\u21D9",swnwar:"\u292A",szlig:"\xDF",target:"\u2316",tau:"\u03C4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1D531}",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",vartheta:"\u03D1",thorn:"\xFE",times:"\xD7",timesbar:"\u2A31",timesd:"\u2A30",topbot:"\u2336",topcir:"\u2AF1",topf:"\u{1D565}",topfork:"\u2ADA",tprime:"\u2034",triangle:"\u25B5",utri:"\u25B5",triangleq:"\u225C",trie:"\u225C",tridot:"\u25EC",triminus:"\u2A3A",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",tscr:"\u{1D4C9}",tscy:"\u0446",tshcy:"\u045B",tstrok:"\u0167",uHar:"\u2963",uacute:"\xFA",ubrcy:"\u045E",ubreve:"\u016D",ucirc:"\xFB",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297E",ufr:"\u{1D532}",ugrave:"\xF9",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",umacr:"\u016B",uogon:"\u0173",uopf:"\u{1D566}",upsi:"\u03C5",upsilon:"\u03C5",upuparrows:"\u21C8",uuarr:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",uring:"\u016F",urtri:"\u25F9",uscr:"\u{1D4CA}",utdot:"\u22F0",utilde:"\u0169",uuml:"\xFC",uwangle:"\u29A7",vBar:"\u2AE8",vBarv:"\u2AE9",vangrt:"\u299C",varsubsetneq:"\u228A\uFE00",vsubne:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",vsubnE:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",vsupne:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vsupnE:"\u2ACC\uFE00",vcy:"\u0432",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",vfr:"\u{1D533}",vopf:"\u{1D567}",vscr:"\u{1D4CB}",vzigzag:"\u299A",wcirc:"\u0175",wedbar:"\u2A5F",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1D534}",wopf:"\u{1D568}",wscr:"\u{1D4CC}",xfr:"\u{1D535}",xi:"\u03BE",xnis:"\u22FB",xopf:"\u{1D569}",xscr:"\u{1D4CD}",yacute:"\xFD",yacy:"\u044F",ycirc:"\u0177",ycy:"\u044B",yen:"\xA5",yfr:"\u{1D536}",yicy:"\u0457",yopf:"\u{1D56A}",yscr:"\u{1D4CE}",yucy:"\u044E",yuml:"\xFF",zacute:"\u017A",zcaron:"\u017E",zcy:"\u0437",zdot:"\u017C",zeta:"\u03B6",zfr:"\u{1D537}",zhcy:"\u0436",zigrarr:"\u21DD",zopf:"\u{1D56B}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"},ZS="\uE500";Ud.ngsp=ZS;var Ka=class extends W{constructor(e,n,s){super(s,e),this.tokenType=n}},Mm=class{constructor(e,n,s){this.tokens=e,this.errors=n,this.nonNormalizedIcuExpressions=s}};function IF(t,e,n,s={}){let r=new km(new Cd(t,e),n,s);return r.tokenize(),new Mm(FF(r.tokens),r.errors,r.nonNormalizedIcuExpressions)}var TF=/\r\n?/g;function Ua(t){return`Unexpected character "${t===Et?"EOF":String.fromCharCode(t)}"`}function q0(t){return`Unknown entity "${t}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}function AF(t,e){return`Unable to parse entity "${e}" - ${t} character reference entities must end with ";"`}var Nm=function(t){return t.HEX="hexadecimal",t.DEC="decimal",t}(Nm||{}),Ja=class{constructor(e){this.error=e}},km=class{constructor(e,n,s){this._getTagDefinition=n,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=s.tokenizeExpansionForms||!1,this._interpolationConfig=s.interpolationConfig||Vn,this._leadingTriviaCodePoints=s.leadingTriviaChars&&s.leadingTriviaChars.map(i=>i.codePointAt(0)||0);let r=s.range||{endPos:e.content.length,startPos:0,startLine:0,startCol:0};this._cursor=s.escapedString?new Pm(e,r):new zd(e,r),this._preserveLineEndings=s.preserveLineEndings||!1,this._i18nNormalizeLineEndingsInICUs=s.i18nNormalizeLineEndingsInICUs||!1,this._tokenizeBlocks=s.tokenizeBlocks??!0;try{this._cursor.init()}catch(i){this.handleError(i)}}_processCarriageReturns(e){return this._preserveLineEndings?e:e.replace(TF,`
`)}tokenize(){for(;this._cursor.peek()!==Et;){let e=this._cursor.clone();try{this._attemptCharCode(wo)?this._attemptCharCode(Qg)?this._attemptCharCode(Io)?this._consumeCdata(e):this._attemptCharCode(bd)?this._consumeComment(e):this._consumeDocType(e):this._attemptCharCode(us)?this._consumeTagClose(e):this._consumeTagOpen(e):this._tokenizeBlocks&&this._attemptCharCode(p0)?this._consumeBlockStart(e):this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansionCase()&&!this._isInExpansionForm()&&this._attemptCharCode(Mt)?this._consumeBlockEnd(e):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeWithInterpolation(5,8,()=>this._isTextEnd(),()=>this._isTagStart())}catch(n){this.handleError(n)}}this._beginToken(29),this._endToken([])}_getBlockName(){let e=!1,n=this._cursor.clone();return this._attemptCharCodeUntilFn(s=>ah(s)?!e:OF(s)?(e=!0,!1):!0),this._cursor.getChars(n).trim()}_consumeBlockStart(e){this._beginToken(24,e);let n=this._endToken([this._getBlockName()]);if(this._cursor.peek()===ps)if(this._cursor.advance(),this._consumeBlockParameters(),this._attemptCharCodeUntilFn(dt),this._attemptCharCode(En))this._attemptCharCodeUntilFn(dt);else{n.type=28;return}this._attemptCharCode($n)?(this._beginToken(25),this._endToken([])):n.type=28}_consumeBlockEnd(e){this._beginToken(26,e),this._endToken([])}_consumeBlockParameters(){for(this._attemptCharCodeUntilFn(X0);this._cursor.peek()!==En&&this._cursor.peek()!==Et;){this._beginToken(27);let e=this._cursor.clone(),n=null,s=0;for(;this._cursor.peek()!==xn&&this._cursor.peek()!==Et||n!==null;){let r=this._cursor.peek();if(r===Ed)this._cursor.advance();else if(r===n)n=null;else if(n===null&&xd(r))n=r;else if(r===ps&&n===null)s++;else if(r===En&&n===null){if(s===0)break;s>0&&s--}this._cursor.advance()}this._endToken([this._cursor.getChars(e)]),this._attemptCharCodeUntilFn(X0)}}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(PF(this._cursor.peek())&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(this._cursor.peek()===Mt){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(e,n=this._cursor.clone()){this._currentTokenStart=n,this._currentTokenType=e}_endToken(e,n){if(this._currentTokenStart===null)throw new Ka("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(n));if(this._currentTokenType===null)throw new Ka("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));let s={type:this._currentTokenType,parts:e,sourceSpan:(n??this._cursor).getSpan(this._currentTokenStart,this._leadingTriviaCodePoints)};return this.tokens.push(s),this._currentTokenStart=null,this._currentTokenType=null,s}_createError(e,n){this._isInExpansionForm()&&(e+=` (Do you have an unescaped "{" in your template? Use "{{ '{' }}") to escape it.)`);let s=new Ka(e,this._currentTokenType,n);return this._currentTokenStart=null,this._currentTokenType=null,new Ja(s)}handleError(e){if(e instanceof Mc&&(e=this._createError(e.msg,this._cursor.getSpan(e.cursor))),e instanceof Ja)this.errors.push(e.error);else throw e}_attemptCharCode(e){return this._cursor.peek()===e?(this._cursor.advance(),!0):!1}_attemptCharCodeCaseInsensitive(e){return RF(this._cursor.peek(),e)?(this._cursor.advance(),!0):!1}_requireCharCode(e){let n=this._cursor.clone();if(!this._attemptCharCode(e))throw this._createError(Ua(this._cursor.peek()),this._cursor.getSpan(n))}_attemptStr(e){let n=e.length;if(this._cursor.charsLeft()<n)return!1;let s=this._cursor.clone();for(let r=0;r<n;r++)if(!this._attemptCharCode(e.charCodeAt(r)))return this._cursor=s,!1;return!0}_attemptStrCaseInsensitive(e){for(let n=0;n<e.length;n++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(n)))return!1;return!0}_requireStr(e){let n=this._cursor.clone();if(!this._attemptStr(e))throw this._createError(Ua(this._cursor.peek()),this._cursor.getSpan(n))}_attemptCharCodeUntilFn(e){for(;!e(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(e,n){let s=this._cursor.clone();if(this._attemptCharCodeUntilFn(e),this._cursor.diff(s)<n)throw this._createError(Ua(this._cursor.peek()),this._cursor.getSpan(s))}_attemptUntilChar(e){for(;this._cursor.peek()!==e;)this._cursor.advance()}_readChar(){let e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}_consumeEntity(e){this._beginToken(9);let n=this._cursor.clone();if(this._cursor.advance(),this._attemptCharCode(gS)){let s=this._attemptCharCode(SS)||this._attemptCharCode(_P),r=this._cursor.clone();if(this._attemptCharCodeUntilFn(NF),this._cursor.peek()!=xn){this._cursor.advance();let o=s?Nm.HEX:Nm.DEC;throw this._createError(AF(o,this._cursor.getChars(n)),this._cursor.getSpan())}let i=this._cursor.getChars(r);this._cursor.advance();try{let o=parseInt(i,s?16:10);this._endToken([String.fromCharCode(o),this._cursor.getChars(n)])}catch{throw this._createError(q0(this._cursor.getChars(n)),this._cursor.getSpan())}}else{let s=this._cursor.clone();if(this._attemptCharCodeUntilFn(kF),this._cursor.peek()!=xn)this._beginToken(e,n),this._cursor=s,this._endToken(["&"]);else{let r=this._cursor.getChars(s);this._cursor.advance();let i=Ud[r];if(!i)throw this._createError(q0(r),this._cursor.getSpan(n));this._endToken([i,`&${r};`])}}}_consumeRawText(e,n){this._beginToken(e?6:7);let s=[];for(;;){let r=this._cursor.clone(),i=n();if(this._cursor=r,i)break;e&&this._cursor.peek()===wd?(this._endToken([this._processCarriageReturns(s.join(""))]),s.length=0,this._consumeEntity(6),this._beginToken(6)):s.push(this._readChar())}this._endToken([this._processCarriageReturns(s.join(""))])}_consumeComment(e){this._beginToken(10,e),this._requireCharCode(bd),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("-->")),this._beginToken(11),this._requireStr("-->"),this._endToken([])}_consumeCdata(e){this._beginToken(12,e),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(13),this._requireStr("]]>"),this._endToken([])}_consumeDocType(e){this._beginToken(18,e);let n=this._cursor.clone();this._attemptUntilChar(Ks);let s=this._cursor.getChars(n);this._cursor.advance(),this._endToken([s])}_consumePrefixAndName(){let e=this._cursor.clone(),n="";for(;this._cursor.peek()!==Js&&!MF(this._cursor.peek());)this._cursor.advance();let s;this._cursor.peek()===Js?(n=this._cursor.getChars(e),this._cursor.advance(),s=this._cursor.clone()):s=e,this._requireCharCodeUntilFn(G0,n===""?0:1);let r=this._cursor.getChars(s);return[n,r]}_consumeTagOpen(e){let n,s,r;try{if(!ch(this._cursor.peek()))throw this._createError(Ua(this._cursor.peek()),this._cursor.getSpan(e));for(r=this._consumeTagOpenStart(e),s=r.parts[0],n=r.parts[1],this._attemptCharCodeUntilFn(dt);this._cursor.peek()!==us&&this._cursor.peek()!==Ks&&this._cursor.peek()!==wo&&this._cursor.peek()!==Et;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(dt),this._attemptCharCode(bo)&&(this._attemptCharCodeUntilFn(dt),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(dt);this._consumeTagOpenEnd()}catch(o){if(o instanceof Ja){r?r.type=4:(this._beginToken(5,e),this._endToken(["<"]));return}throw o}let i=this._getTagDefinition(n).getContentType(s);i===Bn.RAW_TEXT?this._consumeRawTextWithTagClose(s,n,!1):i===Bn.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(s,n,!0)}_consumeRawTextWithTagClose(e,n,s){this._consumeRawText(s,()=>!this._attemptCharCode(wo)||!this._attemptCharCode(us)||(this._attemptCharCodeUntilFn(dt),!this._attemptStrCaseInsensitive(n))?!1:(this._attemptCharCodeUntilFn(dt),this._attemptCharCode(Ks))),this._beginToken(3),this._requireCharCodeUntilFn(r=>r===Ks,3),this._cursor.advance(),this._endToken([e,n])}_consumeTagOpenStart(e){this._beginToken(0,e);let n=this._consumePrefixAndName();return this._endToken(n)}_consumeAttributeName(){let e=this._cursor.peek();if(e===vc||e===mc)throw this._createError(Ua(e),this._cursor.getSpan());this._beginToken(14);let n=this._consumePrefixAndName();this._endToken(n)}_consumeAttributeValue(){if(this._cursor.peek()===vc||this._cursor.peek()===mc){let e=this._cursor.peek();this._consumeQuote(e);let n=()=>this._cursor.peek()===e;this._consumeWithInterpolation(16,17,n,n),this._consumeQuote(e)}else{let e=()=>G0(this._cursor.peek());this._consumeWithInterpolation(16,17,e,e)}}_consumeQuote(e){this._beginToken(15),this._requireCharCode(e),this._endToken([String.fromCodePoint(e)])}_consumeTagOpenEnd(){let e=this._attemptCharCode(us)?2:1;this._beginToken(e),this._requireCharCode(Ks),this._endToken([])}_consumeTagClose(e){this._beginToken(3,e),this._attemptCharCodeUntilFn(dt);let n=this._consumePrefixAndName();this._attemptCharCodeUntilFn(dt),this._requireCharCode(Ks),this._endToken(n)}_consumeExpansionFormStart(){this._beginToken(19),this._requireCharCode($n),this._endToken([]),this._expansionCaseStack.push(19),this._beginToken(7);let e=this._readUntil(rn),n=this._processCarriageReturns(e);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([n]);else{let r=this._endToken([e]);n!==e&&this.nonNormalizedIcuExpressions.push(r)}this._requireCharCode(rn),this._attemptCharCodeUntilFn(dt),this._beginToken(7);let s=this._readUntil(rn);this._endToken([s]),this._requireCharCode(rn),this._attemptCharCodeUntilFn(dt)}_consumeExpansionCaseStart(){this._beginToken(20);let e=this._readUntil($n).trim();this._endToken([e]),this._attemptCharCodeUntilFn(dt),this._beginToken(21),this._requireCharCode($n),this._endToken([]),this._attemptCharCodeUntilFn(dt),this._expansionCaseStack.push(21)}_consumeExpansionCaseEnd(){this._beginToken(22),this._requireCharCode(Mt),this._endToken([]),this._attemptCharCodeUntilFn(dt),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(23),this._requireCharCode(Mt),this._endToken([]),this._expansionCaseStack.pop()}_consumeWithInterpolation(e,n,s,r){this._beginToken(e);let i=[];for(;!s();){let o=this._cursor.clone();this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(this._endToken([this._processCarriageReturns(i.join(""))],o),i.length=0,this._consumeInterpolation(n,o,r),this._beginToken(e)):this._cursor.peek()===wd?(this._endToken([this._processCarriageReturns(i.join(""))]),i.length=0,this._consumeEntity(e),this._beginToken(e)):i.push(this._readChar())}this._inInterpolation=!1,this._endToken([this._processCarriageReturns(i.join(""))])}_consumeInterpolation(e,n,s){let r=[];this._beginToken(e,n),r.push(this._interpolationConfig.start);let i=this._cursor.clone(),o=null,a=!1;for(;this._cursor.peek()!==Et&&(s===null||!s());){let c=this._cursor.clone();if(this._isTagStart()){this._cursor=c,r.push(this._getProcessedChars(i,c)),this._endToken(r);return}if(o===null)if(this._attemptStr(this._interpolationConfig.end)){r.push(this._getProcessedChars(i,c)),r.push(this._interpolationConfig.end),this._endToken(r);return}else this._attemptStr("//")&&(a=!0);let l=this._cursor.peek();this._cursor.advance(),l===Ed?this._cursor.advance():l===o?o=null:!a&&o===null&&xd(l)&&(o=l)}r.push(this._getProcessedChars(i,this._cursor)),this._endToken(r)}_getProcessedChars(e,n){return this._processCarriageReturns(n.getChars(e))}_isTextEnd(){return!!(this._isTagStart()||this._cursor.peek()===Et||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||this._cursor.peek()===Mt&&this._isInExpansionCase())||this._tokenizeBlocks&&!this._inInterpolation&&!this._isInExpansion()&&(this._cursor.peek()===p0||this._cursor.peek()===Mt))}_isTagStart(){if(this._cursor.peek()===wo){let e=this._cursor.clone();e.advance();let n=e.peek();if(fi<=n&&n<=jc||Xo<=n&&n<=ih||n===us||n===Qg)return!0}return!1}_readUntil(e){let n=this._cursor.clone();return this._attemptUntilChar(e),this._cursor.getChars(n)}_isInExpansion(){return this._isInExpansionCase()||this._isInExpansionForm()}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===21}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===19}isExpansionFormStart(){if(this._cursor.peek()!==$n)return!1;if(this._interpolationConfig){let e=this._cursor.clone(),n=this._attemptStr(this._interpolationConfig.start);return this._cursor=e,!n}return!0}};function dt(t){return!ah(t)||t===Et}function G0(t){return ah(t)||t===Ks||t===wo||t===us||t===vc||t===mc||t===bo||t===Et}function MF(t){return(t<fi||jc<t)&&(t<Xo||ih<t)&&(t<Sv||t>yS)}function NF(t){return t===xn||t===Et||!NP(t)}function kF(t){return t===xn||t===Et||!ch(t)}function PF(t){return t!==Mt}function RF(t,e){return Y0(t)===Y0(e)}function Y0(t){return t>=fi&&t<=jc?t-fi+Xo:t}function OF(t){return ch(t)||cs(t)||t===oh}function X0(t){return t!==xn&&dt(t)}function FF(t){let e=[],n;for(let s=0;s<t.length;s++){let r=t[s];n&&n.type===5&&r.type===5||n&&n.type===16&&r.type===16?(n.parts[0]+=r.parts[0],n.sourceSpan.end=r.sourceSpan.end):(n=r,e.push(n))}return e}var zd=class t{constructor(e,n){if(e instanceof t){this.file=e.file,this.input=e.input,this.end=e.end;let s=e.state;this.state={peek:s.peek,offset:s.offset,line:s.line,column:s.column}}else{if(!n)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=e,this.input=e.content,this.end=n.endPos,this.state={peek:-1,offset:n.startPos,line:n.startLine,column:n.startCol}}}clone(){return new t(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(e){return this.state.offset-e.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(e,n){e=e||this;let s=e;if(n)for(;this.diff(e)>0&&n.indexOf(e.peek())!==-1;)s===e&&(e=e.clone()),e.advance();let r=this.locationFromCursor(e),i=this.locationFromCursor(this),o=s!==e?this.locationFromCursor(s):r;return new X(r,i,o)}getChars(e){return this.input.substring(e.state.offset,this.state.offset)}charAt(e){return this.input.charCodeAt(e)}advanceState(e){if(e.offset>=this.end)throw this.state=e,new Mc('Unexpected character "EOF"',this);let n=this.charAt(e.offset);n===ti?(e.line++,e.column=0):_S(n)||e.column++,e.offset++,this.updatePeek(e)}updatePeek(e){e.peek=e.offset>=this.end?Et:this.charAt(e.offset)}locationFromCursor(e){return new yc(e.file,e.state.offset,e.state.line,e.state.column)}},Pm=class t extends zd{constructor(e,n){e instanceof t?(super(e),this.internalState=_({},e.internalState)):(super(e,n),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new t(this)}getChars(e){let n=e.clone(),s="";for(;n.internalState.offset<this.internalState.offset;)s+=String.fromCodePoint(n.peek()),n.advance();return s}processEscapeSequence(){let e=()=>this.internalState.peek;if(e()===Ed)if(this.internalState=_({},this.state),this.advanceState(this.internalState),e()===wS)this.state.peek=ti;else if(e()===bS)this.state.peek=Cv;else if(e()===CS)this.state.peek=hS;else if(e()===ES)this.state.peek=xv;else if(e()===TP)this.state.peek=bP;else if(e()===Dv)this.state.peek=fS;else if(e()===xS)if(this.advanceState(this.internalState),e()===$n){this.advanceState(this.internalState);let n=this.clone(),s=0;for(;e()!==Mt;)this.advanceState(this.internalState),s++;this.state.peek=this.decodeHexDigits(n,s)}else{let n=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,4)}else if(e()===SS){this.advanceState(this.internalState);let n=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(n,2)}else if(g0(e())){let n="",s=0,r=this.clone();for(;g0(e())&&s<3;)r=this.clone(),n+=String.fromCodePoint(e()),this.advanceState(this.internalState),s++;this.state.peek=parseInt(n,8),this.internalState=r.internalState}else _S(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(e,n){let s=this.input.slice(e.internalState.offset,e.internalState.offset+n),r=parseInt(s,16);if(isNaN(r))throw e.state=e.internalState,new Mc("Invalid hexadecimal escape sequence",e);return r}},Mc=class{constructor(e,n){this.msg=e,this.cursor=n}},Tt=class t extends W{static create(e,n,s){return new t(e,n,s)}constructor(e,n,s){super(n,s),this.elementName=e}},Wd=class{constructor(e,n){this.rootNodes=e,this.errors=n}},Rm=class{constructor(e){this.getTagDefinition=e}parse(e,n,s){let r=IF(e,n,this.getTagDefinition,s),i=new Om(r.tokens,this.getTagDefinition);return i.build(),new Wd(i.rootNodes,r.errors.concat(i.errors))}},Om=class t{constructor(e,n){this.tokens=e,this.getTagDefinition=n,this._index=-1,this._containerStack=[],this.rootNodes=[],this.errors=[],this._advance()}build(){for(;this._peek.type!==29;)this._peek.type===0||this._peek.type===4?this._consumeStartTag(this._advance()):this._peek.type===3?this._consumeEndTag(this._advance()):this._peek.type===12?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===10?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===5||this._peek.type===7||this._peek.type===6?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===19?this._consumeExpansion(this._advance()):this._peek.type===24?(this._closeVoidElement(),this._consumeBlockOpen(this._advance())):this._peek.type===26?(this._closeVoidElement(),this._consumeBlockClose(this._advance())):this._peek.type===28?(this._closeVoidElement(),this._consumeIncompleteBlock(this._advance())):this._advance();for(let e of this._containerStack)e instanceof nn&&this.errors.push(Tt.create(e.name,e.sourceSpan,`Unclosed block "${e.name}"`))}_advance(){let e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(13)}_consumeComment(e){let n=this._advanceIf(7),s=this._advanceIf(11),r=n!=null?n.parts[0].trim():null,i=s==null?e.sourceSpan:new X(e.sourceSpan.start,s.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new Ac(r,i))}_consumeExpansion(e){let n=this._advance(),s=this._advance(),r=[];for(;this._peek.type===20;){let o=this._parseExpansionCase();if(!o)return;r.push(o)}if(this._peek.type!==23){this.errors.push(Tt.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));return}let i=new X(e.sourceSpan.start,this._peek.sourceSpan.end,e.sourceSpan.fullStart);this._addToParent(new qo(n.parts[0],s.parts[0],r,i,n.sourceSpan)),this._advance()}_parseExpansionCase(){let e=this._advance();if(this._peek.type!==21)return this.errors.push(Tt.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;let n=this._advance(),s=this._collectExpansionExpTokens(n);if(!s)return null;let r=this._advance();s.push({type:29,parts:[],sourceSpan:r.sourceSpan});let i=new t(s,this.getTagDefinition);if(i.build(),i.errors.length>0)return this.errors=this.errors.concat(i.errors),null;let o=new X(e.sourceSpan.start,r.sourceSpan.end,e.sourceSpan.fullStart),a=new X(n.sourceSpan.start,r.sourceSpan.end,n.sourceSpan.fullStart);return new Sm(e.parts[0],i.rootNodes,o,e.sourceSpan,a)}_collectExpansionExpTokens(e){let n=[],s=[21];for(;;){if((this._peek.type===19||this._peek.type===21)&&s.push(this._peek.type),this._peek.type===22)if(Q0(s,21)){if(s.pop(),s.length===0)return n}else return this.errors.push(Tt.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===23)if(Q0(s,19))s.pop();else return this.errors.push(Tt.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(this._peek.type===29)return this.errors.push(Tt.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.push(this._advance())}}_consumeText(e){let n=[e],s=e.sourceSpan,r=e.parts[0];if(r.length>0&&r[0]===`
`){let i=this._getContainer();i!=null&&i.children.length===0&&this.getTagDefinition(i.name).ignoreFirstLf&&(r=r.substring(1),n[0]={type:e.type,sourceSpan:e.sourceSpan,parts:[r]})}for(;this._peek.type===8||this._peek.type===5||this._peek.type===9;)e=this._advance(),n.push(e),e.type===8?r+=e.parts.join("").replace(/&([^;]+);/g,Z0):e.type===9?r+=e.parts[0]:r+=e.parts.join("");if(r.length>0){let i=e.sourceSpan;this._addToParent(new fr(r,new X(s.start,i.end,s.fullStart,s.details),n))}}_closeVoidElement(){let e=this._getContainer();e instanceof tn&&this.getTagDefinition(e.name).isVoid&&this._containerStack.pop()}_consumeStartTag(e){let[n,s]=e.parts,r=[];for(;this._peek.type===14;)r.push(this._consumeAttr(this._advance()));let i=this._getElementFullName(n,s,this._getClosestParentElement()),o=!1;if(this._peek.type===2){this._advance(),o=!0;let h=this.getTagDefinition(i);h.canSelfClose||$g(i)!==null||h.isVoid||this.errors.push(Tt.create(i,e.sourceSpan,`Only void, custom and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===1&&(this._advance(),o=!1);let a=this._peek.sourceSpan.fullStart,c=new X(e.sourceSpan.start,a,e.sourceSpan.fullStart),l=new X(e.sourceSpan.start,a,e.sourceSpan.fullStart),u=new tn(i,r,[],c,l,void 0),d=this._getContainer();this._pushContainer(u,d instanceof tn&&this.getTagDefinition(d.name).isClosedByChild(u.name)),o?this._popContainer(i,tn,c):e.type===4&&(this._popContainer(i,tn,null),this.errors.push(Tt.create(i,c,`Opening tag "${i}" not terminated.`)))}_pushContainer(e,n){n&&this._containerStack.pop(),this._addToParent(e),this._containerStack.push(e)}_consumeEndTag(e){let n=this._getElementFullName(e.parts[0],e.parts[1],this._getClosestParentElement());if(this.getTagDefinition(n).isVoid)this.errors.push(Tt.create(n,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popContainer(n,tn,e.sourceSpan)){let s=`Unexpected closing tag "${n}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this.errors.push(Tt.create(n,e.sourceSpan,s))}}_popContainer(e,n,s){let r=!1;for(let i=this._containerStack.length-1;i>=0;i--){let o=this._containerStack[i];if((o.name===e||e===null)&&o instanceof n)return o.endSourceSpan=s,o.sourceSpan.end=s!==null?s.end:o.sourceSpan.end,this._containerStack.splice(i,this._containerStack.length-i),!r;(o instanceof nn||o instanceof tn&&!this.getTagDefinition(o.name).closedByParent)&&(r=!0)}return!1}_consumeAttr(e){let n=jg(e.parts[0],e.parts[1]),s=e.sourceSpan.end;this._peek.type===15&&this._advance();let r="",i=[],o,a;if(this._peek.type===16)for(o=this._peek.sourceSpan,a=this._peek.sourceSpan.end;this._peek.type===16||this._peek.type===17||this._peek.type===9;){let u=this._advance();i.push(u),u.type===17?r+=u.parts.join("").replace(/&([^;]+);/g,Z0):u.type===9?r+=u.parts[0]:r+=u.parts.join(""),a=s=u.sourceSpan.end}this._peek.type===15&&(s=this._advance().sourceSpan.end);let l=o&&a&&new X(o.start,a,o.fullStart);return new Dm(n,r,new X(e.sourceSpan.start,s,e.sourceSpan.fullStart),e.sourceSpan,l,i.length>0?i:void 0,void 0)}_consumeBlockOpen(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new Hd(a.parts[0],a.sourceSpan))}this._peek.type===25&&this._advance();let s=this._peek.sourceSpan.fullStart,r=new X(e.sourceSpan.start,s,e.sourceSpan.fullStart),i=new X(e.sourceSpan.start,s,e.sourceSpan.fullStart),o=new nn(e.parts[0],n,[],r,e.sourceSpan,i);this._pushContainer(o,!1)}_consumeBlockClose(e){this._popContainer(null,nn,e.sourceSpan)||this.errors.push(Tt.create(null,e.sourceSpan,'Unexpected closing block. The block may have been closed earlier. If you meant to write the } character, you should use the "&#125;" HTML entity instead.'))}_consumeIncompleteBlock(e){let n=[];for(;this._peek.type===27;){let a=this._advance();n.push(new Hd(a.parts[0],a.sourceSpan))}let s=this._peek.sourceSpan.fullStart,r=new X(e.sourceSpan.start,s,e.sourceSpan.fullStart),i=new X(e.sourceSpan.start,s,e.sourceSpan.fullStart),o=new nn(e.parts[0],n,[],r,e.sourceSpan,i);this._pushContainer(o,!1),this._popContainer(null,nn,null),this.errors.push(Tt.create(e.parts[0],r,`Incomplete block "${e.parts[0]}". If you meant to write the @ character, you should use the "&#64;" HTML entity instead.`))}_getContainer(){return this._containerStack.length>0?this._containerStack[this._containerStack.length-1]:null}_getClosestParentElement(){for(let e=this._containerStack.length-1;e>-1;e--)if(this._containerStack[e]instanceof tn)return this._containerStack[e];return null}_addToParent(e){let n=this._getContainer();n===null?this.rootNodes.push(e):n.children.push(e)}_getElementFullName(e,n,s){if(e===""&&(e=this.getTagDefinition(n).implicitNamespacePrefix||"",e===""&&s!=null)){let r=Ct(s.name)[1];this.getTagDefinition(r).preventNamespaceInheritance||(e=$g(s.name))}return jg(e,n)}};function Q0(t,e){return t.length>0&&t[t.length-1]===e}function Z0(t,e){return Ud[e]!==void 0?Ud[e]||t:/^#x[a-f0-9]+$/i.test(e)?String.fromCodePoint(parseInt(e.slice(2),16)):/^#\d+$/.test(e)?String.fromCodePoint(parseInt(e.slice(1),10)):t}var K0=new Set(["iframe|srcdoc","*|innerhtml","*|outerhtml","embed|src","object|codebase","object|data"]);function KS(t,e){return t=t.toLowerCase(),e=e.toLowerCase(),K0.has(t+"|"+e)||K0.has("*|"+e)}var LF=(t,e)=>(t instanceof hr&&(e instanceof Oo&&t.i18n instanceof mt&&(e.previousMessage=t.i18n),t.i18n=e),e),qd=class{constructor(e=Vn,n=!1,s=!1,r=wP){this.interpolationConfig=e,this.keepI18nAttrs=n,this.enableI18nLegacyMessageIdFormat=s,this.containerBlocks=r,this.hasI18nMeta=!1,this._errors=[]}_generateI18nMessage(e,n="",s){let{meaning:r,description:i,customId:o}=this._parseMetadata(n),c=bF(this.interpolationConfig,this.containerBlocks)(e,r,i,o,s);return this._setMessageId(c,n),this._setLegacyIds(c,n),c}visitAllWithErrors(e){let n=e.map(s=>s.visit(this,null));return new Wd(n,this._errors)}visitElement(e){let n;if(iP(e)){this.hasI18nMeta=!0;let s=[],r={};for(let i of e.attrs)if(i.name===oS){let o=e.i18n||i.value;n=this._generateI18nMessage(e.children,o,LF),n.nodes.length===0&&(n=void 0),e.i18n=n}else if(i.name.startsWith(Yg)){let o=i.name.slice(Yg.length);KS(e.name,o)?this._reportError(i,`Translating attribute '${o}' is disallowed for security reasons.`):r[o]=i.value}else s.push(i);if(Object.keys(r).length)for(let i of s){let o=r[i.name];o!==void 0&&i.value&&(i.i18n=this._generateI18nMessage([i],i.i18n||o))}this.keepI18nAttrs||(e.attrs=s)}return Re(this,e.children,n),e}visitExpansion(e,n){let s,r=e.i18n;if(this.hasI18nMeta=!0,r instanceof Oo){let i=r.name;s=this._generateI18nMessage([e],r);let o=bv(s);o.name=i,n!==null&&(n.placeholderToMessage[i]=s)}else s=this._generateI18nMessage([e],n||r);return e.i18n=s,e}visitText(e){return e}visitAttribute(e){return e}visitComment(e){return e}visitExpansionCase(e){return e}visitBlock(e,n){return Re(this,e.children,n),e}visitBlockParameter(e,n){return e}_parseMetadata(e){return typeof e=="string"?$F(e):e instanceof mt?e:{}}_setMessageId(e,n){e.id||(e.id=n instanceof mt&&n.id||ok(e))}_setLegacyIds(e,n){if(this.enableI18nLegacyMessageIdFormat)e.legacyIds=[ik(e),XC(e)];else if(typeof n!="string"){let s=n instanceof mt?n:n instanceof Oo?n.previousMessage:void 0;e.legacyIds=s?s.legacyIds:[]}}_reportError(e,n){this._errors.push(new Am(e.sourceSpan,n))}},BF="|",VF="@@";function $F(t=""){let e,n,s;if(t=t.trim(),t){let r=t.indexOf(VF),i=t.indexOf(BF),o;[o,e]=r>-1?[t.slice(0,r),t.slice(r+2)]:[t,""],[n,s]=i>-1?[o.slice(0,i),o.slice(i+1)]:["",o]}return{customId:e,meaning:n,description:s}}function jF(t){let e=[];return t.description?e.push({tagName:"desc",text:t.description}):e.push({tagName:"suppress",text:"{msgDescriptions}"}),t.meaning&&e.push({tagName:"meaning",text:t.meaning}),bk(e)}var HF="goog.getMsg";function JS(t,e,n,s){let r=zF(e),i=[w(r)];Object.keys(s).length&&(i.push(Ic(Bc(s,!0),!0)),i.push(Ic({original_code:st(Object.keys(s).map(c=>({key:Vc(c),quoted:!0,value:e.placeholders[c]?w(e.placeholders[c].sourceSpan.toString()):w(e.placeholderToMessage[c].nodes.map(l=>l.sourceSpan.toString()).join(""))})))})));let o=n.set(L(HF).callFn(i)).toConstDecl();o.addLeadingComment(jF(e));let a=new nt(t.set(n));return[o,a]}var Fm=class{formatPh(e){return`{$${Vc(e)}}`}visitText(e){return e.value}visitContainer(e){return e.children.map(n=>n.visit(this)).join("")}visitIcu(e){return YS(e)}visitTagPlaceholder(e){return e.isVoid?this.formatPh(e.startName):`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitPlaceholder(e){return this.formatPh(e.name)}visitBlockPlaceholder(e){return`${this.formatPh(e.startName)}${e.children.map(n=>n.visit(this)).join("")}${this.formatPh(e.closeName)}`}visitIcuPlaceholder(e,n){return this.formatPh(e.name)}},UF=new Fm;function zF(t){return t.nodes.map(e=>e.visit(UF,null)).join("")}function eD(t,e,n){let{messageParts:s,placeHolders:r}=WF(e),i=qF(e),o=r.map(l=>n[l.text]),a=Ek(e,s,r,o,i),c=t.set(a);return[new nt(c)]}var Lm=class{constructor(e,n){this.placeholderToMessage=e,this.pieces=n}visitText(e){if(this.pieces[this.pieces.length-1]instanceof Jr)this.pieces[this.pieces.length-1].text+=e.value;else{let n=new X(e.sourceSpan.fullStart,e.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details);this.pieces.push(new Jr(e.value,n))}}visitContainer(e){e.children.forEach(n=>n.visit(this))}visitIcu(e){this.pieces.push(new Jr(YS(e),e.sourceSpan))}visitTagPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.isVoid||(e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan)))}visitPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan))}visitBlockPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.startName,e.startSourceSpan??e.sourceSpan)),e.children.forEach(n=>n.visit(this)),this.pieces.push(this.createPlaceholderPiece(e.closeName,e.endSourceSpan??e.sourceSpan))}visitIcuPlaceholder(e){this.pieces.push(this.createPlaceholderPiece(e.name,e.sourceSpan,this.placeholderToMessage[e.name]))}createPlaceholderPiece(e,n,s){return new Do(Vc(e,!1),n,s)}};function WF(t){let e=[],n=new Lm(t.placeholderToMessage,e);return t.nodes.forEach(s=>s.visit(n)),GF(e)}function qF(t){let e=t.nodes[0],n=t.nodes[t.nodes.length-1];return new X(e.sourceSpan.fullStart,n.sourceSpan.end,e.sourceSpan.fullStart,e.sourceSpan.details)}function GF(t){let e=[],n=[];t[0]instanceof Do&&e.push(fg(t[0].sourceSpan.start));for(let s=0;s<t.length;s++){let r=t[s];r instanceof Jr?e.push(r):(n.push(r),t[s-1]instanceof Do&&e.push(fg(t[s-1].sourceSpan.end)))}return t[t.length-1]instanceof Do&&e.push(fg(t[t.length-1].sourceSpan.end)),{messageParts:e,placeHolders:n}}function fg(t){return new Jr("",new X(t,t))}var J0="ngI18nClosureMode",YF="i18n_",XF="I18N_EXP_",eC="\uFFFD";function QF(t){let e=t.relativeContextFilePath.replace(/[^A-Za-z0-9]/g,"_").toUpperCase()+"_",n=new Map,s=new Map,r=new Map,i=new Map;for(let c of t.units)for(let l of c.ops())if(l.kind===m.ExtractedAttribute&&l.i18nContext!==null){let u=n.get(l.i18nContext)??[];u.push(l),n.set(l.i18nContext,u)}else if(l.kind===m.I18nAttributes)s.set(l.target,l);else if(l.kind===m.I18nExpression&&l.usage===Qo.I18nAttribute){let u=r.get(l.target)??[];u.push(l),r.set(l.target,u)}else l.kind===m.I18nMessage&&i.set(l.xref,l);let o=new Map,a=new Map;for(let c of t.units)for(let l of c.create)if(l.kind===m.I18nMessage){if(l.messagePlaceholder===null){let{mainVar:u,statements:d}=tD(t,e,i,l);if(l.i18nBlock!==null){let h=t.addConst(u,d);a.set(l.i18nBlock,h)}else{t.constsInitializers.push(...d),o.set(l.i18nContext,u);let h=n.get(l.i18nContext);if(h!==void 0)for(let f of h)f.expression=u.clone()}}T.remove(l)}for(let c of t.units)for(let l of c.create)if(ur(l)){let u=s.get(l.xref);if(u===void 0)continue;let d=r.get(l.xref);if(d===void 0)throw new Error("AssertionError: Could not find any i18n expressions associated with an I18nAttributes instruction");let h=new Set;d=d.filter(g=>{let y=h.has(g.name);return h.add(g.name),!y});let f=d.flatMap(g=>{let y=o.get(g.context);if(y===void 0)throw new Error("AssertionError: Could not find i18n expression's value");return[w(g.name),y]});u.i18nAttributesConfig=t.addConst(new an(f))}for(let c of t.units)for(let l of c.create)if(l.kind===m.I18nStart){let u=a.get(l.root);if(u===void 0)throw new Error("AssertionError: Could not find corresponding i18n block index for an i18n message op; was an i18n message incorrectly assumed to correspond to an attribute?");l.messageIndex=u}}function tD(t,e,n,s){let r=[],i=new Map;for(let l of s.subMessages){let u=n.get(l),{mainVar:d,statements:h}=tD(t,e,n,u);r.push(...h);let f=i.get(u.messagePlaceholder)??[];f.push(d),i.set(u.messagePlaceholder,f)}ZF(s,i),s.params=new Map([...s.params.entries()].sort());let o=L(t.pool.uniqueName(YF)),a=eL(t.pool,s.message.id,e,t.i18nUseExternalIds),c;if(s.needsPostprocessing||s.postprocessingParams.size>0){let l=Object.fromEntries([...s.postprocessingParams.entries()].sort()),u=Bc(l,!1),d=[];s.postprocessingParams.size>0&&d.push(Ic(u,!0)),c=h=>P(p.i18nPostprocess).callFn([h,...d])}return r.push(...KF(s.message,o,a,s.params,c)),{mainVar:o,statements:r}}function ZF(t,e){for(let[n,s]of e)s.length===1?t.params.set(n,s[0]):(t.params.set(n,w(`${eC}${XF}${n}${eC}`)),t.postprocessingParams.set(n,z(s)))}function KF(t,e,n,s,r){let i=Object.fromEntries(s),o=[lS(e),Lc(JF(),JS(e,t,n,i),eD(e,t,Bc(i,!1)))];return r&&o.push(new nt(e.set(r(e)))),o}function JF(){return Fc(L(J0)).notIdentical(w("undefined",yv)).and(L(J0))}function eL(t,e,n,s){let r,i=n;if(s){let o=md("EXTERNAL_"),a=t.uniqueName(i);r=`${o}${Un(e)}$$${a}`}else{let o=md(i);r=t.uniqueName(o)}return L(r)}function tL(t){for(let e of t.units){let n=null,s=null,r=new Map,i=new Map,o=new Map;for(let a of e.create)switch(a.kind){case m.I18nStart:if(a.context===null)throw Error("I18n op should have its context set.");n=a;break;case m.I18nEnd:n=null;break;case m.IcuStart:if(a.context===null)throw Error("Icu op should have its context set.");s=a;break;case m.IcuEnd:s=null;break;case m.Text:if(n!==null)if(r.set(a.xref,n),i.set(a.xref,s),a.icuPlaceholder!==null){let c=QR(t.allocateXrefId(),a.icuPlaceholder,[a.initialValue]);T.replace(a,c),o.set(a.xref,c)}else T.remove(a);break}for(let a of e.update)switch(a.kind){case m.InterpolateText:if(!r.has(a.target))continue;let c=r.get(a.target),l=i.get(a.target),u=o.get(a.target),d=l?l.context:c.context,h=l?Cc.Postproccessing:Cc.Creation,f=[];for(let g=0;g<a.interpolation.expressions.length;g++){let y=a.interpolation.expressions[g];f.push(VS(d,c.xref,c.xref,c.handle,y,u?.xref??null,a.interpolation.i18nPlaceholders[g]??null,h,Qo.I18nText,"",y.sourceSpan??a.sourceSpan))}T.replaceWithMany(a,f),u!==void 0&&(u.strings=a.interpolation.strings);break}}}function nL(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case m.ElementStart:case m.Template:if(!Array.isArray(n.localRefs))throw new Error("AssertionError: expected localRefs to be an array still");if(n.numSlotsUsed+=n.localRefs.length,n.localRefs.length>0){let s=sL(n.localRefs);n.localRefs=t.addConst(s)}else n.localRefs=null;break}}function sL(t){let e=[];for(let n of t)e.push(w(n.name),w(n.target));return z(e)}function rL(t){for(let e of t.units){let n=gt.HTML;for(let s of e.create)s.kind===m.ElementStart&&s.namespace!==n&&(T.insertBefore(UR(s.namespace),s),n=s.namespace)}}function nD(t){let e=[],n=0,s=0,r=0,i=0,o=0,a=null;for(;n<t.length;)switch(t.charCodeAt(n++)){case 40:s++;break;case 41:s--;break;case 39:r===0?r=39:r===39&&t.charCodeAt(n-1)!==92&&(r=0);break;case 34:r===0?r=34:r===34&&t.charCodeAt(n-1)!==92&&(r=0);break;case 58:!a&&s===0&&r===0&&(a=Pv(t.substring(o,n-1).trim()),i=n);break;case 59:if(a&&i>0&&s===0&&r===0){let l=t.substring(i,n-1).trim();e.push(a,l),o=n,i=0,a=null}break}if(a&&i){let c=t.slice(i).trim();e.push(a,c)}return e}function Pv(t){return t.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}function iL(t){Wu(t.root,t.componentName,{index:0},t.compatibility===Xt.TemplateDefinitionBuilder)}function Wu(t,e,n,s){t.fnName===null&&(t.fnName=t.job.pool.uniqueName(Un(`${e}_${t.job.fnSuffix}`),!1));let r=new Map;for(let i of t.ops())switch(i.kind){case m.Property:case m.HostProperty:i.isAnimationTrigger&&(i.name="@"+i.name);break;case m.Listener:if(i.handlerFnName!==null)break;if(!i.hostListener&&i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");let o="";i.isAnimationListener&&(i.name=`@${i.name}.${i.animationPhase}`,o="animation"),i.hostListener?i.handlerFnName=`${e}_${o}${i.name}_HostBindingHandler`:i.handlerFnName=`${t.fnName}_${i.tag.replace("-","_")}_${o}${i.name}_${i.targetSlot.slot}_listener`,i.handlerFnName=Un(i.handlerFnName);break;case m.TwoWayListener:if(i.handlerFnName!==null)break;if(i.targetSlot.slot===null)throw new Error("Expected a slot to be assigned");i.handlerFnName=Un(`${t.fnName}_${i.tag.replace("-","_")}_${i.name}_${i.targetSlot.slot}_listener`);break;case m.Variable:r.set(i.xref,oL(t,i.variable,n));break;case m.RepeaterCreate:if(!(t instanceof dr))throw new Error("AssertionError: must be compiling a component");if(i.handle.slot===null)throw new Error("Expected slot to be assigned");if(i.emptyView!==null){let l=t.job.views.get(i.emptyView);Wu(l,`${e}_${i.functionNameSuffix}Empty_${i.handle.slot+2}`,n,s)}Wu(t.job.views.get(i.xref),`${e}_${i.functionNameSuffix}_${i.handle.slot+1}`,n,s);break;case m.Template:if(!(t instanceof dr))throw new Error("AssertionError: must be compiling a component");let a=t.job.views.get(i.xref);if(i.handle.slot===null)throw new Error("Expected slot to be assigned");let c=i.functionNameSuffix.length===0?"":`_${i.functionNameSuffix}`;Wu(a,`${e}${c}_${i.handle.slot}`,n,s);break;case m.StyleProp:i.name=aL(i.name),s&&(i.name=tC(i.name));break;case m.ClassProp:s&&(i.name=tC(i.name));break}for(let i of t.ops())Ot(i,o=>{if(!(!(o instanceof Cs)||o.name!==null)){if(!r.has(o.xref))throw new Error(`Variable ${o.xref} not yet named`);o.name=r.get(o.xref)}})}function oL(t,e,n){if(e.name===null)switch(e.kind){case Je.Context:e.name=`ctx_r${n.index++}`;break;case Je.Identifier:if(t.job.compatibility===Xt.TemplateDefinitionBuilder){let s=e.identifier==="ctx"?"i":"";e.name=`${e.identifier}_${s}r${++n.index}`}else e.name=`${e.identifier}_i${n.index++}`;break;default:e.name=`_r${++n.index}`;break}return e.name}function aL(t){return t.startsWith("--")?t:Pv(t)}function tC(t){let e=t.indexOf("!important");return e>-1?t.substring(0,e):t}function cL(t){for(let e of t.units){for(let n of e.create)(n.kind===m.Listener||n.kind===m.TwoWayListener)&&nC(n.handlerOps);nC(e.update)}}function nC(t){for(let e of t){if(e.kind!==m.Statement||!(e.statement instanceof nt)||!(e.statement.expr instanceof Nd))continue;let n=e.statement.expr.steps,s=!0;for(let r=e.next;r.kind!==m.ListEnd&&s;r=r.next)Ot(r,(i,o)=>{if(!Qn(i))return i;if(s&&!(o&ge.InChildOperation))switch(i.kind){case j.NextContext:i.steps+=n,T.remove(e),s=!1;break;case j.GetCurrentView:case j.Reference:s=!1;break}})}}var lL="ng-container";function uL(t){for(let e of t.units){let n=new Set;for(let s of e.create)s.kind===m.ElementStart&&s.tag===lL&&(s.kind=m.ContainerStart,n.add(s.xref)),s.kind===m.ElementEnd&&n.has(s.xref)&&(s.kind=m.ContainerEnd)}}function dL(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an element-like target.");return n}function hL(t){let e=new Map;for(let n of t.units)for(let s of n.create)ur(s)&&e.set(s.xref,s);for(let n of t.units)for(let s of n.create)(s.kind===m.ElementStart||s.kind===m.ContainerStart)&&s.nonBindable&&T.insertAfter(jR(s.xref),s),(s.kind===m.ElementEnd||s.kind===m.ContainerEnd)&&dL(e,s.xref).nonBindable&&T.insertBefore(HR(s.xref),s)}function fL(t){for(let e of t.units)for(let n of e.ops())at(n,s=>{if(!(s instanceof ee)||s.operator!==R.NullishCoalesce)return s;let r=new Sn(s.lhs.clone(),t.allocateXrefId()),i=new Ss(r.xref);return new Yt(new ee(R.And,new ee(R.NotIdentical,r,ci),new ee(R.NotIdentical,i,new tt(void 0))),i.clone(),s.rhs)},ge.None)}function ds(t){return e=>e.kind===t}function ec(t,e){return n=>n.kind===t&&e===n.expression instanceof We}function pL(t){return t.kind===m.Listener&&!(t.hostListener&&t.isAnimationListener)||t.kind===m.TwoWayListener}function gL(t){return(t.kind===m.Property||t.kind===m.TwoWayProperty)&&!(t.expression instanceof We)}var mL=[{test:t=>t.kind===m.Listener&&t.hostListener&&t.isAnimationListener},{test:pL}],vL=[{test:ds(m.StyleMap),transform:Gd},{test:ds(m.ClassMap),transform:Gd},{test:ds(m.StyleProp)},{test:ds(m.ClassProp)},{test:ec(m.Attribute,!0)},{test:ec(m.Property,!0)},{test:gL},{test:ec(m.Attribute,!1)}],yL=[{test:ec(m.HostProperty,!0)},{test:ec(m.HostProperty,!1)},{test:ds(m.Attribute)},{test:ds(m.StyleMap),transform:Gd},{test:ds(m.ClassMap),transform:Gd},{test:ds(m.StyleProp)},{test:ds(m.ClassProp)}],sC=new Set([m.Listener,m.TwoWayListener,m.StyleMap,m.ClassMap,m.StyleProp,m.ClassProp,m.Property,m.TwoWayProperty,m.HostProperty,m.Attribute]);function wL(t){for(let e of t.units){rC(e.create,mL);let n=e.job.kind===O.Host?yL:vL;rC(e.update,n)}}function rC(t,e){let n=[],s=null;for(let r of t){let i=Mv(r)?r.target:null;(!sC.has(r.kind)||i!==s&&s!==null&&i!==null)&&(T.insertBefore(iC(n,e),r),n=[],s=null),sC.has(r.kind)&&(n.push(r),T.remove(r),s=i??s)}t.push(iC(n,e))}function iC(t,e){let n=Array.from(e,()=>new Array);for(let s of t){let r=e.findIndex(i=>i.test(s));n[r].push(s)}return n.flatMap((s,r)=>{let i=e[r].transform;return i?i(s):s})}function Gd(t){return t.slice(t.length-1)}function bL(t){let e=new Map;for(let n of t.units)for(let s of n.create)ur(s)&&e.set(s.xref,s);for(let n of t.units)for(let s of n.create)if(s.kind===m.ExtractedAttribute&&s.bindingKind===V.Attribute&&$S(s.expression)){let r=e.get(s.target);if(r!==void 0&&r.kind===m.Template&&r.templateKind===Wt.Structural)continue;if(s.name==="style"){let i=nD(s.expression.value);for(let o=0;o<i.length-1;o+=2)T.insertBefore(sn(s.target,V.StyleProperty,null,i[o],w(i[o+1]),null,null,ne.STYLE),s);T.remove(s)}else if(s.name==="class"){let i=s.expression.value.trim().split(/\s+/g);for(let o of i)T.insertBefore(sn(s.target,V.ClassName,null,o,null,null,null,ne.NONE),s);T.remove(s)}}}function EL(t){for(let e of t.units){let n=kv(e);for(let s of e.ops())switch(s.kind){case m.Binding:let r=CL(n,s.target);xL(s.name)&&r.kind===m.Projection&&T.remove(s);break}}}function xL(t){return t.toLowerCase()==="select"}function CL(t,e){let n=t.get(e);if(n===void 0)throw new Error("All attributes should have an slottable target.");return n}function SL(t){for(let e of t.units)DL(e)}function DL(t){for(let e of t.update)Ot(e,(n,s)=>{if(Qn(n)&&n.kind===j.PipeBinding){if(s&ge.InChildOperation)throw new Error("AssertionError: pipe bindings should not appear in child expressions");if(t.job.compatibility){if(e.target==null)throw new Error("AssertionError: expected slot handle to be assigned for pipe creation");_L(t,e.target,n)}else t.create.push(US(n.target,n.targetSlot,n.name))}})}function _L(t,e,n){for(let s=t.create.head.next;s.kind!==m.ListEnd;s=s.next){if(!Zo(s)||s.xref!==e)continue;for(;s.next.kind===m.Pipe;)s=s.next;let r=US(n.target,n.targetSlot,n.name);T.insertBefore(r,s.next);return}throw new Error(`AssertionError: unable to find insertion point for pipe ${n.name}`)}function IL(t){for(let e of t.units)for(let n of e.update)at(n,s=>!(s instanceof Di)||s.args.length<=4?s:new Rd(s.target,s.targetSlot,s.name,z(s.args),s.args.length),ge.None)}function TL(t){sD(t.root,0)}function sD(t,e){let n=null;for(let s of t.create)switch(s.kind){case m.I18nStart:s.subTemplateIndex=e===0?null:e,n=s;break;case m.I18nEnd:n.subTemplateIndex===null&&(e=0),n=null;break;case m.Template:e=pg(t.job.views.get(s.xref),n,s.i18nPlaceholder,e);break;case m.RepeaterCreate:let r=t.job.views.get(s.xref);e=pg(r,n,s.i18nPlaceholder,e),s.emptyView!==null&&(e=pg(t.job.views.get(s.emptyView),n,s.emptyI18nPlaceholder,e));break}return e}function pg(t,e,n,s){if(n!==void 0){if(e===null)throw Error("Expected template with i18n placeholder to be in an i18n block.");s++,AL(t,e)}return sD(t,s)}function AL(t,e){if(t.create.head.next?.kind!==m.I18nStart){let n=t.job.allocateXrefId();T.insertAfter(fh(n,e.message,e.root,null),t.create.head),T.insertBefore(ph(n,null),t.create.tail)}}function ML(t){for(let e of t.units)for(let n of e.ops())Ot(n,s=>{if(!(s instanceof Si)||s.body===null)return;let r=new Bm(s.args.length);s.fn=t.pool.getSharedConstant(r,s.body),s.body=null})}var Bm=class extends _o{constructor(e){super(),this.numArgs=e}keyOf(e){return e instanceof jo?`param(${e.index})`:super.keyOf(e)}toSharedConstantDeclaration(e,n){let s=[];for(let i=0;i<this.numArgs;i++)s.push(new Ee("a"+i));let r=F(n,i=>i instanceof jo?L("a"+i.index):i,ge.None);return new vt(e,new oi(s,r),void 0,it.Final)}};function NL(t){for(let e of t.units)for(let n of e.update)at(n,(s,r)=>r&ge.InChildOperation?s:s instanceof an?kL(s):s instanceof Cn?PL(s):s,ge.None)}function kL(t){let e=[],n=[];for(let s of t.entries)if(s.isConstant())e.push(s);else{let r=n.length;n.push(s),e.push(new jo(r))}return new Si(z(e),n)}function PL(t){let e=[],n=[];for(let s of t.entries)if(s.value.isConstant())e.push(s);else{let r=n.length;n.push(s.value),e.push(new No(s.key,new jo(r),s.quoted))}return new Si(st(e),n)}function RL(t,e,n,s,r){return gh(p.element,t,e,n,s,r)}function OL(t,e,n,s,r){return gh(p.elementStart,t,e,n,s,r)}function gh(t,e,n,s,r,i){let o=[w(e)];return n!==null&&o.push(w(n)),r!==null?o.push(w(s),w(r)):s!==null&&o.push(w(s)),se(t,o,i)}function FL(t){return se(p.elementEnd,[],t)}function LL(t,e,n,s){return gh(p.elementContainerStart,t,null,e,n,s)}function BL(t,e,n,s){return gh(p.elementContainer,t,null,e,n,s)}function VL(){return se(p.elementContainerEnd,[],null)}function $L(t,e,n,s,r,i,o,a){let c=[w(t),e,w(n),w(s),w(r),w(i)];for(o!==null&&(c.push(w(o)),c.push(P(p.templateRefExtractor)));c[c.length-1].isEquivalent(ci);)c.pop();return se(p.templateCreate,c,a)}function jL(){return se(p.disableBindings,[],null)}function HL(){return se(p.enableBindings,[],null)}function UL(t,e,n,s,r){let i=[w(t),e];return n!==null&&(i.push(w(!1)),i.push(P(n))),se(s?p.syntheticHostListener:p.listener,i,r)}function oC(t,e){return P(p.twoWayBindingSet).callFn([t,e])}function zL(t,e,n){return se(p.twoWayListener,[w(t),e],n)}function WL(t,e){return se(p.pipe,[w(t),w(e)],null)}function qL(){return se(p.namespaceHTML,[],null)}function GL(){return se(p.namespaceSVG,[],null)}function YL(){return se(p.namespaceMathML,[],null)}function XL(t,e){return se(p.advance,t>1?[w(t)]:[],e)}function QL(t){return P(p.reference).callFn([w(t)])}function ZL(t){return P(p.nextContext).callFn(t===1?[]:[w(t)])}function KL(){return P(p.getCurrentView).callFn([])}function JL(t){return P(p.restoreView).callFn([t])}function eB(t){return P(p.resetView).callFn([t])}function tB(t,e,n){let s=[w(t,null)];return e!==""&&s.push(w(e)),se(p.text,s,n)}function nB(t,e,n,s,r,i,o,a,c,l){let u=[w(t),w(e),n??w(null),w(s),w(r),w(i),o??w(null),a??w(null),c?P(p.deferEnableTimerScheduling):w(null)],d;for(;(d=u[u.length-1])!==null&&d instanceof tt&&d.value===null;)u.pop();return se(p.defer,u,l)}var sB=new Map([[Te.Idle,[p.deferOnIdle,p.deferPrefetchOnIdle]],[Te.Immediate,[p.deferOnImmediate,p.deferPrefetchOnImmediate]],[Te.Timer,[p.deferOnTimer,p.deferPrefetchOnTimer]],[Te.Hover,[p.deferOnHover,p.deferPrefetchOnHover]],[Te.Interaction,[p.deferOnInteraction,p.deferPrefetchOnInteraction]],[Te.Viewport,[p.deferOnViewport,p.deferPrefetchOnViewport]]]);function rB(t,e,n,s){let r=sB.get(t);if(r===void 0)throw new Error(`Unable to determine instruction for trigger ${t}`);let i=n?r[1]:r[0];return se(i,e.map(o=>w(o)),s)}function iB(t){return se(p.projectionDef,t?[t]:[],null)}function oB(t,e,n,s){let r=[w(t)];return(e!==0||n!==null)&&(r.push(w(e)),n!==null&&r.push(n)),se(p.projection,r,s)}function aB(t,e,n,s){let r=[w(t),w(e)];return n!==null&&r.push(w(n)),se(p.i18nStart,r,s)}function cB(t,e,n,s,r,i,o,a,c,l,u,d,h,f){let g=[w(t),L(e),w(n),w(s),w(r),w(i),o];return(a||c!==null)&&(g.push(w(a)),c!==null&&(g.push(L(c),w(l),w(u)),(d!==null||h!==null)&&g.push(w(d)),h!==null&&g.push(w(h)))),se(p.repeaterCreate,g,f)}function lB(t,e){return se(p.repeater,[t],e)}function uB(t,e,n){return se(t?p.deferPrefetchWhen:p.deferWhen,[e],n)}function dB(t,e,n,s){let r=[w(t),w(e)];return n&&r.push(w(n)),se(p.i18n,r,s)}function hB(t){return se(p.i18nEnd,[],t)}function fB(t,e){let n=[w(t),w(e)];return se(p.i18nAttributes,n,null)}function pB(t,e,n,s){let r=[w(t),e];return n!==null&&r.push(n),se(p.property,r,s)}function gB(t,e,n,s){let r=[w(t),e];return n!==null&&r.push(n),se(p.twoWayProperty,r,s)}function mB(t,e,n,s){let r=[w(t),e];return(n!==null||s!==null)&&r.push(n??w(null)),s!==null&&r.push(w(s)),se(p.attribute,r,null)}function vB(t,e,n,s){let r=[w(t),e];return n!==null&&r.push(w(n)),se(p.styleProp,r,s)}function yB(t,e,n){return se(p.classProp,[w(t),e],n)}function wB(t,e){return se(p.styleMap,[t],e)}function bB(t,e){return se(p.classMap,[t],e)}var aC=[p.pipeBind1,p.pipeBind2,p.pipeBind3,p.pipeBind4];function EB(t,e,n){if(n.length<1||n.length>aC.length)throw new Error("pipeBind() argument count out of bounds");let s=aC[n.length-1];return P(s).callFn([w(t),w(e),...n])}function xB(t,e,n){return P(p.pipeBindV).callFn([w(t),w(e),n])}function CB(t,e,n){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let s=[];if(e.length===1&&t[0]===""&&t[1]==="")s.push(e[0]);else{let r;for(r=0;r<e.length;r++)s.push(w(t[r]),e[r]);s.push(w(t[r]))}return Ko(OB,[],s,[],n)}function SB(t,e){return se(p.i18nExp,[t],e)}function DB(t,e){return se(p.i18nApply,[w(t)],e)}function _B(t,e,n,s,r){let i=Uc(e,n),o=[];return s!==null&&o.push(s),Ko(FB,[w(t)],i,o,r)}function IB(t,e,n,s,r){let i=Uc(e,n),o=[];return s!==null&&o.push(s),Ko(BB,[w(t)],i,o,r)}function TB(t,e,n,s,r){let i=Uc(e,n),o=[];return s!==null&&o.push(w(s)),Ko(LB,[w(t)],i,o,r)}function AB(t,e,n){let s=Uc(t,e);return Ko(VB,[],s,[],n)}function MB(t,e,n){let s=Uc(t,e);return Ko($B,[],s,[],n)}function NB(t,e,n,s){let r=[w(t),e];return n!==null&&r.push(n),se(p.hostProperty,r,s)}function kB(t,e,n){return se(p.syntheticHostProperty,[w(t),e],n)}function PB(t,e,n){return rD(jB,[w(t),e],n,[],null)}function Uc(t,e){if(t.length<1||e.length!==t.length-1)throw new Error("AssertionError: expected specific shape of args for strings/expressions in interpolation");let n=[];if(e.length===1&&t[0]===""&&t[1]==="")n.push(e[0]);else{let s;for(s=0;s<e.length;s++)n.push(w(t[s]),e[s]);n.push(w(t[s]))}return n}function se(t,e,n){let s=P(t).callFn(e,n);return Xn(new nt(s,n))}function RB(t,e,n,s){let r=[w(t),e];return n!==null&&r.push(n),se(p.conditional,r,s)}var OB={constant:[p.textInterpolate,p.textInterpolate1,p.textInterpolate2,p.textInterpolate3,p.textInterpolate4,p.textInterpolate5,p.textInterpolate6,p.textInterpolate7,p.textInterpolate8],variable:p.textInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},FB={constant:[p.propertyInterpolate,p.propertyInterpolate1,p.propertyInterpolate2,p.propertyInterpolate3,p.propertyInterpolate4,p.propertyInterpolate5,p.propertyInterpolate6,p.propertyInterpolate7,p.propertyInterpolate8],variable:p.propertyInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},LB={constant:[p.styleProp,p.stylePropInterpolate1,p.stylePropInterpolate2,p.stylePropInterpolate3,p.stylePropInterpolate4,p.stylePropInterpolate5,p.stylePropInterpolate6,p.stylePropInterpolate7,p.stylePropInterpolate8],variable:p.stylePropInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},BB={constant:[p.attribute,p.attributeInterpolate1,p.attributeInterpolate2,p.attributeInterpolate3,p.attributeInterpolate4,p.attributeInterpolate5,p.attributeInterpolate6,p.attributeInterpolate7,p.attributeInterpolate8],variable:p.attributeInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},VB={constant:[p.styleMap,p.styleMapInterpolate1,p.styleMapInterpolate2,p.styleMapInterpolate3,p.styleMapInterpolate4,p.styleMapInterpolate5,p.styleMapInterpolate6,p.styleMapInterpolate7,p.styleMapInterpolate8],variable:p.styleMapInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},$B={constant:[p.classMap,p.classMapInterpolate1,p.classMapInterpolate2,p.classMapInterpolate3,p.classMapInterpolate4,p.classMapInterpolate5,p.classMapInterpolate6,p.classMapInterpolate7,p.classMapInterpolate8],variable:p.classMapInterpolateV,mapping:t=>{if(t%2===0)throw new Error("Expected odd number of arguments");return(t-1)/2}},jB={constant:[p.pureFunction0,p.pureFunction1,p.pureFunction2,p.pureFunction3,p.pureFunction4,p.pureFunction5,p.pureFunction6,p.pureFunction7,p.pureFunction8],variable:p.pureFunctionV,mapping:t=>t};function rD(t,e,n,s,r){let i=t.mapping(n.length);if(i<t.constant.length)return P(t.constant[i]).callFn([...e,...n,...s],r);if(t.variable!==null)return P(t.variable).callFn([...e,z(n),...s],r);throw new Error("AssertionError: unable to call variadic function")}function Ko(t,e,n,s,r){return Xn(rD(t,e,n,s,r).toStmt())}var HB=new Map([["window",p.resolveWindow],["document",p.resolveDocument],["body",p.resolveBody]]);function UB(t){for(let e of t.units)zB(e,e.create),iD(e,e.update)}function zB(t,e){for(let n of e)switch(at(n,oD,ge.None),n.kind){case m.Text:T.replace(n,tB(n.handle.slot,n.initialValue,n.sourceSpan));break;case m.ElementStart:T.replace(n,OL(n.handle.slot,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case m.Element:T.replace(n,RL(n.handle.slot,n.tag,n.attributes,n.localRefs,n.wholeSourceSpan));break;case m.ElementEnd:T.replace(n,FL(n.sourceSpan));break;case m.ContainerStart:T.replace(n,LL(n.handle.slot,n.attributes,n.localRefs,n.startSourceSpan));break;case m.Container:T.replace(n,BL(n.handle.slot,n.attributes,n.localRefs,n.wholeSourceSpan));break;case m.ContainerEnd:T.replace(n,VL());break;case m.I18nStart:T.replace(n,aB(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case m.I18nEnd:T.replace(n,hB(n.sourceSpan));break;case m.I18n:T.replace(n,dB(n.handle.slot,n.messageIndex,n.subTemplateIndex,n.sourceSpan));break;case m.I18nAttributes:if(n.i18nAttributesConfig===null)throw new Error("AssertionError: i18nAttributesConfig was not set");T.replace(n,fB(n.handle.slot,n.i18nAttributesConfig));break;case m.Template:if(!(t instanceof dr))throw new Error("AssertionError: must be compiling a component");if(Array.isArray(n.localRefs))throw new Error("AssertionError: local refs array should have been extracted into a constant");let s=t.job.views.get(n.xref);T.replace(n,$L(n.handle.slot,L(s.fnName),s.decls,s.vars,n.tag,n.attributes,n.localRefs,n.startSourceSpan));break;case m.DisableBindings:T.replace(n,jL());break;case m.EnableBindings:T.replace(n,HL());break;case m.Pipe:T.replace(n,WL(n.handle.slot,n.name));break;case m.Listener:let r=cC(t,n.handlerFnName,n.handlerOps,n.consumesDollarEvent),i=n.eventTarget?HB.get(n.eventTarget):null;if(i===void 0)throw new Error(`Unexpected global target '${n.eventTarget}' defined for '${n.name}' event. Supported list of global targets: window,document,body.`);T.replace(n,UL(n.name,r,i,n.hostListener&&n.isAnimationListener,n.sourceSpan));break;case m.TwoWayListener:T.replace(n,zL(n.name,cC(t,n.handlerFnName,n.handlerOps,!0),n.sourceSpan));break;case m.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);T.replace(n,Xn(new vt(n.variable.name,n.initializer,void 0,it.Final)));break;case m.Namespace:switch(n.active){case gt.HTML:T.replace(n,qL());break;case gt.SVG:T.replace(n,GL());break;case gt.Math:T.replace(n,YL());break}break;case m.Defer:let o=!!n.loadingMinimumTime||!!n.loadingAfterTime||!!n.placeholderMinimumTime;T.replace(n,nB(n.handle.slot,n.mainSlot.slot,n.resolverFn,n.loadingSlot?.slot??null,n.placeholderSlot?.slot??null,n.errorSlot?.slot??null,n.loadingConfig,n.placeholderConfig,o,n.sourceSpan));break;case m.DeferOn:let a=[];switch(n.trigger.kind){case Te.Idle:case Te.Immediate:break;case Te.Timer:a=[n.trigger.delay];break;case Te.Interaction:case Te.Hover:case Te.Viewport:if(n.trigger.targetSlot?.slot==null||n.trigger.targetSlotViewSteps===null)throw new Error(`Slot or view steps not set in trigger reification for trigger kind ${n.trigger.kind}`);a=[n.trigger.targetSlot.slot],n.trigger.targetSlotViewSteps!==0&&a.push(n.trigger.targetSlotViewSteps);break;default:throw new Error(`AssertionError: Unsupported reification of defer trigger kind ${n.trigger.kind}`)}T.replace(n,rB(n.trigger.kind,a,n.prefetch,n.sourceSpan));break;case m.ProjectionDef:T.replace(n,iB(n.def));break;case m.Projection:if(n.handle.slot===null)throw new Error("No slot was assigned for project instruction");T.replace(n,oB(n.handle.slot,n.projectionSlotIndex,n.attributes,n.sourceSpan));break;case m.RepeaterCreate:if(n.handle.slot===null)throw new Error("No slot was assigned for repeater instruction");if(!(t instanceof dr))throw new Error("AssertionError: must be compiling a component");let c=t.job.views.get(n.xref);if(c.fnName===null)throw new Error("AssertionError: expected repeater primary view to have been named");let l=null,u=null,d=null;if(n.emptyView!==null){let h=t.job.views.get(n.emptyView);if(h===void 0)throw new Error("AssertionError: repeater had empty view xref, but empty view was not found");if(h.fnName===null||h.decls===null||h.vars===null)throw new Error("AssertionError: expected repeater empty view to have been named and counted");l=h.fnName,u=h.decls,d=h.vars}T.replace(n,cB(n.handle.slot,c.fnName,n.decls,n.vars,n.tag,n.attributes,n.trackByFn,n.usesComponentInstance,l,u,d,n.emptyTag,n.emptyAttributes,n.wholeSourceSpan));break;case m.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of create op ${m[n.kind]}`)}}function iD(t,e){for(let n of e)switch(at(n,oD,ge.None),n.kind){case m.Advance:T.replace(n,XL(n.delta,n.sourceSpan));break;case m.Property:n.expression instanceof We?T.replace(n,_B(n.name,n.expression.strings,n.expression.expressions,n.sanitizer,n.sourceSpan)):T.replace(n,pB(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case m.TwoWayProperty:T.replace(n,gB(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case m.StyleProp:n.expression instanceof We?T.replace(n,TB(n.name,n.expression.strings,n.expression.expressions,n.unit,n.sourceSpan)):T.replace(n,vB(n.name,n.expression,n.unit,n.sourceSpan));break;case m.ClassProp:T.replace(n,yB(n.name,n.expression,n.sourceSpan));break;case m.StyleMap:n.expression instanceof We?T.replace(n,AB(n.expression.strings,n.expression.expressions,n.sourceSpan)):T.replace(n,wB(n.expression,n.sourceSpan));break;case m.ClassMap:n.expression instanceof We?T.replace(n,MB(n.expression.strings,n.expression.expressions,n.sourceSpan)):T.replace(n,bB(n.expression,n.sourceSpan));break;case m.I18nExpression:T.replace(n,SB(n.expression,n.sourceSpan));break;case m.I18nApply:T.replace(n,DB(n.handle.slot,n.sourceSpan));break;case m.InterpolateText:T.replace(n,CB(n.interpolation.strings,n.interpolation.expressions,n.sourceSpan));break;case m.Attribute:n.expression instanceof We?T.replace(n,IB(n.name,n.expression.strings,n.expression.expressions,n.sanitizer,n.sourceSpan)):T.replace(n,mB(n.name,n.expression,n.sanitizer,n.namespace));break;case m.HostProperty:if(n.expression instanceof We)throw new Error("not yet handled");n.isAnimationTrigger?T.replace(n,kB(n.name,n.expression,n.sourceSpan)):T.replace(n,NB(n.name,n.expression,n.sanitizer,n.sourceSpan));break;case m.Variable:if(n.variable.name===null)throw new Error(`AssertionError: unnamed variable ${n.xref}`);T.replace(n,Xn(new vt(n.variable.name,n.initializer,void 0,it.Final)));break;case m.Conditional:if(n.processed===null)throw new Error("Conditional test was not set.");if(n.targetSlot.slot===null)throw new Error("Conditional slot was not set.");T.replace(n,RB(n.targetSlot.slot,n.processed,n.contextValue,n.sourceSpan));break;case m.Repeater:T.replace(n,lB(n.collection,n.sourceSpan));break;case m.DeferWhen:T.replace(n,uB(n.prefetch,n.expr,n.sourceSpan));break;case m.Statement:break;default:throw new Error(`AssertionError: Unsupported reification of update op ${m[n.kind]}`)}}function oD(t){if(!Qn(t))return t;switch(t.kind){case j.NextContext:return ZL(t.steps);case j.Reference:return QL(t.targetSlot.slot+1+t.offset);case j.LexicalRead:throw new Error(`AssertionError: unresolved LexicalRead of ${t.name}`);case j.TwoWayBindingSet:throw new Error("AssertionError: unresolved TwoWayBindingSet");case j.RestoreView:if(typeof t.view=="number")throw new Error("AssertionError: unresolved RestoreView");return JL(t.view);case j.ResetView:return eB(t.expr);case j.GetCurrentView:return KL();case j.ReadVariable:if(t.name===null)throw new Error(`Read of unnamed variable ${t.xref}`);return L(t.name);case j.ReadTemporaryExpr:if(t.name===null)throw new Error(`Read of unnamed temporary ${t.xref}`);return L(t.name);case j.AssignTemporaryExpr:if(t.name===null)throw new Error(`Assign of unnamed temporary ${t.xref}`);return L(t.name).set(t.expr);case j.PureFunctionExpr:if(t.fn===null)throw new Error("AssertionError: expected PureFunctions to have been extracted");return PB(t.varOffset,t.fn,t.args);case j.PureFunctionParameterExpr:throw new Error("AssertionError: expected PureFunctionParameterExpr to have been extracted");case j.PipeBinding:return EB(t.targetSlot.slot,t.varOffset,t.args);case j.PipeBindingVariadic:return xB(t.targetSlot.slot,t.varOffset,t.args);case j.SlotLiteralExpr:return w(t.slot.slot);default:throw new Error(`AssertionError: Unsupported reification of ir.Expression kind: ${j[t.kind]}`)}}function cC(t,e,n,s){iD(t,n);let r=[];for(let o of n){if(o.kind!==m.Statement)throw new Error(`AssertionError: expected reified statements, but found op ${m[o.kind]}`);r.push(o.statement)}let i=[];return s&&i.push(new Ee("$event")),Gn(i,r,void 0,void 0,e)}function WB(t){for(let e of t.units)for(let n of e.update)switch(n.kind){case m.Attribute:case m.Binding:case m.ClassProp:case m.ClassMap:case m.Property:case m.StyleProp:case m.StyleMap:n.expression instanceof Sc&&T.remove(n);break}}function qB(t){for(let e of t.units)for(let n of e.create)switch(n.kind){case m.I18nContext:T.remove(n);break;case m.I18nStart:n.context=null;break}}function GB(t){for(let e of t.units){let n=new Set;for(let s of e.update)switch(s.kind){case m.I18nExpression:n.add(s.i18nOwner)}for(let s of e.create)switch(s.kind){case m.I18nAttributes:if(n.has(s.xref))continue;T.remove(s)}}}function YB(t){for(let e of t.units)Vm(e,e.create),Vm(e,e.update)}function Vm(t,e){let n=new Map;n.set(t.xref,L("ctx"));for(let s of e)switch(s.kind){case m.Variable:switch(s.variable.kind){case Je.Context:n.set(s.variable.view,new Cs(s.xref));break}break;case m.Listener:case m.TwoWayListener:Vm(t,s.handlerOps);break}t===t.job.root&&n.set(t.xref,L("ctx"));for(let s of e)at(s,r=>{if(r instanceof xs){if(!n.has(r.view))throw new Error(`No context found for reference to view ${r.view} from view ${t.xref}`);return n.get(r.view)}else return r},ge.None)}function XB(t){for(let e of t.units)lC(e.create),lC(e.update)}function lC(t){for(let e of t)(e.kind===m.Listener||e.kind===m.TwoWayListener)&&at(e,n=>n instanceof Pt&&n.name==="$event"?(e.kind===m.Listener&&(e.consumesDollarEvent=!0),new Gt(n.name)):n,ge.InChildOperation)}function QB(t){let e=new Map,n=new Map;for(let s of t.units)for(let r of s.create)switch(r.kind){case m.I18nContext:e.set(r.xref,r);break;case m.ElementStart:n.set(r.xref,r);break}Zs(t,t.root,e,n)}function Zs(t,e,n,s,r){let i=null,o=new Map;for(let a of e.create)switch(a.kind){case m.I18nStart:if(!a.context)throw Error("Could not find i18n context for i18n op");i={i18nBlock:a,i18nContext:n.get(a.context)};break;case m.I18nEnd:i=null;break;case m.ElementStart:if(a.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");uC(a,i.i18nContext,i.i18nBlock,r),r&&a.i18nPlaceholder.closeName&&o.set(a.xref,r),r=void 0}break;case m.ElementEnd:let c=s.get(a.xref);if(c&&c.i18nPlaceholder!==void 0){if(i===null)throw Error("AssertionError: i18n tag placeholder should only occur inside an i18n block");dC(c,i.i18nContext,i.i18nBlock,o.get(a.xref)),o.delete(a.xref)}break;case m.Projection:if(a.i18nPlaceholder!==void 0){if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");uC(a,i.i18nContext,i.i18nBlock,r),dC(a,i.i18nContext,i.i18nBlock,r),r=void 0}break;case m.Template:let l=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)Zs(t,l,n,s);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");a.templateKind===Wt.Structural?Zs(t,l,n,s,a):(gg(t,l,a.handle.slot,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,r),Zs(t,l,n,s),mg(t,l,a.handle.slot,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,r),r=void 0)}break;case m.RepeaterCreate:if(r!==void 0)throw Error("AssertionError: Unexpected structural directive associated with @for block");let u=a.handle.slot+1,d=t.views.get(a.xref);if(a.i18nPlaceholder===void 0)Zs(t,d,n,s);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");gg(t,d,u,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,r),Zs(t,d,n,s),mg(t,d,u,a.i18nPlaceholder,i.i18nContext,i.i18nBlock,r),r=void 0}if(a.emptyView!==null){let h=a.handle.slot+2,f=t.views.get(a.emptyView);if(a.emptyI18nPlaceholder===void 0)Zs(t,f,n,s);else{if(i===null)throw Error("i18n tag placeholder should only occur inside an i18n block");gg(t,f,h,a.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,r),Zs(t,f,n,s),mg(t,f,h,a.emptyI18nPlaceholder,i.i18nContext,i.i18nBlock,r),r=void 0}}break}}function uC(t,e,n,s){let{startName:r,closeName:i}=t.i18nPlaceholder,o=be.ElementTag|be.OpenTag,a=t.handle.slot;s!==void 0&&(o|=be.TemplateTag,a={element:a,template:s.handle.slot}),i||(o|=be.CloseTag),Yo(e.params,r,a,n.subTemplateIndex,o)}function dC(t,e,n,s){let{closeName:r}=t.i18nPlaceholder;if(r){let i=be.ElementTag|be.CloseTag,o=t.handle.slot;s!==void 0&&(i|=be.TemplateTag,o={element:o,template:s.handle.slot}),Yo(e.params,r,o,n.subTemplateIndex,i)}}function gg(t,e,n,s,r,i,o){let{startName:a,closeName:c}=s,l=be.TemplateTag|be.OpenTag;c||(l|=be.CloseTag),o!==void 0&&Yo(r.params,a,o.handle.slot,i.subTemplateIndex,l),Yo(r.params,a,n,aD(t,i,e),l)}function mg(t,e,n,s,r,i,o){let{closeName:a}=s,c=be.TemplateTag|be.CloseTag;a&&(Yo(r.params,a,n,aD(t,i,e),c),o!==void 0&&Yo(r.params,a,o.handle.slot,i.subTemplateIndex,c))}function aD(t,e,n){for(let s of n.create)if(s.kind===m.I18nStart)return s.subTemplateIndex;return e.subTemplateIndex}function Yo(t,e,n,s,r){let i=t.get(e)??[];i.push({value:n,subTemplateIndex:s,flags:r}),t.set(e,i)}function ZB(t){let e=new Map,n=new Map,s=new Map;for(let o of t.units)for(let a of o.create)switch(a.kind){case m.I18nStart:e.set(a.xref,a.subTemplateIndex);break;case m.I18nContext:n.set(a.xref,a);break;case m.IcuPlaceholder:s.set(a.xref,a);break}let r=new Map,i=o=>o.usage===Qo.I18nText?o.i18nOwner:o.context;for(let o of t.units)for(let a of o.update)if(a.kind===m.I18nExpression){let c=r.get(i(a))||0,l=e.get(a.i18nOwner)??null,u={value:c,subTemplateIndex:l,flags:be.ExpressionIndex};KB(a,u,n,s),r.set(i(a),c+1)}}function KB(t,e,n,s){if(t.i18nPlaceholder!==null){let r=n.get(t.context),i=t.resolutionTime===Cc.Creation?r.params:r.postprocessingParams,o=i.get(t.i18nPlaceholder)||[];o.push(e),i.set(t.i18nPlaceholder,o)}t.icuPlaceholder!==null&&s.get(t.icuPlaceholder)?.expressionPlaceholders.push(e)}function JB(t){for(let e of t.units)$m(e,e.create,null),$m(e,e.update,null)}function $m(t,e,n){let s=new Map;for(let r of e)switch(r.kind){case m.Variable:switch(r.variable.kind){case Je.Identifier:case Je.Alias:if(s.has(r.variable.identifier))continue;s.set(r.variable.identifier,r.xref);break;case Je.SavedView:n={view:r.variable.view,variable:r.xref};break}break;case m.Listener:case m.TwoWayListener:$m(t,r.handlerOps,n);break}for(let r of e)r.kind==m.Listener||r.kind===m.TwoWayListener||at(r,i=>{if(i instanceof Pt)return s.has(i.name)?new Cs(s.get(i.name)):new Dt(new xs(t.job.root.xref),i.name);if(i instanceof kd&&typeof i.view=="number"){if(n===null||n.view!==i.view)throw new Error(`AssertionError: no saved view ${i.view} from view ${t.xref}`);return i.view=new Cs(n.variable),i}else return i},ge.None);for(let r of e)Ot(r,i=>{if(i instanceof Pt)throw new Error(`AssertionError: no lexical reads should remain, but found read of ${i.name}`)})}var eV=new Map([[ne.HTML,p.sanitizeHtml],[ne.RESOURCE_URL,p.sanitizeResourceUrl],[ne.SCRIPT,p.sanitizeScript],[ne.STYLE,p.sanitizeStyle],[ne.URL,p.sanitizeUrl]]),tV=new Map([[ne.HTML,p.trustConstantHtml],[ne.RESOURCE_URL,p.trustConstantResourceUrl]]);function nV(t){for(let e of t.units){let n=kv(e);if(t.kind!==O.Host){for(let s of e.create)if(s.kind===m.ExtractedAttribute){let r=tV.get(hC(s.securityContext))??null;s.trustedValueFn=r!==null?P(r):null}}for(let s of e.update)switch(s.kind){case m.Property:case m.Attribute:case m.HostProperty:let r=null;if(Array.isArray(s.securityContext)&&s.securityContext.length===2&&s.securityContext.indexOf(ne.URL)>-1&&s.securityContext.indexOf(ne.RESOURCE_URL)>-1?r=p.sanitizeUrlOrResourceUrl:r=eV.get(hC(s.securityContext))??null,s.sanitizer=r!==null?P(r):null,s.sanitizer===null){let i=!1;if(t.kind===O.Host||s.kind===m.HostProperty)i=!0;else{let o=n.get(s.target);if(o===void 0||!ur(o))throw Error("Property should have an element-like owner");i=sV(o)}i&&_v(s.name)&&(s.sanitizer=P(p.validateIframeAttribute))}break}}}function sV(t){return t.kind===m.ElementStart&&t.tag?.toLowerCase()==="iframe"}function hC(t){if(Array.isArray(t)){if(t.length>1)throw Error("AssertionError: Ambiguous security context");return t[0]||ne.NONE}return t}function rV(t){for(let e of t.units)for(let n of e.create)n.kind===m.TwoWayListener&&at(n,s=>s instanceof Pd?iV(s.target,s.value):s,ge.InChildOperation)}function Fu(t,e){return t instanceof Cs?oC(t,e):oC(t,e).or(t.set(e))}function Lu(t){return t instanceof Dt||t instanceof qn||t instanceof Cs}function iV(t,e){if(Lu(t))return Fu(t,e);if(t instanceof ee&&Lu(t.rhs))return new ee(t.operator,t.lhs,Fu(t.rhs,e));if(t instanceof Yt&&Lu(t.falseCase))return new Yt(t.condition,t.trueCase,Fu(t.falseCase,e));if(t instanceof ms){let n=t.condition;for(;;)if(n instanceof ms)n=n.condition;else{if(Lu(n))return Fu(n,e);break}}throw new Error("Unsupported expression in two-way action binding.")}function oV(t){for(let e of t.units){e.create.prepend([Co(e.job.allocateXrefId(),{kind:Je.SavedView,name:null,view:e.xref},new hm,jn.None)]);for(let n of e.create){if(n.kind!==m.Listener&&n.kind!==m.TwoWayListener)continue;let s=e!==t.root;if(!s)for(let r of n.handlerOps)Ot(r,i=>{i instanceof Ad&&(s=!0)});s&&aV(e,n)}}}function aV(t,e){e.handlerOps.prepend([Co(t.job.allocateXrefId(),{kind:Je.Context,name:null,view:t.xref},new kd(t.xref),jn.None)]);for(let n of e.handlerOps)n.kind===m.Statement&&n.statement instanceof qe&&(n.statement.value=new fm(n.statement.value))}function cV(t){let e=new Map;for(let n of t.units){let s=0;for(let r of n.create)Zo(r)&&(r.handle.slot=s,e.set(r.xref,r.handle.slot),s+=r.numSlotsUsed);n.decls=s}for(let n of t.units)for(let s of n.ops())if(s.kind===m.Template||s.kind===m.RepeaterCreate){let r=t.views.get(s.xref);s.decls=r.decls}}function lV(t){for(let e of t.units)for(let n of e.update)if(n.kind===m.Binding)switch(n.bindingKind){case V.ClassName:if(n.expression instanceof We)throw new Error("Unexpected interpolation in ClassName binding");T.replace(n,AR(n.target,n.name,n.expression,n.sourceSpan));break;case V.StyleProperty:T.replace(n,TR(n.target,n.name,n.expression,n.unit,n.sourceSpan));break;case V.Property:case V.Template:n.name==="style"?T.replace(n,MR(n.target,n.expression,n.sourceSpan)):n.name==="class"&&T.replace(n,NR(n.target,n.expression,n.sourceSpan));break}}function uV(t){for(let e of t.units)e.create.prepend(jm(e.create)),e.update.prepend(jm(e.update))}function jm(t){let e=0,n=[];for(let s of t){let r=new Map;Ot(s,(l,u)=>{u&ge.InChildOperation||l instanceof Ss&&r.set(l.xref,l)});let i=0,o=new Set,a=new Set,c=new Map;Ot(s,(l,u)=>{u&ge.InChildOperation||(l instanceof Sn?(o.has(l.xref)||(o.add(l.xref),c.set(l.xref,`tmp_${e}_${i++}`)),fC(c,l)):l instanceof Ss&&(r.get(l.xref)===l&&(a.add(l.xref),i--),fC(c,l)))}),n.push(...Array.from(new Set(c.values())).map(l=>Xn(new vt(l)))),e++,(s.kind===m.Listener||s.kind===m.TwoWayListener)&&s.handlerOps.prepend(jm(s.handlerOps))}return n}function fC(t,e){let n=t.get(e.xref);if(n===void 0)throw new Error(`Found xref with unassigned name: ${e.xref}`);e.name=n}function dV(t){for(let e of t.units)for(let n of e.create){if(n.kind!==m.RepeaterCreate||n.trackByFn!==null)continue;let s=!1;n.track=F(n.track,o=>{if(o instanceof Di||o instanceof Rd)throw new Error("Illegal State: Pipes are not allowed in this context");return o instanceof Md?(s=!0,L("this")):o},ge.None);let r,i=[new Ee("$index"),new Ee("$item")];s?r=new ii(i,[new qe(n.track)]):r=et(i,n.track),n.trackByFn=t.pool.getSharedFunctionReference(r,"_forTrack")}}function hV(t){for(let e of t.units)for(let n of e.create)n.kind===m.RepeaterCreate&&(n.track instanceof Gt&&n.track.name==="$index"?n.trackByFn=P(p.repeaterTrackByIndex):n.track instanceof Gt&&n.track.name==="$item"?n.trackByFn=P(p.repeaterTrackByIdentity):fV(t.root.xref,n.track)?(n.usesComponentInstance=!0,n.track.receiver.receiver.view===e.xref?n.trackByFn=n.track.receiver:(n.trackByFn=P(p.componentInstance).callFn([]).prop(n.track.receiver.name),n.track=n.trackByFn)):n.track=F(n.track,s=>s instanceof xs?(n.usesComponentInstance=!0,new Md(s.view)):s,ge.None))}function fV(t,e){if(!(e instanceof St)||e.args.length!==2||!(e.receiver instanceof Dt&&e.receiver.receiver instanceof xs)||e.receiver.receiver.view!==t)return!1;let[n,s]=e.args;return!(!(n instanceof Gt)||n.name!=="$index"||!(s instanceof Gt)||s.name!=="$item")}function pV(t){for(let e of t.units)for(let n of e.create)n.kind===m.RepeaterCreate&&(n.track=F(n.track,s=>{if(s instanceof Pt){if(s.name===n.varNames.$index)return L("$index");if(s.name===n.varNames.$implicit)return L("$item")}return s},ge.None))}function gV(t){for(let e of t.units){let n=0;for(let s of e.ops())ag(s)&&(n+=mV(s));for(let s of e.ops())Ot(s,r=>{Qn(r)&&(t.compatibility===Xt.TemplateDefinitionBuilder&&r instanceof Si||(_0(r)&&(r.varOffset=n),ag(r)&&(n+=pC(r))))});if(t.compatibility===Xt.TemplateDefinitionBuilder)for(let s of e.ops())Ot(s,r=>{!Qn(r)||!(r instanceof Si)||(_0(r)&&(r.varOffset=n),ag(r)&&(n+=pC(r)))});e.vars=n}if(t instanceof _c)for(let e of t.units)for(let n of e.create){if(n.kind!==m.Template&&n.kind!==m.RepeaterCreate)continue;let s=t.views.get(n.xref);n.vars=s.vars}}function mV(t){let e;switch(t.kind){case m.Property:case m.HostProperty:case m.Attribute:return e=1,t.expression instanceof We&&!vV(t.expression)&&(e+=t.expression.expressions.length),e;case m.TwoWayProperty:return 1;case m.StyleProp:case m.ClassProp:case m.StyleMap:case m.ClassMap:return e=2,t.expression instanceof We&&(e+=t.expression.expressions.length),e;case m.InterpolateText:return t.interpolation.expressions.length;case m.I18nExpression:case m.Conditional:case m.DeferWhen:return 1;case m.RepeaterCreate:return t.emptyView?1:0;default:throw new Error(`Unhandled op: ${m[t.kind]}`)}}function pC(t){switch(t.kind){case j.PureFunctionExpr:return 1+t.args.length;case j.PipeBinding:return 1+t.args.length;case j.PipeBindingVariadic:return 1+t.numArgs;default:throw new Error(`AssertionError: unhandled ConsumesVarsTrait expression ${t.constructor.name}`)}}function vV(t){return!(t.expressions.length!==1||t.strings.length!==2||t.strings[0]!==""||t.strings[1]!=="")}function yV(t){for(let e of t.units){vg(e.create),vg(e.update);for(let n of e.create)(n.kind===m.Listener||n.kind===m.TwoWayListener)&&vg(n.handlerOps);yg(e.create,t.compatibility),yg(e.update,t.compatibility);for(let n of e.create)(n.kind===m.Listener||n.kind===m.TwoWayListener)&&yg(n.handlerOps,t.compatibility)}}var Ze=function(t){return t[t.None=0]="None",t[t.ViewContextRead=1]="ViewContextRead",t[t.ViewContextWrite=2]="ViewContextWrite",t[t.SideEffectful=4]="SideEffectful",t}(Ze||{});function vg(t){let e=new Map;for(let n of t)n.kind===m.Variable&&n.flags&jn.AlwaysInline&&(Ot(n,s=>{if(Qn(s)&&Rv(s)!==Ze.None)throw new Error("AssertionError: A context-sensitive variable was marked AlwaysInline")}),e.set(n.xref,n)),at(n,s=>s instanceof Cs&&e.has(s.xref)?e.get(s.xref).initializer.clone():s,ge.None);for(let n of e.values())T.remove(n)}function yg(t,e){let n=new Map,s=new Map,r=new Set,i=new Map;for(let l of t){if(l.kind===m.Variable){if(n.has(l.xref)||s.has(l.xref))throw new Error(`Should not see two declarations of the same variable: ${l.xref}`);n.set(l.xref,l),s.set(l.xref,0)}i.set(l,wV(l)),bV(l,s,r)}let o=!1;for(let l of t.reversed()){let u=i.get(l);if(l.kind===m.Variable&&s.get(l.xref)===0){if(o&&u.fences&Ze.ViewContextWrite||u.fences&Ze.SideEffectful){let d=Xn(l.initializer.toStmt());i.set(d,u),T.replace(l,d)}else EV(l,s),T.remove(l);i.delete(l),n.delete(l.xref),s.delete(l.xref);continue}u.fences&Ze.ViewContextRead&&(o=!0)}let a=[];for(let[l,u]of s){let h=!!(n.get(l).flags&jn.AlwaysInline);u!==1||h||r.has(l)||a.push(l)}let c;for(;c=a.pop();){let l=n.get(c),u=i.get(l);if(!!(l.flags&jn.AlwaysInline))throw new Error("AssertionError: Found an 'AlwaysInline' variable after the always inlining pass.");for(let h=l.next;h.kind!==m.ListEnd;h=h.next){let f=i.get(h);if(f.variablesUsed.has(c)){if(e===Xt.TemplateDefinitionBuilder&&!CV(l,h))break;if(xV(c,l.initializer,h,u.fences)){f.variablesUsed.delete(c);for(let g of u.variablesUsed)f.variablesUsed.add(g);f.fences|=u.fences,n.delete(c),s.delete(c),i.delete(l),T.remove(l)}break}if(!cD(f.fences,u.fences))break}}}function Rv(t){switch(t.kind){case j.NextContext:return Ze.ViewContextRead|Ze.ViewContextWrite;case j.RestoreView:return Ze.ViewContextRead|Ze.ViewContextWrite|Ze.SideEffectful;case j.Reference:return Ze.ViewContextRead;default:return Ze.None}}function wV(t){let e=Ze.None,n=new Set;return Ot(t,s=>{if(Qn(s))switch(s.kind){case j.ReadVariable:n.add(s.xref);break;default:e|=Rv(s)}}),{fences:e,variablesUsed:n}}function bV(t,e,n){Ot(t,(s,r)=>{if(!Qn(s)||s.kind!==j.ReadVariable)return;let i=e.get(s.xref);i!==void 0&&(e.set(s.xref,i+1),r&ge.InChildOperation&&n.add(s.xref))})}function EV(t,e){Ot(t,n=>{if(!Qn(n)||n.kind!==j.ReadVariable)return;let s=e.get(n.xref);if(s!==void 0){if(s===0)throw new Error(`Inaccurate variable count: ${n.xref} - found another read but count is already 0`);e.set(n.xref,s-1)}})}function cD(t,e){if(t&Ze.ViewContextWrite){if(e&Ze.ViewContextRead)return!1}else if(t&Ze.ViewContextRead&&e&Ze.ViewContextWrite)return!1;return!0}function xV(t,e,n,s){let r=!1,i=!0;return at(n,(o,a)=>{if(!Qn(o)||r||!i)return o;if(a&ge.InChildOperation&&s&Ze.ViewContextRead)return o;switch(o.kind){case j.ReadVariable:if(o.xref===t)return r=!0,e;break;default:let c=Rv(o);i=i&&cD(c,s);break}return o},ge.None),r}function CV(t,e){switch(t.variable.kind){case Je.Identifier:return t.initializer instanceof Gt&&t.initializer.name==="ctx";case Je.Context:return e.kind===m.Variable;default:return!0}}function SV(t){for(let e of t.units){let n=null,s=null;for(let r of e.create)switch(r.kind){case m.I18nStart:n=r;break;case m.I18nEnd:n=null;break;case m.IcuStart:n===null&&(s=t.allocateXrefId(),T.insertBefore(fh(s,r.message,void 0,null),r));break;case m.IcuEnd:s!==null&&(T.insertAfter(ph(s,null),r),s=null);break}}}var DV=[{kind:O.Tmpl,fn:EL},{kind:O.Host,fn:QO},{kind:O.Tmpl,fn:rL},{kind:O.Tmpl,fn:TL},{kind:O.Tmpl,fn:SV},{kind:O.Both,fn:wO},{kind:O.Both,fn:lV},{kind:O.Both,fn:oO},{kind:O.Both,fn:sO},{kind:O.Tmpl,fn:yO},{kind:O.Both,fn:bL},{kind:O.Tmpl,fn:WB},{kind:O.Both,fn:lO},{kind:O.Both,fn:wL},{kind:O.Tmpl,fn:uO},{kind:O.Tmpl,fn:SL},{kind:O.Tmpl,fn:bO},{kind:O.Tmpl,fn:tL},{kind:O.Tmpl,fn:mO},{kind:O.Tmpl,fn:GB},{kind:O.Tmpl,fn:nO},{kind:O.Tmpl,fn:eO},{kind:O.Tmpl,fn:IL},{kind:O.Both,fn:NL},{kind:O.Tmpl,fn:WO},{kind:O.Tmpl,fn:qO},{kind:O.Tmpl,fn:oV},{kind:O.Both,fn:KR},{kind:O.Both,fn:XB},{kind:O.Tmpl,fn:pV},{kind:O.Both,fn:JB},{kind:O.Tmpl,fn:EO},{kind:O.Tmpl,fn:rV},{kind:O.Tmpl,fn:hV},{kind:O.Both,fn:YB},{kind:O.Both,fn:nV},{kind:O.Tmpl,fn:nL},{kind:O.Both,fn:fL},{kind:O.Both,fn:DO},{kind:O.Both,fn:uV},{kind:O.Tmpl,fn:cV},{kind:O.Tmpl,fn:QB},{kind:O.Tmpl,fn:ZB},{kind:O.Tmpl,fn:$O},{kind:O.Tmpl,fn:dV},{kind:O.Tmpl,fn:QF},{kind:O.Tmpl,fn:YO},{kind:O.Both,fn:pO},{kind:O.Tmpl,fn:qB},{kind:O.Both,fn:gV},{kind:O.Tmpl,fn:zO},{kind:O.Both,fn:yV},{kind:O.Both,fn:iL},{kind:O.Tmpl,fn:vO},{kind:O.Tmpl,fn:cL},{kind:O.Tmpl,fn:uL},{kind:O.Tmpl,fn:SO},{kind:O.Tmpl,fn:hL},{kind:O.Both,fn:ML},{kind:O.Both,fn:UB},{kind:O.Both,fn:cO}];function lD(t,e){for(let n of DV)(n.kind===e||n.kind===O.Both)&&n.fn(t)}function _V(t,e){let n=dD(t.root);return uD(t.root,e),n}function uD(t,e){for(let n of t.job.units){if(n.parent!==t.xref)continue;uD(n,e);let s=dD(n);e.statements.push(s.toDeclStmt(s.name))}}function dD(t){if(t.fnName===null)throw new Error(`AssertionError: view ${t.xref} is unnamed`);let e=[];for(let i of t.create){if(i.kind!==m.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${m[i.kind]}`);e.push(i.statement)}let n=[];for(let i of t.update){if(i.kind!==m.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${m[i.kind]}`);n.push(i.statement)}let s=Yd(1,e),r=Yd(2,n);return Gn([new Ee("rf"),new Ee("ctx")],[...s,...r],void 0,void 0,t.fnName)}function Yd(t,e){return e.length===0?[]:[Lc(new ee(R.BitwiseAnd,L("rf"),w(t)),e)]}function IV(t){if(t.root.fnName===null)throw new Error("AssertionError: host binding function is unnamed");let e=[];for(let i of t.root.create){if(i.kind!==m.Statement)throw new Error(`AssertionError: expected all create ops to have been compiled, but got ${m[i.kind]}`);e.push(i.statement)}let n=[];for(let i of t.root.update){if(i.kind!==m.Statement)throw new Error(`AssertionError: expected all update ops to have been compiled, but got ${m[i.kind]}`);n.push(i.statement)}if(e.length===0&&n.length===0)return null;let s=Yd(1,e),r=Yd(2,n);return Gn([new Ee("rf"),new Ee("ctx")],[...s,...r],void 0,void 0,t.root.fnName)}var hD=Xt.TemplateDefinitionBuilder,ni=new Go,si="ng-template";function TV(t,e,n,s,r,i,o){let a=new _c(t,n,hD,s,r,i,o);return pr(a.root,e),a}function AV(t,e,n){let s=new $d(t.componentName,n,hD);for(let r of t.properties??[]){let i=V.Property;r.name.startsWith("attr.")&&(r.name=r.name.substring(5),i=V.Attribute),r.isAnimation&&(i=V.Animation);let o=e.calcPossibleSecurityContexts(t.componentSelector,r.name,i===V.Attribute).filter(a=>a!==ne.NONE);MV(s,r,i,o)}for(let[r,i]of Object.entries(t.attributes)??[]){let o=e.calcPossibleSecurityContexts(t.componentSelector,r,!0).filter(a=>a!==ne.NONE);NV(s,r,i,o)}for(let r of t.events??[])kV(s,r);return s}function MV(t,e,n,s){let r,i=e.expression.ast;i instanceof ze?r=new We(i.strings,i.expressions.map(o=>G(o,t,e.sourceSpan)),[]):r=G(i,t,e.sourceSpan),t.root.update.push(Ci(t.root.xref,n,e.name,r,null,s,!1,!1,null,null,e.sourceSpan))}function NV(t,e,n,s){let r=Ci(t.root.xref,V.Attribute,e,n,null,s,!0,!1,null,null,n.sourceSpan);t.root.update.push(r)}function kV(t,e){let[n,s]=e.type!==1?[null,e.targetOrPhase]:[e.targetOrPhase,null],r=Nv(t.root.xref,new Qt,e.name,null,Ov(t.root,e.handler,e.handlerSpan),n,s,!0,e.sourceSpan);t.root.create.push(r)}function pr(t,e){for(let n of e)if(n instanceof _t)PV(t,n);else if(n instanceof Rt)RV(t,n);else if(n instanceof pd)OV(t,n);else if(n instanceof fs)fD(t,n,null);else if(n instanceof ui)pD(t,n,null);else if(n instanceof hd)FV(t,n);else if(n instanceof dd)LV(t,n);else if(n instanceof di)BV(t,n);else if(n instanceof fc)VV(t,n);else if(n instanceof Ro)$V(t,n);else throw new Error(`Unsupported template node: ${n.constructor.name}`)}function PV(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof mt||e.i18n instanceof ir))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=t.job.allocateXrefId(),[s,r]=Ct(e.name),i=BR(r,n,qS(s),e.i18n instanceof ir?e.i18n:void 0,e.startSourceSpan,e.sourceSpan);t.create.push(i),HV(t,i,e),vD(i,e);let o=null;e.i18n instanceof mt&&(o=t.job.allocateXrefId(),t.create.push(fh(o,e.i18n,void 0,e.startSourceSpan))),pr(t,e.children);let a=$R(n,e.endSourceSpan??e.startSourceSpan);t.create.push(a),o!==null&&T.insertBefore(ph(o,e.endSourceSpan??e.startSourceSpan),a)}function RV(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof mt||e.i18n instanceof ir))throw Error(`Unhandled i18n metadata type for template: ${e.i18n.constructor.name}`);let n=t.job.allocateView(t.xref),s=e.tagName,r="";e.tagName&&([r,s]=Ct(e.tagName));let i=e.i18n instanceof ir?e.i18n:void 0,o=qS(r),a=s===null?"":fO(s,o),c=jV(e)?Wt.NgTemplate:Wt.Structural,l=hh(n.xref,c,s,a,o,i,e.startSourceSpan,e.sourceSpan);t.create.push(l),UV(t,l,e,c),vD(l,e),pr(n,e.children);for(let{name:u,value:d}of e.variables)n.contextVariables.set(u,d!==""?d:"$implicit");if(c===Wt.NgTemplate&&e.i18n instanceof mt){let u=t.job.allocateXrefId();T.insertAfter(fh(u,e.i18n,void 0,e.startSourceSpan),n.create.head),T.insertBefore(ph(u,e.endSourceSpan??e.startSourceSpan),n.create.tail)}}function OV(t,e){if(e.i18n!==void 0&&!(e.i18n instanceof ir))throw Error(`Unhandled i18n metadata type for element: ${e.i18n.constructor.name}`);let n=WR(t.job.allocateXrefId(),e.selector,e.i18n,e.sourceSpan);for(let s of e.attributes){let r=ni.securityContext(e.name,s.name,!0);t.update.push(Ci(n.xref,V.Attribute,s.name,w(s.value),null,r,!0,!1,null,hs(s.i18n),s.sourceSpan))}t.create.push(n)}function fD(t,e,n){t.create.push(jS(t.job.allocateXrefId(),e.value,n,e.sourceSpan))}function pD(t,e,n){let s=e.value;if(s instanceof kt&&(s=s.ast),!(s instanceof ze))throw new Error(`AssertionError: expected Interpolation for BoundText node, got ${s.constructor.name}`);if(e.i18n!==void 0&&!(e.i18n instanceof Hn))throw Error(`Unhandled i18n metadata type for text interpolation: ${e.i18n?.constructor.name}`);let r=e.i18n instanceof Hn?e.i18n.children.filter(a=>a instanceof pc).map(a=>a.name):[];if(r.length>0&&r.length!==s.expressions.length)throw Error(`Unexpected number of i18n placeholders (${s.expressions.length}) for BoundText with ${s.expressions.length} expressions`);let i=t.job.allocateXrefId();t.create.push(jS(i,"",n,e.sourceSpan));let o=t.job.compatibility?null:e.sourceSpan;t.update.push(DR(i,new We(s.strings,s.expressions.map(a=>G(a,t.job,o)),r),e.sourceSpan))}function FV(t,e){let n=null,s=null,r=[];for(let o=0;o<e.branches.length;o++){let a=e.branches[o],c=t.job.allocateView(t.xref),l=null;o===0&&(l=Um(t,c.xref,a)),a.expressionAlias!==null&&c.contextVariables.set(a.expressionAlias.name,WS);let u;if(a.i18n!==void 0){if(!(a.i18n instanceof ws))throw Error(`Unhandled i18n metadata type for if block: ${a.i18n?.constructor.name}`);u=a.i18n}let d=hh(c.xref,Wt.Block,l,"Conditional",gt.HTML,u,a.startSourceSpan,a.sourceSpan);t.create.push(d),n===null&&(n=c.xref,s=d.handle);let h=a.expression?G(a.expression,t.job,null):null,f=new Fd(h,d.xref,d.handle,a.expressionAlias);r.push(f),pr(c,a.children)}let i=BS(n,s,null,r,e.sourceSpan);t.update.push(i)}function LV(t,e){if(e.cases.length===0)return;let n=null,s=null,r=[];for(let o of e.cases){let a=t.job.allocateView(t.xref),c;if(o.i18n!==void 0){if(!(o.i18n instanceof ws))throw Error(`Unhandled i18n metadata type for switch block: ${o.i18n?.constructor.name}`);c=o.i18n}let l=hh(a.xref,Wt.Block,null,"Case",gt.HTML,c,o.startSourceSpan,o.sourceSpan);t.create.push(l),n===null&&(n=a.xref,s=l.handle);let u=o.expression?G(o.expression,t.job,e.startSourceSpan):null,d=new Fd(u,l.xref,l.handle);r.push(d),pr(a,o.children)}let i=BS(n,s,G(e.expression,t.job,null),r,e.sourceSpan);t.update.push(i)}function Bu(t,e,n,s,r){if(n!==void 0&&!(n instanceof ws))throw Error("Unhandled i18n metadata type for defer block");if(s===void 0)return null;let i=t.job.allocateView(t.xref);pr(i,s);let o=hh(i.xref,Wt.Block,null,`Defer${e}`,gt.HTML,n,r,r);return t.create.push(o),o}function BV(t,e){let n=t.job.deferBlocksMeta.get(e);if(n===void 0)throw new Error("AssertionError: unable to find metadata for deferred block");let s=Bu(t,"",e.i18n,e.children,e.sourceSpan),r=Bu(t,"Loading",e.loading?.i18n,e.loading?.children,e.loading?.sourceSpan),i=Bu(t,"Placeholder",e.placeholder?.i18n,e.placeholder?.children,e.placeholder?.sourceSpan),o=Bu(t,"Error",e.error?.i18n,e.error?.children,e.error?.sourceSpan),a=t.job.allocateXrefId(),c=qR(a,s.xref,s.handle,n,t.job.allDeferrableDepsFn,e.sourceSpan);c.placeholderView=i?.xref??null,c.placeholderSlot=i?.handle??null,c.loadingSlot=r?.handle??null,c.errorSlot=o?.handle??null,c.placeholderMinimumTime=e.placeholder?.minimumTime??null,c.loadingMinimumTime=e.loading?.minimumTime??null,c.loadingAfterTime=e.loading?.afterTime??null,t.create.push(c);let l=!1,u=[],d=[];for(let h of[e.triggers,e.prefetchTriggers]){if(h.idle!==void 0){let f=Wr(a,{kind:Te.Idle},l,h.idle.sourceSpan);u.push(f)}if(h.immediate!==void 0){let f=Wr(a,{kind:Te.Immediate},l,h.immediate.sourceSpan);u.push(f)}if(h.timer!==void 0){let f=Wr(a,{kind:Te.Timer,delay:h.timer.delay},l,h.timer.sourceSpan);u.push(f)}if(h.hover!==void 0){let f=Wr(a,{kind:Te.Hover,targetName:h.hover.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},l,h.hover.sourceSpan);u.push(f)}if(h.interaction!==void 0){let f=Wr(a,{kind:Te.Interaction,targetName:h.interaction.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},l,h.interaction.sourceSpan);u.push(f)}if(h.viewport!==void 0){let f=Wr(a,{kind:Te.Viewport,targetName:h.viewport.reference,targetXref:null,targetSlot:null,targetView:null,targetSlotViewSteps:null},l,h.viewport.sourceSpan);u.push(f)}if(h.when!==void 0){if(h.when.value instanceof ze)throw new Error("Unexpected interpolation in defer block when trigger");let f=OR(a,G(h.when.value,t.job,h.when.sourceSpan),l,h.when.sourceSpan);d.push(f)}u.length===0&&d.length===0&&u.push(Wr(a,{kind:Te.Idle},!1,null)),l=!0}t.create.push(u),t.update.push(d)}function VV(t,e){if(e.i18n instanceof mt&&qa(e.i18n)){let n=t.job.allocateXrefId();t.create.push(YR(n,e.i18n,bv(e.i18n).name,null));for(let[s,r]of Object.entries(_(_({},e.vars),e.placeholders)))r instanceof ui?pD(t,r,s):fD(t,r,s);t.create.push(XR(n))}else throw Error(`Unhandled i18n metadata type for ICU: ${e.i18n?.constructor.name}`)}function $V(t,e){let n=t.job.allocateView(t.xref);n.contextVariables.set(e.item.name,e.item.value),n.contextVariables.set(e.contextVariables.$index.name,e.contextVariables.$index.value),n.contextVariables.set(e.contextVariables.$count.name,e.contextVariables.$count.value);let s=`\u0275${e.contextVariables.$index.name}_${n.xref}`,r=`\u0275${e.contextVariables.$count.name}_${n.xref}`;n.contextVariables.set(s,e.contextVariables.$index.value),n.contextVariables.set(r,e.contextVariables.$count.value),n.aliases.add({kind:Je.Alias,name:null,identifier:e.contextVariables.$first.name,expression:new Pt(s).identical(w(0))}),n.aliases.add({kind:Je.Alias,name:null,identifier:e.contextVariables.$last.name,expression:new Pt(s).identical(new Pt(r).minus(w(1)))}),n.aliases.add({kind:Je.Alias,name:null,identifier:e.contextVariables.$even.name,expression:new Pt(s).modulo(w(2)).identical(w(0))}),n.aliases.add({kind:Je.Alias,name:null,identifier:e.contextVariables.$odd.name,expression:new Pt(s).modulo(w(2)).notIdentical(w(0))});let i=rt(e.trackBy.span,e.sourceSpan),o=G(e.trackBy,t.job,i);pr(n,e.children);let a=null,c=null;e.empty!==null&&(a=t.job.allocateView(t.xref),pr(a,e.empty.children),c=Um(t,a.xref,e.empty));let l={$index:e.contextVariables.$index.name,$count:e.contextVariables.$count.name,$first:e.contextVariables.$first.name,$last:e.contextVariables.$last.name,$even:e.contextVariables.$even.name,$odd:e.contextVariables.$odd.name,$implicit:e.item.name};if(e.i18n!==void 0&&!(e.i18n instanceof ws))throw Error("AssertionError: Unhandled i18n metadata type or @for");if(e.empty?.i18n!==void 0&&!(e.empty.i18n instanceof ws))throw Error("AssertionError: Unhandled i18n metadata type or @empty");let u=e.i18n,d=e.empty?.i18n,h=Um(t,n.xref,e),f=VR(n.xref,a?.xref??null,h,o,l,c,u,d,e.startSourceSpan,e.sourceSpan);t.create.push(f);let g=G(e.expression,t.job,rt(e.expression.span,e.sourceSpan)),y=RR(f.xref,f.handle,g,e.sourceSpan);t.update.push(y)}function G(t,e,n){if(t instanceof kt)return G(t.ast,e,n);if(t instanceof Ke){let s=t.receiver instanceof sr,r=t.receiver instanceof pt&&!(t.receiver instanceof sr),i=t.name==="$any"||t.name==="$event";return r||s&&!i?new Pt(t.name):new Dt(G(t.receiver,e,n),t.name,null,rt(t.span,n))}else{if(t instanceof Lo)return t.receiver instanceof pt?new Mo(new xs(e.root.xref),t.name,G(t.value,e,n),null,rt(t.span,n)):new Mo(G(t.receiver,e,n),t.name,G(t.value,e,n),void 0,rt(t.span,n));if(t instanceof Vo)return new tc(G(t.receiver,e,n),G(t.key,e,n),G(t.value,e,n),void 0,rt(t.span,n));if(t instanceof Yn){if(t.receiver instanceof pt)throw new Error("Unexpected ImplicitReceiver");return new St(G(t.receiver,e,n),t.args.map(s=>G(s,e,n)),void 0,rt(t.span,n))}else{if(t instanceof ft)return w(t.value,void 0,rt(t.span,n));if(t instanceof Es)switch(t.operator){case"+":return new ai(ri.Plus,G(t.expr,e,n),void 0,rt(t.span,n));case"-":return new ai(ri.Minus,G(t.expr,e,n),void 0,rt(t.span,n));default:throw new Error(`AssertionError: unknown unary operator ${t.operator}`)}else if(t instanceof At){let s=dO.get(t.operation);if(s===void 0)throw new Error(`AssertionError: unknown binary operator ${t.operation}`);return new ee(s,G(t.left,e,n),G(t.right,e,n),void 0,rt(t.span,n))}else{if(t instanceof sr)return new xs(e.root.xref);if(t instanceof bs)return new qn(G(t.receiver,e,n),G(t.key,e,n),void 0,rt(t.span,n));if(t instanceof ar)throw new Error("AssertionError: Chain in unknown context");if(t instanceof $o){let s=t.keys.map((r,i)=>{let o=t.values[i];return new No(r.key,G(o,e,n),r.quoted)});return new Cn(s,void 0,rt(t.span,n))}else{if(t instanceof yi)return new an(t.expressions.map(s=>G(s,e,n)));if(t instanceof gi)return new Yt(G(t.condition,e,n),G(t.trueExp,e,n),G(t.falseExp,e,n),void 0,rt(t.span,n));if(t instanceof bi)return G(t.expression,e,n);if(t instanceof vi)return new Di(e.allocateXrefId(),new Qt,t.name,[G(t.exp,e,n),...t.args.map(s=>G(s,e,n))]);if(t instanceof mi)return new Uo(G(t.receiver,e,n),G(t.key,e,n),rt(t.span,n));if(t instanceof Bo)return new Ho(G(t.receiver,e,n),t.name);if(t instanceof Ei)return new lr(G(t.receiver,e,n),t.args.map(s=>G(s,e,n)));if(t instanceof ht)return new Sc(rt(t.span,n));if(t instanceof wi)return JC(G(t.expression,e,n),rt(t.span,n));throw new Error(`Unhandled expression type "${t.constructor.name}" in file "${n?.start.file.url}"`)}}}}}function Hm(t,e,n,s){let r;return e instanceof ze?r=new We(e.strings,e.expressions.map(i=>G(i,t,s??null)),Object.keys(hs(n)?.placeholders??{})):e instanceof je?r=G(e,t,s??null):r=w(e),r}var gD=new Map([[0,V.Property],[5,V.TwoWayProperty],[1,V.Attribute],[2,V.ClassName],[3,V.StyleProperty],[4,V.Animation]]);function jV(t){return Ct(t.tagName??"")[1]===si}function hs(t){if(t==null)return null;if(!(t instanceof mt))throw Error(`Expected i18n meta to be a Message, but got: ${t.constructor.name}`);return t}function HV(t,e,n){let s=new Array,r=new Set;for(let i of n.attributes){let o=ni.securityContext(n.name,i.name,!0);s.push(Ci(e.xref,V.Attribute,i.name,Hm(t.job,i.value,i.i18n),null,o,!0,!1,null,hs(i.i18n),i.sourceSpan)),i.i18n&&r.add(i.name)}for(let i of n.inputs)r.has(i.name)&&console.error(`On component ${t.job.componentName}, the binding ${i.name} is both an i18n attribute and a property. You may want to remove the property binding. This will become a compilation error in future versions of Angular.`),s.push(Ci(e.xref,gD.get(i.type),i.name,Hm(t.job,Nc(i.value),i.i18n),i.unit,i.securityContext,!1,!1,null,hs(i.i18n)??null,i.sourceSpan));t.create.push(s.filter(i=>i?.kind===m.ExtractedAttribute)),t.update.push(s.filter(i=>i?.kind===m.Binding));for(let i of n.outputs){if(i.type===1&&i.phase===null)throw Error("Animation listener should have a phase");i.type===2?t.create.push(HS(e.xref,e.handle,i.name,e.tag,mD(t,i.handler,i.handlerSpan),i.sourceSpan)):t.create.push(Nv(e.xref,e.handle,i.name,e.tag,Ov(t,i.handler,i.handlerSpan),i.phase,i.target,!1,i.sourceSpan))}s.some(i=>i?.i18nMessage)!==null&&t.create.push(zS(t.job.allocateXrefId(),new Qt,e.xref))}function UV(t,e,n,s){let r=new Array;for(let i of n.templateAttrs)if(i instanceof Po){let o=ni.securityContext(si,i.name,!0);r.push(Vu(t,e.xref,1,i.name,i.value,null,o,!0,s,hs(i.i18n),i.sourceSpan))}else r.push(Vu(t,e.xref,i.type,i.name,Nc(i.value),i.unit,i.securityContext,!0,s,hs(i.i18n),i.sourceSpan));for(let i of n.attributes){let o=ni.securityContext(si,i.name,!0);r.push(Vu(t,e.xref,1,i.name,i.value,null,o,!1,s,hs(i.i18n),i.sourceSpan))}for(let i of n.inputs)r.push(Vu(t,e.xref,i.type,i.name,Nc(i.value),i.unit,i.securityContext,!1,s,hs(i.i18n),i.sourceSpan));t.create.push(r.filter(i=>i?.kind===m.ExtractedAttribute)),t.update.push(r.filter(i=>i?.kind===m.Binding));for(let i of n.outputs){if(i.type===1&&i.phase===null)throw Error("Animation listener should have a phase");if(s===Wt.NgTemplate&&(i.type===2?t.create.push(HS(e.xref,e.handle,i.name,e.tag,mD(t,i.handler,i.handlerSpan),i.sourceSpan)):t.create.push(Nv(e.xref,e.handle,i.name,e.tag,Ov(t,i.handler,i.handlerSpan),i.phase,i.target,!1,i.sourceSpan))),s===Wt.Structural&&i.type!==1){let o=ni.securityContext(si,i.name,!1);t.create.push(sn(e.xref,V.Property,null,i.name,null,null,null,o))}}r.some(i=>i?.i18nMessage)!==null&&t.create.push(zS(t.job.allocateXrefId(),new Qt,e.xref))}function Vu(t,e,n,s,r,i,o,a,c,l,u){let d=typeof r=="string";if(c===Wt.Structural){if(!a)switch(n){case 0:case 2:case 3:return sn(e,V.Property,null,s,null,null,l,o);case 5:return sn(e,V.TwoWayProperty,null,s,null,null,l,o)}if(!d&&(n===1||n===4))return null}let h=gD.get(n);return c===Wt.NgTemplate&&(n===2||n===3||n===1&&!d)&&(h=V.Property),Ci(e,h,s,Hm(t.job,r,l),i,o,d,a,c,l,u)}function Ov(t,e,n){e=Nc(e);let s=new Array,r=e instanceof ar?e.expressions:[e];if(r.length===0)throw new Error("Expected listener to have non-empty expression list.");let i=r.map(a=>G(a,t.job,n)),o=i.pop();return s.push(...i.map(a=>Xn(new nt(a,a.sourceSpan)))),s.push(Xn(new qe(o,o.sourceSpan))),s}function mD(t,e,n){e=Nc(e);let s=new Array;if(e instanceof ar)if(e.expressions.length===1)e=e.expressions[0];else throw new Error("Expected two-way listener to have a single expression.");let r=G(e,t.job,n),i=new Pt("$event"),o=new Pd(r,i);return s.push(Xn(new nt(o))),s.push(Xn(new qe(i))),s}function Nc(t){return t instanceof kt?t.ast:t}function vD(t,e){zV(t.localRefs);for(let{name:n,value:s}of e.references)t.localRefs.push({name:n,target:s})}function zV(t){if(!Array.isArray(t))throw new Error("AssertionError: expected an array")}function rt(t,e){if(e===null)return null;let n=e.start.moveBy(t.start),s=e.start.moveBy(t.end),r=e.fullStart.moveBy(t.start);return new X(n,s,r)}function Um(t,e,n){let s=null;for(let r of n.children)if(!(r instanceof ko)){if(s!==null)return null;(r instanceof _t||r instanceof Rt&&r.tagName!==null)&&(s=r)}if(s!==null){for(let i of s.attributes){let o=ni.securityContext(si,i.name,!0);t.update.push(Ci(e,V.Attribute,i.name,w(i.value),null,o,!0,!1,null,hs(i.i18n),i.sourceSpan))}for(let i of s.inputs)if(i.type!==4&&i.type!==1){let o=ni.securityContext(si,i.name,!0);t.create.push(sn(e,V.Property,null,i.name,null,null,null,o))}let r=s instanceof _t?s.name:s.tagName;return r===si?null:r}return null}var yD=!1,zm=class extends Rm{constructor(){super(QS)}parse(e,n,s){return super.parse(e,n,s)}},wD="ngPreserveWhitespaces",WV=new Set(["pre","template","textarea","script","style"]),bD=` \f
\r	\v\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF`,qV=new RegExp(`[^${bD}]`),GV=new RegExp(`[${bD}]{2,}`,"g");function YV(t){return t.some(e=>e.name===wD)}function ED(t){return t.replace(new RegExp(ZS,"g")," ")}var Wm=class{visitElement(e,n){return WV.has(e.name)||YV(e.attrs)?new tn(e.name,Re(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new tn(e.name,e.attrs,gC(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}visitAttribute(e,n){return e.name!==wD?e:null}visitText(e,n){let s=e.value.match(qV),r=n&&(n.prev instanceof qo||n.next instanceof qo);if(s||r){let i=e.tokens.map(a=>a.type===5?XV(a):a),o=xD(e.value);return new fr(o,e.sourceSpan,i,e.i18n)}return null}visitComment(e,n){return e}visitExpansion(e,n){return e}visitExpansionCase(e,n){return e}visitBlock(e,n){return new nn(e.name,e.parameters,gC(this,e.children),e.sourceSpan,e.nameSpan,e.startSourceSpan,e.endSourceSpan)}visitBlockParameter(e,n){return e}};function XV({type:t,parts:e,sourceSpan:n}){return{type:t,parts:[xD(e[0])],sourceSpan:n}}function xD(t){return ED(t).replace(GV," ")}function gC(t,e){let n=[];return e.forEach((s,r)=>{let i={prev:e[r-1],next:e[r+1]},o=s.visit(t,i);o&&n.push(o)}),n}var mC=".",QV="attr",ZV="class",KV="style",JV="*",wg="animate-",qm=class{constructor(e,n,s,r){this._exprParser=e,this._interpolationConfig=n,this._schemaRegistry=s,this.errors=r}get interpolationConfig(){return this._interpolationConfig}createBoundHostProperties(e,n){let s=[];for(let r of Object.keys(e)){let i=e[r];typeof i=="string"?this.parsePropertyBinding(r,i,!0,!1,n,n.start.offset,void 0,[],s,n):this._reportError(`Value of the host property binding "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,n)}return s}createDirectiveHostEventAsts(e,n){let s=[];for(let r of Object.keys(e)){let i=e[r];typeof i=="string"?this.parseEvent(r,i,!1,n,n,[],s,n):this._reportError(`Value of the host listener "${r}" needs to be a string representing an expression but got "${i}" (${typeof i})`,n)}return s}parseInterpolation(e,n,s){let r=n.start.toString(),i=n.fullStart.offset;try{let o=this._exprParser.parseInterpolation(e,r,i,s,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,n),o}catch(o){return this._reportError(`${o}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",r,i)}}parseInterpolationExpression(e,n){let s=n.start.toString(),r=n.start.offset;try{let i=this._exprParser.parseInterpolationExpression(e,s,r);return i&&this._reportExpressionParserErrors(i.errors,n),i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",s,r)}}parseInlineTemplateBinding(e,n,s,r,i,o,a,c){let l=s.start.offset+JV.length,u=this._parseTemplateBindings(e,n,s,l,r);for(let d of u){let h=Ys(s,d.sourceSpan),f=d.key.source,g=Ys(s,d.key.span);if(d instanceof bc){let y=d.value?d.value.source:"$implicit",v=d.value?Ys(s,d.value.span):void 0;a.push(new rm(f,y,h,g,v))}else if(d.value){let y=c?h:s,v=Ys(s,d.value.ast.sourceSpan);this._parsePropertyAst(f,d.value,!1,y,g,v,i,o)}else i.push([f,""]),this.parseLiteralAttr(f,null,g,r,void 0,i,o,g)}}_parseTemplateBindings(e,n,s,r,i){let o=s.start.toString();try{let a=this._exprParser.parseTemplateBindings(e,n,o,r,i);return this._reportExpressionParserErrors(a.errors,s),a.warnings.forEach(c=>{this._reportError(c,s,tr.WARNING)}),a.templateBindings}catch(a){return this._reportError(`${a}`,s),[]}}parseLiteralAttr(e,n,s,r,i,o,a,c){bg(e)?(e=e.substring(1),c!==void 0&&(c=Ys(c,new zt(c.start.offset+1,c.end.offset))),n&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',s,tr.ERROR),this._parseAnimation(e,n,s,r,c,i,o,a)):a.push(new Za(e,this._exprParser.wrapLiteralPrimitive(n,"",r),er.LITERAL_ATTR,s,c,i))}parsePropertyBinding(e,n,s,r,i,o,a,c,l,u){e.length===0&&this._reportError("Property name is missing in binding",i);let d=!1;e.startsWith(wg)?(d=!0,e=e.substring(wg.length),u!==void 0&&(u=Ys(u,new zt(u.start.offset+wg.length,u.end.offset)))):bg(e)&&(d=!0,e=e.substring(1),u!==void 0&&(u=Ys(u,new zt(u.start.offset+1,u.end.offset)))),d?this._parseAnimation(e,n,i,o,u,a,c,l):this._parsePropertyAst(e,this.parseBinding(n,s,a||i,o),r,i,u,a,c,l)}parsePropertyInterpolation(e,n,s,r,i,o,a,c){let l=this.parseInterpolation(n,r||s,c);return l?(this._parsePropertyAst(e,l,!1,s,a,r,i,o),!0):!1}_parsePropertyAst(e,n,s,r,i,o,a,c){a.push([e,n.source]),c.push(new Za(e,n,s?er.TWO_WAY:er.DEFAULT,r,i,o))}_parseAnimation(e,n,s,r,i,o,a,c){e.length===0&&this._reportError("Animation trigger is missing",s);let l=this.parseBinding(n||"undefined",!1,o||s,r);a.push([e,l.source]),c.push(new Za(e,l,er.ANIMATION,s,i,o))}parseBinding(e,n,s,r){let i=(s&&s.start||"(unknown)").toString();try{let o=n?this._exprParser.parseSimpleBinding(e,i,r,this._interpolationConfig):this._exprParser.parseBinding(e,i,r,this._interpolationConfig);return o&&this._reportExpressionParserErrors(o.errors,s),o}catch(o){return this._reportError(`${o}`,s),this._exprParser.wrapLiteralPrimitive("ERROR",i,r)}}createBoundElementProperty(e,n,s=!1,r=!0){if(n.isAnimation)return new Id(n.name,4,ne.NONE,n.expression,null,n.sourceSpan,n.keySpan,n.valueSpan);let i=null,o,a=null,c=n.name.split(mC),l;if(c.length>1)if(c[0]==QV){a=c.slice(1).join(mC),s||this._validatePropertyOrAttributeName(a,n.sourceSpan,!0),l=Eg(this._schemaRegistry,e,a,!0);let u=a.indexOf(":");if(u>-1){let d=a.substring(0,u),h=a.substring(u+1);a=jg(d,h)}o=1}else c[0]==ZV?(a=c[1],o=2,l=[ne.NONE]):c[0]==KV&&(i=c.length>2?c[2]:null,a=c[1],o=3,l=[ne.STYLE]);if(a===null){let u=this._schemaRegistry.getMappedPropName(n.name);a=r?u:n.name,l=Eg(this._schemaRegistry,e,u,!1),o=n.type===er.TWO_WAY?5:0,s||this._validatePropertyOrAttributeName(u,n.sourceSpan,!1)}return new Id(a,o,l[0],n.expression,i,n.sourceSpan,n.keySpan,n.valueSpan)}parseEvent(e,n,s,r,i,o,a,c){e.length===0&&this._reportError("Event name is missing in binding",r),bg(e)?(e=e.slice(1),c!==void 0&&(c=Ys(c,new zt(c.start.offset+1,c.end.offset))),this._parseAnimationEvent(e,n,r,i,a,c)):this._parseRegularEvent(e,n,s,r,i,o,a,c)}calcPossibleSecurityContexts(e,n,s){let r=this._schemaRegistry.getMappedPropName(n);return Eg(this._schemaRegistry,e,r,s)}_parseAnimationEvent(e,n,s,r,i,o){let a=Mk(e,[e,""]),c=a[0],l=a[1].toLowerCase(),u=this._parseAction(n,r);i.push(new _d(c,l,1,u,s,r,o)),c.length===0&&this._reportError("Animation event name is missing in binding",s),l?l!=="start"&&l!=="done"&&this._reportError(`The provided animation output phase value "${l}" for "@${c}" is not supported (use start or done)`,s):this._reportError(`The animation trigger output event (@${c}) is missing its phase value name (start or done are currently supported)`,s)}_parseRegularEvent(e,n,s,r,i,o,a,c){let[l,u]=Ak(e,[null,e]),d=this.errors.length,h=this._parseAction(n,i),f=this.errors.length===d;o.push([e,h.source]),s&&f&&!this._isAllowedAssignmentEvent(h)&&this._reportError("Unsupported expression in a two-way binding",r),a.push(new _d(u,l,s?2:0,h,r,i,c))}_parseAction(e,n){let s=(n&&n.start||"(unknown").toString(),r=n&&n.start?n.start.offset:0;try{let i=this._exprParser.parseAction(e,s,r,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),!i||i.ast instanceof ht?(this._reportError("Empty expressions are not allowed",n),this._exprParser.wrapLiteralPrimitive("ERROR",s,r)):i}catch(i){return this._reportError(`${i}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",s,r)}}_reportError(e,n,s=tr.ERROR){this.errors.push(new W(n,e,s))}_reportExpressionParserErrors(e,n){for(let s of e)this._reportError(s.message,n)}_validatePropertyOrAttributeName(e,n,s){let r=s?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);r.error&&this._reportError(r.msg,n,tr.ERROR)}_isAllowedAssignmentEvent(e){return e instanceof kt?this._isAllowedAssignmentEvent(e.ast):e instanceof bi?this._isAllowedAssignmentEvent(e.expression):e instanceof Ke||e instanceof bs?!0:e instanceof At?(e.operation==="&&"||e.operation==="||"||e.operation==="??")&&(e.right instanceof Ke||e.right instanceof bs):e instanceof gi||e instanceof wi}};function bg(t){return t[0]=="@"}function Eg(t,e,n,s){let r=[];return To.parse(e).forEach(i=>{let o=i.element?[i.element]:t.allKnownElementNames(),a=new Set(i.notSelectors.filter(l=>l.isElementSelector()).map(l=>l.element)),c=o.filter(l=>!a.has(l));r.push(...c.map(l=>t.securityContext(l,n,s)))}),r.length===0?[ne.NONE]:Array.from(new Set(r)).sort()}function Ys(t,e){let n=e.start-t.start.offset,s=e.end-t.end.offset;return new X(t.start.moveBy(n),t.end.moveBy(s),t.fullStart.moveBy(n),t.details)}function e8(t){if(t==null||t.length===0||t[0]=="/")return!1;let e=t.match(t8);return e===null||e[1]=="package"||e[1]=="asset"}var t8=/^([^:/?#]+):/,n8="select",s8="link",r8="rel",i8="href",o8="stylesheet",a8="style",c8="script",l8="ngNonBindable",u8="ngProjectAs";function CD(t){let e=null,n=null,s=null,r=!1,i="";t.attrs.forEach(c=>{let l=c.name.toLowerCase();l==n8?e=c.value:l==i8?n=c.value:l==r8?s=c.value:c.name==l8?r=!0:c.name==u8&&c.value.length>0&&(i=c.value)}),e=d8(e);let o=t.name.toLowerCase(),a=Ut.OTHER;return Vg(o)?a=Ut.NG_CONTENT:o==a8?a=Ut.STYLE:o==c8?a=Ut.SCRIPT:o==s8&&s==o8&&(a=Ut.STYLESHEET),new Gm(a,e,n,r,i)}var Ut=function(t){return t[t.NG_CONTENT=0]="NG_CONTENT",t[t.STYLE=1]="STYLE",t[t.STYLESHEET=2]="STYLESHEET",t[t.SCRIPT=3]="SCRIPT",t[t.OTHER=4]="OTHER",t}(Ut||{}),Gm=class{constructor(e,n,s,r,i){this.type=e,this.selectAttr=n,this.hrefAttr=s,this.nonBindable=r,this.projectAs=i}};function d8(t){return t===null||t.length===0?"*":t}var h8=/^\s*([0-9A-Za-z_$]*)\s+of\s+([\S\s]*)/,f8=/^track\s+([\S\s]*)/,p8=/^(as\s)+(.*)/,Fv=/^else[^\S\r\n]+if/,g8=/^let\s+([\S\s]*)/,vC=/(\s*)(\S+)(\s*)/,Ym=new Set(["$index","$first","$last","$even","$odd","$count"]);function yC(t){return t==="empty"}function wC(t){return t==="else"||Fv.test(t)}function m8(t,e,n,s){let r=E8(e),i=[],o=bC(t,r,s);o!==null&&i.push(new ei(o.expression,Re(n,t.children,t.children),o.expressionAlias,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan,t.i18n));for(let d of e)if(Fv.test(d.name)){let h=bC(d,r,s);if(h!==null){let f=Re(n,d.children,d.children);i.push(new ei(h.expression,f,h.expressionAlias,d.sourceSpan,d.startSourceSpan,d.endSourceSpan,d.nameSpan,d.i18n))}}else if(d.name==="else"){let h=Re(n,d.children,d.children);i.push(new ei(null,h,null,d.sourceSpan,d.startSourceSpan,d.endSourceSpan,d.nameSpan,d.i18n))}let a=i.length>0?i[0].startSourceSpan:t.startSourceSpan,c=i.length>0?i[i.length-1].endSourceSpan:t.endSourceSpan,l=t.sourceSpan,u=i[i.length-1];return u!==void 0&&(l=new X(a.start,u.sourceSpan.end)),{node:new hd(i,l,t.startSourceSpan,c,t.nameSpan),errors:r}}function v8(t,e,n,s){let r=[],i=w8(t,r,s),o=null,a=null;for(let c of e)c.name==="empty"?a!==null?r.push(new W(c.sourceSpan,"@for loop can only have one @empty block")):c.parameters.length>0?r.push(new W(c.sourceSpan,"@empty block cannot have parameters")):a=new dc(Re(n,c.children,c.children),c.sourceSpan,c.startSourceSpan,c.endSourceSpan,c.nameSpan,c.i18n):r.push(new W(c.sourceSpan,`Unrecognized @for loop block "${c.name}"`));if(i!==null)if(i.trackBy===null)r.push(new W(t.sourceSpan,'@for loop must have a "track" expression'));else{let c=a?.endSourceSpan??t.endSourceSpan,l=new X(t.sourceSpan.start,c?.end??t.sourceSpan.end);o=new Ro(i.itemName,i.expression,i.trackBy.expression,i.trackBy.keywordSpan,i.context,Re(n,t.children,t.children),a,l,t.sourceSpan,t.startSourceSpan,c,t.nameSpan,t.i18n)}return{node:o,errors:r}}function y8(t,e,n){let s=x8(t),r=t.parameters.length>0?kc(t.parameters[0],n):n.parseBinding("",!1,t.sourceSpan,0),i=[],o=[],a=null;for(let c of t.children){if(!(c instanceof nn))continue;if((c.name!=="case"||c.parameters.length===0)&&c.name!=="default"){o.push(new fd(c.name,c.sourceSpan,c.nameSpan));continue}let l=c.name==="case"?kc(c.parameters[0],n):null,u=new uc(l,Re(e,c.children,c.children),c.sourceSpan,c.startSourceSpan,c.endSourceSpan,c.nameSpan,c.i18n);l===null?a=u:i.push(u)}return a!==null&&i.push(a),{node:new dd(r,i,o,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.nameSpan),errors:s}}function w8(t,e,n){if(t.parameters.length===0)return e.push(new W(t.sourceSpan,"@for loop does not have an expression")),null;let[s,...r]=t.parameters,i=C8(s,e)?.match(h8);if(!i||i[2].trim().length===0)return e.push(new W(s.sourceSpan,'Cannot parse expression. @for loop expression must match the pattern "<identifier> of <expression>"')),null;let[,o,a]=i,c=s.expression.split(" ")[0],l=new X(s.sourceSpan.start,s.sourceSpan.start.moveBy(c.length)),u={itemName:new ys(o,"$implicit",l,l),trackBy:null,expression:kc(s,n,a),context:{}};for(let d of r){let h=d.expression.match(g8);if(h!==null){let g=new X(d.sourceSpan.start.moveBy(h[0].length-h[1].length),d.sourceSpan.end);b8(d.sourceSpan,h[1],g,u.context,e);continue}let f=d.expression.match(f8);if(f!==null){if(u.trackBy!==null)e.push(new W(d.sourceSpan,'@for loop can only have one "track" expression'));else{let g=kc(d,n,f[1]);g.ast instanceof ht&&e.push(new W(d.sourceSpan,'@for loop must have a "track" expression'));let y=new X(d.sourceSpan.start,d.sourceSpan.start.moveBy(5));u.trackBy={expression:g,keywordSpan:y}}continue}e.push(new W(d.sourceSpan,`Unrecognized @for loop paramater "${d.expression}"`))}for(let d of Ym)if(!u.context.hasOwnProperty(d)){let h=new X(t.startSourceSpan.end,t.startSourceSpan.end);u.context[d]=new ys(d,d,h,h)}return u}function b8(t,e,n,s,r){let i=e.split(","),o=n.start;for(let a of i){let c=a.split("="),l=c.length===2?c[0].trim():"",u=c.length===2?c[1].trim():"";if(l.length===0||u.length===0)r.push(new W(t,'Invalid @for loop "let" parameter. Parameter should match the pattern "<name> = <variable name>"'));else if(!Ym.has(u))r.push(new W(t,`Unknown "let" parameter variable "${u}". The allowed variables are: ${Array.from(Ym).join(", ")}`));else if(s.hasOwnProperty(u))r.push(new W(t,`Duplicate "let" parameter variable "${u}"`));else{let[,d,h]=c[0].match(vC)??[],f=d!==void 0&&c.length===2?new X(o.moveBy(d.length),o.moveBy(d.length+h.length)):n,g;if(c.length===2){let[,v,b]=c[1].match(vC)??[];g=v!==void 0?new X(o.moveBy(c[0].length+1+v.length),o.moveBy(c[0].length+1+v.length+b.length)):void 0}let y=new X(f.start,g?.end??f.end);s[u]=new ys(l,u,y,f,g)}o=o.moveBy(a.length+1)}}function E8(t){let e=[],n=!1;for(let s=0;s<t.length;s++){let r=t[s];r.name==="else"?(n?e.push(new W(r.sourceSpan,"Conditional can only have one @else block")):t.length>1&&s<t.length-1?e.push(new W(r.sourceSpan,"@else block must be last inside the conditional")):r.parameters.length>0&&e.push(new W(r.sourceSpan,"@else block cannot have parameters")),n=!0):Fv.test(r.name)||e.push(new W(r.sourceSpan,`Unrecognized conditional block @${r.name}`))}return e}function x8(t){let e=[],n=!1;if(t.parameters.length!==1)return e.push(new W(t.sourceSpan,"@switch block must have exactly one parameter")),e;for(let s of t.children)if(!(s instanceof Ac||s instanceof fr&&s.value.trim().length===0)){if(!(s instanceof nn)||s.name!=="case"&&s.name!=="default"){e.push(new W(s.sourceSpan,"@switch block can only contain @case and @default blocks"));continue}s.name==="default"?(n?e.push(new W(s.sourceSpan,"@switch block can only have one @default block")):s.parameters.length>0&&e.push(new W(s.sourceSpan,"@default block cannot have parameters")),n=!0):s.name==="case"&&s.parameters.length!==1&&e.push(new W(s.sourceSpan,"@case block must have exactly one parameter"))}return e}function kc(t,e,n){let s,r;return typeof n=="string"?(s=Math.max(0,t.expression.lastIndexOf(n)),r=s+n.length):(s=0,r=t.expression.length),e.parseBinding(t.expression.slice(s,r),!1,t.sourceSpan,t.sourceSpan.start.offset+s)}function bC(t,e,n){if(t.parameters.length===0)return e.push(new W(t.sourceSpan,"Conditional block does not have an expression")),null;let s=kc(t.parameters[0],n),r=null;for(let i=1;i<t.parameters.length;i++){let o=t.parameters[i],a=o.expression.match(p8);if(a===null)e.push(new W(o.sourceSpan,`Unrecognized conditional paramater "${o.expression}"`));else if(t.name!=="if")e.push(new W(o.sourceSpan,'"as" expression is only allowed on the primary @if block'));else if(r!==null)e.push(new W(o.sourceSpan,'Conditional can only have one "as" expression'));else{let c=a[2].trim(),l=o.sourceSpan.start.moveBy(a[1].length),u=new X(l,l.moveBy(c.length));r=new ys(c,c,u,u)}}return{expression:s,expressionAlias:r}}function C8(t,e){let n=t.expression,s=/^\s$/,r=0,i=0,o=n.length-1;for(let a=0;a<n.length;a++){let c=n[a];if(c==="(")i=a+1,r++;else{if(s.test(c))continue;break}}if(r===0)return n;for(let a=n.length-1;a>-1;a--){let c=n[a];if(c===")"){if(o=a,r--,r===0)break}else{if(s.test(c))continue;break}}return r!==0?(e.push(new W(t.sourceSpan,"Unclosed parentheses in expression")),null):n.slice(i,o)}var S8=/^\d+\.?\d*(ms|s)?$/,D8=/^\s$/,EC=new Map([[$n,Mt],[Io,Eo],[ps,En]]),Nt=function(t){return t.IDLE="idle",t.TIMER="timer",t.INTERACTION="interaction",t.IMMEDIATE="immediate",t.HOVER="hover",t.VIEWPORT="viewport",t}(Nt||{});function xC({expression:t,sourceSpan:e},n,s,r){let i=t.indexOf("when"),o=new X(e.start.moveBy(i),e.start.moveBy(i+4)),a=SD(t,e);if(i===-1)r.push(new W(e,'Could not find "when" keyword in expression'));else{let c=Pc(t,i+1),l=n.parseBinding(t.slice(c),!1,e,e.start.offset+c);DD("when",s,r,new Hg(l,e,a,o))}}function CC({expression:t,sourceSpan:e},n,s,r){let i=t.indexOf("on"),o=new X(e.start.moveBy(i),e.start.moveBy(i+2)),a=SD(t,e);if(i===-1)s.push(new W(e,'Could not find "on" keyword in expression'));else{let c=Pc(t,i+1);new Xm(t,c,e,n,s,r,a,o).parse()}}function SD(t,e){return t.startsWith("prefetch")?new X(e.start,e.start.moveBy(8)):null}var Xm=class{constructor(e,n,s,r,i,o,a,c){this.expression=e,this.start=n,this.span=s,this.triggers=r,this.errors=i,this.placeholder=o,this.prefetchSpan=a,this.onSourceSpan=c,this.index=0,this.tokens=new Tc().tokenize(e.slice(n))}parse(){for(;this.tokens.length>0&&this.index<this.tokens.length;){let e=this.token();if(!e.isIdentifier()){this.unexpectedToken(e);break}if(this.isFollowedByOrLast(rn))this.consumeTrigger(e,[]),this.advance();else if(this.isFollowedByOrLast(ps)){this.advance();let n=this.errors.length,s=this.consumeParameters();if(this.errors.length!==n)break;this.consumeTrigger(e,s),this.advance()}else this.index<this.tokens.length-1&&this.unexpectedToken(this.tokens[this.index+1]);this.advance()}}advance(){this.index++}isFollowedByOrLast(e){return this.index===this.tokens.length-1?!0:this.tokens[this.index+1].isCharacter(e)}token(){return this.tokens[Math.min(this.index,this.tokens.length-1)]}consumeTrigger(e,n){let s=this.span.start.moveBy(this.start+e.index-this.tokens[0].index),r=new X(s,s.moveBy(e.strValue.length)),i=s.moveBy(this.token().end-e.index),o=e.index===0,a=o?this.onSourceSpan:null,c=o?this.prefetchSpan:null,l=new X(o?this.span.start:s,i);try{switch(e.toString()){case Nt.IDLE:this.trackTrigger("idle",_8(n,r,l,c,a));break;case Nt.TIMER:this.trackTrigger("timer",I8(n,r,l,this.prefetchSpan,this.onSourceSpan));break;case Nt.INTERACTION:this.trackTrigger("interaction",M8(n,r,l,this.prefetchSpan,this.onSourceSpan,this.placeholder));break;case Nt.IMMEDIATE:this.trackTrigger("immediate",T8(n,r,l,this.prefetchSpan,this.onSourceSpan));break;case Nt.HOVER:this.trackTrigger("hover",A8(n,r,l,this.prefetchSpan,this.onSourceSpan,this.placeholder));break;case Nt.VIEWPORT:this.trackTrigger("viewport",N8(n,r,l,this.prefetchSpan,this.onSourceSpan,this.placeholder));break;default:throw new Error(`Unrecognized trigger type "${e}"`)}}catch(u){this.error(e,u.message)}}consumeParameters(){let e=[];if(!this.token().isCharacter(ps))return this.unexpectedToken(this.token()),e;this.advance();let n=[],s="";for(;this.index<this.tokens.length;){let r=this.token();if(r.isCharacter(En)&&n.length===0){s.length&&e.push(s);break}if(r.type===J.Character&&EC.has(r.numValue)&&n.push(EC.get(r.numValue)),n.length>0&&r.isCharacter(n[n.length-1])&&n.pop(),n.length===0&&r.isCharacter(rn)&&s.length>0){e.push(s),s="",this.advance();continue}s+=this.tokenText(),this.advance()}return(!this.token().isCharacter(En)||n.length>0)&&this.error(this.token(),"Unexpected end of expression"),this.index<this.tokens.length-1&&!this.tokens[this.index+1].isCharacter(rn)&&this.unexpectedToken(this.tokens[this.index+1]),e}tokenText(){return this.expression.slice(this.start+this.token().index,this.start+this.token().end)}trackTrigger(e,n){DD(e,this.triggers,this.errors,n)}error(e,n){let s=this.span.start.moveBy(this.start+e.index),r=s.moveBy(e.end-e.index);this.errors.push(new W(new X(s,r),n))}unexpectedToken(e){this.error(e,`Unexpected token "${e}"`)}};function DD(t,e,n,s){e[t]?n.push(new W(s.sourceSpan,`Duplicate "${t}" trigger is not allowed`)):e[t]=s}function _8(t,e,n,s,r){if(t.length>0)throw new Error(`"${Nt.IDLE}" trigger cannot have parameters`);return new Ug(e,n,s,r)}function I8(t,e,n,s,r){if(t.length!==1)throw new Error(`"${Nt.TIMER}" trigger must have exactly one parameter`);let i=Xd(t[0]);if(i===null)throw new Error(`Could not parse time value of trigger "${Nt.TIMER}"`);return new Wg(i,e,n,s,r)}function T8(t,e,n,s,r){if(t.length>0)throw new Error(`"${Nt.IMMEDIATE}" trigger cannot have parameters`);return new zg(e,n,s,r)}function A8(t,e,n,s,r,i){return Lv(Nt.HOVER,t,i),new cd(t[0]??null,e,n,s,r)}function M8(t,e,n,s,r,i){return Lv(Nt.INTERACTION,t,i),new ld(t[0]??null,e,n,s,r)}function N8(t,e,n,s,r,i){return Lv(Nt.VIEWPORT,t,i),new ud(t[0]??null,e,n,s,r)}function Lv(t,e,n){if(e.length>1)throw new Error(`"${t}" trigger can only have zero or one parameters`);if(e.length===0){if(n===null)throw new Error(`"${t}" trigger with no parameters can only be placed on an @defer that has a @placeholder block`);if(n.children.length!==1||!(n.children[0]instanceof _t))throw new Error(`"${t}" trigger with no parameters can only be placed on an @defer that has a @placeholder block with exactly one root element node`)}}function Pc(t,e=0){let n=!1;for(let s=e;s<t.length;s++)if(D8.test(t[s]))n=!0;else if(n)return s;return-1}function Xd(t){let e=t.match(S8);if(!e)return null;let[n,s]=e;return parseFloat(n)*(s==="s"?1e3:1)}var k8=/^prefetch\s+when\s/,P8=/^prefetch\s+on\s/,_D=/^minimum\s/,R8=/^after\s/,O8=/^when\s/,F8=/^on\s/;function Qm(t){return t==="placeholder"||t==="loading"||t==="error"}function L8(t,e,n,s){let r=[],{placeholder:i,loading:o,error:a}=B8(e,r,n),{triggers:c,prefetchTriggers:l}=H8(t.parameters,s,r,i),u=t.endSourceSpan,d=t.sourceSpan.end;if(e.length>0){let g=e[e.length-1];u=g.endSourceSpan,d=g.sourceSpan.end}let h=new X(t.sourceSpan.start,d);return{node:new di(Re(n,t.children,t.children),c,l,i,o,a,t.nameSpan,h,t.sourceSpan,t.startSourceSpan,u,t.i18n),errors:r}}function B8(t,e,n){let s=null,r=null,i=null;for(let o of t)try{if(!Qm(o.name)){e.push(new W(o.startSourceSpan,`Unrecognized block "@${o.name}"`));break}switch(o.name){case"placeholder":s!==null?e.push(new W(o.startSourceSpan,"@defer block can only have one @placeholder block")):s=V8(o,n);break;case"loading":r!==null?e.push(new W(o.startSourceSpan,"@defer block can only have one @loading block")):r=$8(o,n);break;case"error":i!==null?e.push(new W(o.startSourceSpan,"@defer block can only have one @error block")):i=j8(o,n);break}}catch(a){e.push(new W(o.startSourceSpan,a.message))}return{placeholder:s,loading:r,error:i}}function V8(t,e){let n=null;for(let s of t.parameters)if(_D.test(s.expression)){if(n!=null)throw new Error('@placeholder block can only have one "minimum" parameter');let r=Xd(s.expression.slice(Pc(s.expression)));if(r===null)throw new Error('Could not parse time value of parameter "minimum"');n=r}else throw new Error(`Unrecognized parameter in @placeholder block: "${s.expression}"`);return new ac(Re(e,t.children,t.children),n,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function $8(t,e){let n=null,s=null;for(let r of t.parameters)if(R8.test(r.expression)){if(n!=null)throw new Error('@loading block can only have one "after" parameter');let i=Xd(r.expression.slice(Pc(r.expression)));if(i===null)throw new Error('Could not parse time value of parameter "after"');n=i}else if(_D.test(r.expression)){if(s!=null)throw new Error('@loading block can only have one "minimum" parameter');let i=Xd(r.expression.slice(Pc(r.expression)));if(i===null)throw new Error('Could not parse time value of parameter "minimum"');s=i}else throw new Error(`Unrecognized parameter in @loading block: "${r.expression}"`);return new cc(Re(e,t.children,t.children),n,s,t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function j8(t,e){if(t.parameters.length>0)throw new Error("@error block cannot have parameters");return new lc(Re(e,t.children,t.children),t.nameSpan,t.sourceSpan,t.startSourceSpan,t.endSourceSpan,t.i18n)}function H8(t,e,n,s){let r={},i={};for(let o of t)O8.test(o.expression)?xC(o,e,r,n):F8.test(o.expression)?CC(o,r,n,s):k8.test(o.expression)?xC(o,e,i,n):P8.test(o.expression)?CC(o,i,n,s):n.push(new W(o.sourceSpan,"Unrecognized trigger"));return{triggers:r,prefetchTriggers:i}}var U8=/^(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.*)$/,SC=1,DC=2,_C=3,IC=4,TC=5,z8=6,za=7,Xs={BANANA_BOX:{start:"[(",end:")]"},PROPERTY:{start:"[",end:"]"},EVENT:{start:"(",end:")"}},AC="*";function W8(t,e,n){let s=new Zm(e,n),r=Re(s,t,t),i=e.errors.concat(s.errors),o={nodes:r,errors:i,styleUrls:s.styleUrls,styles:s.styles,ngContentSelectors:s.ngContentSelectors};return n.collectCommentNodes&&(o.commentNodes=s.commentNodes),o}var Zm=class{constructor(e,n){this.bindingParser=e,this.options=n,this.errors=[],this.styles=[],this.styleUrls=[],this.ngContentSelectors=[],this.commentNodes=[],this.inI18nBlock=!1,this.processedNodes=new Set}visitElement(e){let n=gc(e.i18n);n&&(this.inI18nBlock&&this.reportError("Cannot mark an element as translatable inside of a translatable section. Please remove the nested i18n marker.",e.sourceSpan),this.inI18nBlock=!0);let s=CD(e);if(s.type===Ut.SCRIPT)return null;if(s.type===Ut.STYLE){let v=X8(e);return v!==null&&this.styles.push(v),null}else if(s.type===Ut.STYLESHEET&&e8(s.hrefAttr))return this.styleUrls.push(s.hrefAttr),null;let r=Zk(e.name),i=[],o=[],a=[],c=[],l=[],u={},d=[],h=[],f=!1;for(let v of e.attrs){let b=!1,x=MC(v.name),C=!1;if(v.i18n&&(u[v.name]=v.i18n),x.startsWith(AC)){f&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",v.sourceSpan),C=!0,f=!0;let D=v.value,S=x.substring(AC.length),I=[],k=v.valueSpan?v.valueSpan.start.offset:v.sourceSpan.start.offset+v.name.length;this.bindingParser.parseInlineTemplateBinding(S,D,v.sourceSpan,k,[],d,I,!0),h.push(...I.map(M=>new ys(M.name,M.value,M.sourceSpan,M.keySpan,M.valueSpan)))}else b=this.parseAttribute(r,v,[],i,o,a,c);!b&&!C&&l.push(this.visitAttribute(v))}let g;s.nonBindable?g=Re(q8,e.children).flat(1/0):g=Re(this,e.children,e.children);let y;if(s.type===Ut.NG_CONTENT){e.children&&!e.children.every(x=>G8(x)||Y8(x))&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);let v=s.selectAttr,b=e.attrs.map(x=>this.visitAttribute(x));y=new pd(v,b,e.sourceSpan,e.i18n),this.ngContentSelectors.push(v)}else if(r){let v=this.extractAttributes(e.name,i,u);y=new Rt(e.name,l,v.bound,o,[],g,c,a,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{let v=this.extractAttributes(e.name,i,u);y=new _t(e.name,l,v.bound,o,g,c,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(f){let v=this.extractAttributes("ng-template",d,u),b=[];v.literal.forEach(S=>b.push(S)),v.bound.forEach(S=>b.push(S));let x=y instanceof _t?{attributes:y.attributes,inputs:y.inputs,outputs:y.outputs}:{attributes:[],inputs:[],outputs:[]},C=r&&n?void 0:e.i18n,D=y instanceof Rt?null:y.name;y=new Rt(D,x.attributes,x.inputs,x.outputs,b,[y],[],h,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,C)}return n&&(this.inI18nBlock=!1),y}visitAttribute(e){return new Po(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return this.processedNodes.has(e)?null:this._visitTextWithInterpolation(e.value,e.sourceSpan,e.tokens,e.i18n)}visitExpansion(e){if(!e.i18n)return null;if(!gc(e.i18n))throw new Error(`Invalid type "${e.i18n.constructor}" for "i18n" property of ${e.sourceSpan.toString()}. Expected a "Message"`);let n=e.i18n,s={},r={};return Object.keys(n.placeholders).forEach(i=>{let o=n.placeholders[i];if(i.startsWith(nP)){let a=i.trim(),c=this.bindingParser.parseInterpolationExpression(o.text,o.sourceSpan);s[a]=new ui(c,o.sourceSpan)}else r[i]=this._visitTextWithInterpolation(o.text,o.sourceSpan,null)}),new fc(s,r,e.sourceSpan,n)}visitExpansionCase(e){return null}visitComment(e){return this.options.collectCommentNodes&&this.commentNodes.push(new ko(e.value||"",e.sourceSpan)),null}visitBlockParameter(){return null}visitBlock(e,n){let s=Array.isArray(n)?n.indexOf(e):-1;if(s===-1)throw new Error("Visitor invoked incorrectly. Expecting visitBlock to be invoked siblings array as its context");if(this.processedNodes.has(e))return null;let r=null;switch(e.name){case"defer":r=L8(e,this.findConnectedBlocks(s,n,Qm),this,this.bindingParser);break;case"switch":r=y8(e,this,this.bindingParser);break;case"for":r=v8(e,this.findConnectedBlocks(s,n,yC),this,this.bindingParser);break;case"if":r=m8(e,this.findConnectedBlocks(s,n,wC),this,this.bindingParser);break;default:let i;Qm(e.name)?(i=`@${e.name} block can only be used after an @defer block.`,this.processedNodes.add(e)):yC(e.name)?(i=`@${e.name} block can only be used after an @for block.`,this.processedNodes.add(e)):wC(e.name)?(i=`@${e.name} block can only be used after an @if or @else if block.`,this.processedNodes.add(e)):i=`Unrecognized block @${e.name}.`,r={node:new fd(e.name,e.sourceSpan,e.nameSpan),errors:[new W(e.sourceSpan,i)]};break}return this.errors.push(...r.errors),r.node}findConnectedBlocks(e,n,s){let r=[];for(let i=e+1;i<n.length;i++){let o=n[i];if(o instanceof fr&&o.value.trim().length===0){this.processedNodes.add(o);continue}if(!(o instanceof nn)||!s(o.name))break;r.push(o),this.processedNodes.add(o)}return r}extractAttributes(e,n,s){let r=[],i=[];return n.forEach(o=>{let a=s[o.name];if(o.isLiteral)i.push(new Po(o.name,o.expression.source||"",o.sourceSpan,o.keySpan,o.valueSpan,a));else{let c=this.bindingParser.createBoundElementProperty(e,o,!0,!1);r.push(od.fromBoundElementProperty(c,a))}}),{bound:r,literal:i}}parseAttribute(e,n,s,r,i,o,a){let c=MC(n.name),l=n.value,u=n.sourceSpan,d=n.valueSpan?n.valueSpan.start.offset:u.start.offset;function h(b,x,C){let D=n.name.length-c.length,S=b.start.moveBy(x.length+D),I=S.moveBy(C.length);return new X(S,I,S,C)}let f=c.match(U8);if(f){if(f[SC]!=null){let b=f[za],x=h(u,f[SC],b);this.bindingParser.parsePropertyBinding(b,l,!1,!1,u,d,n.valueSpan,s,r,x)}else if(f[DC])if(e){let b=f[za],x=h(u,f[DC],b);this.parseVariable(b,l,u,x,n.valueSpan,o)}else this.reportError('"let-" is only supported on ng-template elements.',u);else if(f[_C]){let b=f[za],x=h(u,f[_C],b);this.parseReference(b,l,u,x,n.valueSpan,a)}else if(f[IC]){let b=[],x=f[za],C=h(u,f[IC],x);this.bindingParser.parseEvent(x,l,!1,u,n.valueSpan||u,s,b,C),xg(b,i)}else if(f[TC]){let b=f[za],x=h(u,f[TC],b);this.bindingParser.parsePropertyBinding(b,l,!1,!0,u,d,n.valueSpan,s,r,x),this.parseAssignmentEvent(b,l,u,n.valueSpan,s,i,x)}else if(f[z8]){let b=h(u,"",c);this.bindingParser.parseLiteralAttr(c,l,u,d,n.valueSpan,s,r,b)}return!0}let g=null;if(c.startsWith(Xs.BANANA_BOX.start)?g=Xs.BANANA_BOX:c.startsWith(Xs.PROPERTY.start)?g=Xs.PROPERTY:c.startsWith(Xs.EVENT.start)&&(g=Xs.EVENT),g!==null&&c.endsWith(g.end)&&c.length>g.start.length+g.end.length){let b=c.substring(g.start.length,c.length-g.end.length),x=h(u,g.start,b);if(g.start===Xs.BANANA_BOX.start)this.bindingParser.parsePropertyBinding(b,l,!1,!0,u,d,n.valueSpan,s,r,x),this.parseAssignmentEvent(b,l,u,n.valueSpan,s,i,x);else if(g.start===Xs.PROPERTY.start)this.bindingParser.parsePropertyBinding(b,l,!1,!1,u,d,n.valueSpan,s,r,x);else{let C=[];this.bindingParser.parseEvent(b,l,!1,u,n.valueSpan||u,s,C,x),xg(C,i)}return!0}let y=h(u,"",c);return this.bindingParser.parsePropertyInterpolation(c,l,u,n.valueSpan,s,r,y,n.valueTokens??null)}_visitTextWithInterpolation(e,n,s,r){let i=ED(e),o=this.bindingParser.parseInterpolation(i,n,s);return o?new ui(o,n,r):new fs(i,n)}parseVariable(e,n,s,r,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in variable names',s):e.length===0&&this.reportError("Variable does not have a name",s),o.push(new ys(e,n,s,r,i))}parseReference(e,n,s,r,i,o){e.indexOf("-")>-1?this.reportError('"-" is not allowed in reference names',s):e.length===0?this.reportError("Reference does not have a name",s):o.some(a=>a.name===e)&&this.reportError(`Reference "#${e}" is defined more than once`,s),o.push(new hc(e,n,s,r,i))}parseAssignmentEvent(e,n,s,r,i,o,a){let c=[];this.bindingParser.parseEvent(`${e}Change`,n,!0,s,r||s,i,c,a),xg(c,o)}reportError(e,n,s=tr.ERROR){this.errors.push(new W(n,e,s))}},Km=class{visitElement(e){let n=CD(e);if(n.type===Ut.SCRIPT||n.type===Ut.STYLE||n.type===Ut.STYLESHEET)return null;let s=Re(this,e.children,null);return new _t(e.name,Re(this,e.attrs),[],[],s,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new Po(e.name,e.value,e.sourceSpan,e.keySpan,e.valueSpan,e.i18n)}visitText(e){return new fs(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}visitBlock(e,n){let s=[new fs(e.startSourceSpan.toString(),e.startSourceSpan),...Re(this,e.children)];return e.endSourceSpan!==null&&s.push(new fs(e.endSourceSpan.toString(),e.endSourceSpan)),s}visitBlockParameter(e,n){return null}},q8=new Km;function MC(t){return/^data-/i.test(t)?t.substring(5):t}function xg(t,e){e.push(...t.map(n=>ad.fromParsedEvent(n)))}function G8(t){return t instanceof fr&&t.value.trim().length==0}function Y8(t){return t instanceof Ac}function X8(t){return t.children.length!==1||!(t.children[0]instanceof fr)?null:t.children[0].value}var Ln=function(t){return t[t.ELEMENT=0]="ELEMENT",t[t.TEMPLATE=1]="TEMPLATE",t}(Ln||{});function Q8(){return{getUniqueId:aP(),icus:new Map}}var Jm=class t{constructor(e,n,s=0,r=null,i,o){this.index=e,this.ref=n,this.level=s,this.templateIndex=r,this.meta=i,this.registry=o,this.bindings=new Set,this.placeholders=new Map,this.isEmitted=!1,this._unresolvedCtxCount=0,this._registry=o||Q8(),this.id=this._registry.getUniqueId()}appendTag(e,n,s,r){if(n.isVoid&&r)return;let i=n.isVoid||!r?n.startName:n.closeName,o={type:e,index:s,ctx:this.id,isVoid:n.isVoid,closed:r};Ga(this.placeholders,i,o)}appendBlockPart(e,n,s){let r=s?e.closeName:e.startName,i={type:Ln.TEMPLATE,index:n,ctx:this.id,closed:s};Ga(this.placeholders,r,i)}get icus(){return this._registry.icus}get isRoot(){return this.level===0}get isResolved(){return this._unresolvedCtxCount===0}getSerializedPlaceholders(){let e=new Map;return this.placeholders.forEach((n,s)=>e.set(s,n.map(Z8))),e}appendBinding(e){this.bindings.add(e)}appendIcu(e,n){Ga(this._registry.icus,e,n)}appendBoundText(e){cS(e,this.bindings.size,this.id).forEach((s,r)=>Ga(this.placeholders,r,...s))}appendTemplate(e,n){this.appendTag(Ln.TEMPLATE,e,n,!1),this.appendTag(Ln.TEMPLATE,e,n,!0),this._unresolvedCtxCount++}appendBlock(e,n){this.appendBlockPart(e,n,!1),this.appendBlockPart(e,n,!0),this._unresolvedCtxCount++}appendElement(e,n,s){this.appendTag(Ln.ELEMENT,e,n,s)}appendProjection(e,n){this.appendTag(Ln.ELEMENT,e,n,!1),this.appendTag(Ln.ELEMENT,e,n,!0)}forkChildContext(e,n,s){return new t(e,this.ref,this.level+1,n,s,this._registry)}reconcileChildContext(e){["start","close"].forEach(s=>{let r=e.meta[`${s}Name`],o=(this.placeholders.get(r)||[]).find(kC(this.id,e.templateIndex));o&&(o.ctx=e.id)}),e.placeholders.forEach((s,r)=>{let i=this.placeholders.get(r);if(!i){this.placeholders.set(r,s);return}let o=i.findIndex(kC(e.id,e.templateIndex));if(o>=0){let a=r.startsWith("CLOSE");if(r.endsWith("NG-TEMPLATE"))i.splice(o+(a?0:1),0,...s);else{let l=a?s.length-1:0;s[l].tmpl=i[o],i.splice(o,1,...s)}}else i.push(...s);this.placeholders.set(r,i)}),this._unresolvedCtxCount--}};function Cg(t,e,n,s){return rh(`${s?"/":""}${t}${e}`,n)}function NC(t,{index:e,ctx:n,isVoid:s},r){return s?Cg(t,e,n)+Cg(t,e,n,!0):Cg(t,e,n,r)}function kC(t,e){return n=>typeof n=="object"&&n.type===Ln.TEMPLATE&&n.index===e&&n.ctx===t}function Z8(t){let e=(s,r)=>NC("#",s,r),n=(s,r)=>NC("*",s,r);switch(t.type){case Ln.ELEMENT:return t.closed?e(t,!0)+(t.tmpl?n(t.tmpl,!0):""):t.tmpl?n(t.tmpl)+e(t)+(t.isVoid?n(t.tmpl,!0):""):e(t);case Ln.TEMPLATE:return n(t,t.closed);default:return t}}var K8="!important",Qd=2,Zd=class{constructor(e){this._directiveExpr=e,this._hasInitialValues=!1,this.hasBindings=!1,this.hasBindingsWithPipes=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._firstStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues=[],this._initialClassValues=[]}registerBoundInput(e){let n=null,s=e.name;switch(e.type){case 0:n=this.registerInputBasedOnName(s,e.value,e.sourceSpan);break;case 3:n=this.registerStyleInput(s,!1,e.value,e.sourceSpan,e.unit);break;case 2:n=this.registerClassInput(s,!1,e.value,e.sourceSpan);break}return!!n}registerInputBasedOnName(e,n,s){let r=null,i=e.substring(0,6),o=e==="style"||i==="style."||i==="style!";if(o||!o&&(e==="class"||i==="class."||i==="class!")){let c=e.charAt(5)!==".",l=e.slice(c?5:6);o?r=this.registerStyleInput(l,c,n,s):r=this.registerClassInput(l,c,n,s)}return r}registerStyleInput(e,n,s,r,i){if(OC(s))return null;n$(e)||(e=Pv(e));let{property:o,hasOverrideFlag:a,suffix:c}=RC(e);i=typeof i=="string"&&i.length!==0?i:c;let l={name:o,suffix:i,value:s,sourceSpan:r,hasOverrideFlag:a};return n?this._styleMapInput=l:((this._singleStyleInputs=this._singleStyleInputs||[]).push(l),PC(this._stylesIndex,o)),this._lastStylingInput=l,this._firstStylingInput=this._firstStylingInput||l,this._checkForPipes(s),this.hasBindings=!0,l}registerClassInput(e,n,s,r){if(OC(s))return null;let{property:i,hasOverrideFlag:o}=RC(e),a={name:i,value:s,sourceSpan:r,hasOverrideFlag:o,suffix:null};return n?this._classMapInput=a:((this._singleClassInputs=this._singleClassInputs||[]).push(a),PC(this._classesIndex,i)),this._lastStylingInput=a,this._firstStylingInput=this._firstStylingInput||a,this._checkForPipes(s),this.hasBindings=!0,a}_checkForPipes(e){e instanceof kt&&e.ast instanceof vi&&(this.hasBindingsWithPipes=!0)}registerStyleAttr(e){this._initialStyleValues=nD(e),this._hasInitialValues=!0}registerClassAttr(e){this._initialClassValues=e.trim().split(/\s+/g),this._hasInitialValues=!0}populateInitialStylingAttrs(e){if(this._initialClassValues.length){e.push(w(1));for(let n=0;n<this._initialClassValues.length;n++)e.push(w(this._initialClassValues[n]))}if(this._initialStyleValues.length){e.push(w(2));for(let n=0;n<this._initialStyleValues.length;n+=2)e.push(w(this._initialStyleValues[n]),w(this._initialStyleValues[n+1]))}}assignHostAttrs(e,n){this._directiveExpr&&(e.length||this._hasInitialValues)&&(this.populateInitialStylingAttrs(e),n.set("hostAttrs",z(e)))}buildClassMapInstruction(e){return this._classMapInput?this._buildMapBasedInstruction(e,!0,this._classMapInput):null}buildStyleMapInstruction(e){return this._styleMapInput?this._buildMapBasedInstruction(e,!1,this._styleMapInput):null}_buildMapBasedInstruction(e,n,s){let r=Qd,i=s.value.visit(e),o;return i instanceof ze?(r+=i.expressions.length,o=n?J8(i):e$(i)):o=n?p.classMap:p.styleMap,{reference:o,calls:[{supportsInterpolation:!0,sourceSpan:s.sourceSpan,allocateBindingSlots:r,params:a=>{let c=a(i);return Array.isArray(c)?c:[c]}}]}}_buildSingleInputs(e,n,s,r,i){let o=[];return n.forEach(a=>{let c=o[o.length-1],l=a.value.visit(s),u=e,d=Qd;l instanceof ze&&(d+=l.expressions.length,r&&(u=r(l)));let h={sourceSpan:a.sourceSpan,allocateBindingSlots:d,supportsInterpolation:!!r,params:f=>{let g=[];g.push(w(a.name));let y=f(l);return Array.isArray(y)?g.push(...y):g.push(y),!i&&a.suffix!==null&&g.push(w(a.suffix)),g}};c&&c.reference===u?c.calls.push(h):o.push({reference:u,calls:[h]})}),o}_buildClassInputs(e){return this._singleClassInputs?this._buildSingleInputs(p.classProp,this._singleClassInputs,e,null,!0):[]}_buildStyleInputs(e){return this._singleStyleInputs?this._buildSingleInputs(p.styleProp,this._singleStyleInputs,e,t$,!1):[]}buildUpdateLevelInstructions(e){let n=[];if(this.hasBindings){let s=this.buildStyleMapInstruction(e);s&&n.push(s);let r=this.buildClassMapInstruction(e);r&&n.push(r),n.push(...this._buildStyleInputs(e)),n.push(...this._buildClassInputs(e))}return n}};function PC(t,e){t.has(e)||t.set(e,t.size)}function RC(t){let e=!1,n=t.indexOf(K8);n!==-1&&(t=n>0?t.substring(0,n):"",e=!0);let s=null,r=t,i=t.lastIndexOf(".");return i>0&&(s=t.slice(i+1),r=t.substring(0,i)),{property:r,suffix:s,hasOverrideFlag:e}}function J8(t){switch(_i(t)){case 1:return p.classMap;case 3:return p.classMapInterpolate1;case 5:return p.classMapInterpolate2;case 7:return p.classMapInterpolate3;case 9:return p.classMapInterpolate4;case 11:return p.classMapInterpolate5;case 13:return p.classMapInterpolate6;case 15:return p.classMapInterpolate7;case 17:return p.classMapInterpolate8;default:return p.classMapInterpolateV}}function e$(t){switch(_i(t)){case 1:return p.styleMap;case 3:return p.styleMapInterpolate1;case 5:return p.styleMapInterpolate2;case 7:return p.styleMapInterpolate3;case 9:return p.styleMapInterpolate4;case 11:return p.styleMapInterpolate5;case 13:return p.styleMapInterpolate6;case 15:return p.styleMapInterpolate7;case 17:return p.styleMapInterpolate8;default:return p.styleMapInterpolateV}}function t$(t){switch(_i(t)){case 1:return p.styleProp;case 3:return p.stylePropInterpolate1;case 5:return p.stylePropInterpolate2;case 7:return p.stylePropInterpolate3;case 9:return p.stylePropInterpolate4;case 11:return p.stylePropInterpolate5;case 13:return p.stylePropInterpolate6;case 15:return p.stylePropInterpolate7;case 17:return p.stylePropInterpolate8;default:return p.stylePropInterpolateV}}function n$(t){return t.startsWith("--")}function OC(t){return t instanceof kt&&(t=t.ast),t instanceof ht}var s$="select",r$="ngProjectAs",ev=new Set(["$event"]),$u="ng-template",Sg=new Map([["window",p.resolveWindow],["document",p.resolveDocument],["body",p.resolveBody]]),i$=[" ",`
`,"\r","	"];function gr(t,e){return Lc(L($c).bitwiseAnd(w(t),null,!1),e)}function ID(t,e=null,n=null){let{type:s,name:r,target:i,phase:o,handler:a}=t;if(i&&!Sg.has(i))throw new Error(`Unexpected global target '${i}' defined for '${r}' event.
        Supported list of global targets: ${Array.from(Sg.keys())}.`);let c="$event",l=new Set,u=n===null||n.bindingLevel===0?L(bt):n.getOrCreateSharedContextVar(0),d=t.type===2?qP(n,u,a,"b",t.handlerSpan,l,ev):WP(n,u,a,"b",t.handlerSpan,l,ev),h=[],f=n?.variableDeclarations(),g=n?.restoreViewStatement();if(f&&h.push(...f),h.push(...d),g){h.unshift(g);let D=h[h.length-1];D instanceof qe?h[h.length-1]=new qe(hi(D.value.sourceSpan,p.resetView,[D.value])):h.push(new nt(hi(null,p.resetView,[])))}let y=s===1?Vk(r,o):r,v=e&&Un(e),b=[];l.has(c)&&b.push(new Ee(c,_s));let x=Gn(b,h,xt,null,v),C=[w(y),x];return i&&C.push(w(!1),P(Sg.get(i))),C}function o$(){return{prepareStatements:[],constExpressions:[],i18nVarRefsCache:new Map}}var tv=class{constructor(e,n,s,r){this.name=e,this.index=n,this.scope=s,this.visitor=r}getConstCount(){return this.visitor.getConstCount()}getVarCount(){return this.visitor.getVarCount()}},nv=class t{constructor(e,n,s=0,r,i,o,a,c,l,u,d,h,f,g=o$()){this.constantPool=e,this.level=s,this.contextName=r,this.i18nContext=i,this.templateIndex=o,this.templateName=a,this._namespace=c,this.i18nUseExternalIds=u,this.deferBlocks=d,this.elementLocations=h,this.allDeferrableDepsFn=f,this._constants=g,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._currentIndex=0,this._tempVariables=[],this._controlFlowTempVariable=null,this._nestedTemplateFns=[],this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this._ngContentReservedSlots=[],this._ngContentSelectorsOffset=0,this._implicitReceiverExpr=null,this.visitReference=Ht,this.visitVariable=Ht,this.visitTextAttribute=Ht,this.visitBoundAttribute=Ht,this.visitBoundEvent=Ht,this.visitDeferredTrigger=Ht,this.visitDeferredBlockError=Ht,this.visitDeferredBlockLoading=Ht,this.visitDeferredBlockPlaceholder=Ht,this.visitIfBlockBranch=Ht,this.visitSwitchBlockCase=Ht,this.visitForLoopBlockEmpty=Ht,this.visitUnknownBlock=Ht,this._bindingScope=n.nestedScope(s),this.fileBasedI18nSuffix=l.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new Kd(e,()=>this.allocateDataSlot(),y=>this.allocatePureFunctionSlots(y),(y,v,b,x)=>{this._bindingScope.set(this.level,v,x),this.creationInstruction(null,p.pipe,[w(b),w(y)])})}buildTemplateFunction(e,n,s=0,r,i){this._ngContentSelectorsOffset=s,this._namespace!==p.namespaceHTML&&this.creationInstruction(null,this._namespace),n.forEach(g=>{let y=i?.[g.name];this.registerContextVariables(g.name,g.value),y&&this.registerContextVariables(y,g.value)});let o=this.i18nContext||gc(r)&&!qa(r)&&!(m$(e)&&e[0].i18n===r),a=Dg(e);if(o&&this.i18nStart(null,r,a),Qa(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(g=>g()),this.level===0&&this._ngContentReservedSlots.length){let g=[];if(this._ngContentReservedSlots.length>1||this._ngContentReservedSlots[0]!=="*"){let y=this._ngContentReservedSlots.map(v=>v!=="*"?Rc(v):v);g.push(this.constantPool.getConstLiteral(bn(y),!0))}this.creationInstruction(null,p.projectionDef,g,!0)}o&&this.i18nEnd(null,a);let c=vd(this._creationCodeFns),l=vd(this._updateCodeFns),u=this._bindingScope.viewSnapshotStatements(),d=this._bindingScope.variableDeclarations().concat(this._tempVariables),h=c.length>0?[gr(1,u.concat(c))]:[],f=l.length>0?[gr(2,d.concat(l))]:[];return Gn([new Ee($c,Oc),new Ee(bt,null)],[...this._prefixCode,...h,...f],xt,null,this.templateName)}getLocal(e){return this._bindingScope.get(e)}notifyImplicitReceiverUse(){this._bindingScope.notifyImplicitReceiverUse()}maybeRestoreView(){this._bindingScope.maybeRestoreView()}i18nTranslate(e,n={},s,r){let i=s||this.i18nGenerateMainBlockVar(),o=this.i18nGenerateClosureVar(e.id),a=w$(e,i,o,n,r);return this._constants.prepareStatements.push(...a),i}registerContextVariables(e,n){let s=this._bindingScope.freshReferenceName(),r=this.level,i=n===Xg,o=L(e+s);this._bindingScope.set(r,e,a=>i&&a.bindingLevel===r&&!a.isListenerScope()?L(bt):o,1,(a,c)=>{let l;if(a.bindingLevel===r)if(a.isListenerScope()&&a.hasRestoreViewVariable())l=L(uS),a.notifyRestoredViewContextUse();else{if(i)return[];l=L(bt)}else{let u=a.getSharedContextName(r);l=u||sv(c)}return[o.set(i?l:l.prop(n||uP)).toConstDecl()]})}i18nAppendBindings(e){e.length>0&&e.forEach(n=>this.i18n.appendBinding(n))}i18nBindProps(e){let n={};return Object.keys(e).forEach(s=>{let r=e[s];if(r instanceof fs)n[s]=w(r.value);else{let i=r.value.visit(this._valueConverter);if(this.allocateBindingSlots(i),i instanceof ze){let{strings:o,expressions:a}=i,{id:c,bindings:l}=this.i18n,u=oP(o,l.size,c);this.i18nAppendBindings(a),n[s]=w(u)}}}),n}i18nGenerateMainBlockVar(){return L(this.constantPool.uniqueName(tP))}i18nGenerateClosureVar(e){let n,s=this.fileBasedI18nSuffix.toUpperCase();if(this.i18nUseExternalIds){let r=md("EXTERNAL_"),i=this.constantPool.uniqueName(s);n=`${r}${Un(e)}$$${i}`}else{let r=md(s);n=this.constantPool.uniqueName(r)}return L(n)}i18nUpdateRef(e){let{icus:n,meta:s,isRoot:r,isResolved:i,isEmitted:o}=e;if(r&&i&&!o&&!qa(s)){e.isEmitted=!0;let a=e.getSerializedPlaceholders(),c={},l=a.size?i0(a):{};n.size&&n.forEach((h,f)=>{if(h.length===1)l[f]=h[0];else{let g=rh(`${sP}${f}`);l[f]=w(g),c[f]=z(h)}});let u=Array.from(a.values()).some(h=>h.length>1)||Object.keys(c).length,d;u&&(d=h=>{let f=[h];return Object.keys(c).length&&f.push(Ic(c,!0)),hi(null,p.i18nPostprocess,f)}),this.i18nTranslate(s,l,e.ref,d)}}i18nStart(e=null,n,s){let r=this.allocateDataSlot();this.i18n=this.i18nContext?this.i18nContext.forkChildContext(r,this.templateIndex,n):new Jm(r,this.i18nGenerateMainBlockVar(),0,this.templateIndex,n);let{id:i,ref:o}=this.i18n,a=[w(r),this.addToConsts(o)];i>0&&a.push(w(i)),this.creationInstruction(e,s?p.i18n:p.i18nStart,a)}i18nEnd(e=null,n){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);let{index:s,bindings:r}=this.i18n;if(r.size){for(let i of r)this.updateInstructionWithAdvance(this.getConstCount()-1,e,p.i18nExp,()=>this.convertPropertyBinding(i));this.updateInstruction(e,p.i18nApply,[w(s)])}n||this.creationInstruction(e,p.i18nEnd),this.i18n=null}i18nAttributesInstruction(e,n,s){let r=!1,i=[];if(n.forEach(o=>{let a=o.i18n,c=o.value.visit(this._valueConverter);if(this.allocateBindingSlots(c),c instanceof ze){let l=cS(a),u=i0(l);i.push(w(o.name),this.i18nTranslate(a,u)),c.expressions.forEach(d=>{r=!0,this.updateInstructionWithAdvance(e,s,p.i18nExp,()=>this.convertPropertyBinding(d))})}}),i.length>0){let o=w(this.allocateDataSlot()),a=this.addToConsts(z(i));this.creationInstruction(s,p.i18nAttributes,[o,a]),r&&this.updateInstruction(s,p.i18nApply,[o])}}getNamespaceInstruction(e){switch(e){case"math":return p.namespaceMathML;case"svg":return p.namespaceSVG;default:return p.namespaceHTML}}addNamespaceInstruction(e,n){this._namespace=e,this.creationInstruction(n.startSourceSpan,e)}interpolatedUpdateInstruction(e,n,s,r,i,o){this.updateInstructionWithAdvance(n,r.sourceSpan,e,()=>[w(s),...this.getUpdateInstructionArguments(i),...o])}visitContent(e){let n=this.allocateDataSlot(),s=this._ngContentSelectorsOffset+this._ngContentReservedSlots.length,r=[w(n)];this._ngContentReservedSlots.push(e.selector);let i=e.attributes.filter(a=>a.name.toLowerCase()!==s$),o=this.getAttributeExpressions(e.name,i,[],[]);o.length>0?r.push(w(s),z(o)):s!==0&&r.push(w(s)),this.creationInstruction(e.sourceSpan,p.projection,r),this.i18n&&this.i18n.appendProjection(e.i18n,n)}visitElement(e){let n=this.allocateDataSlot(),s=new Zd(null);this.elementLocations.set(e,{index:n,level:this.level});let r=!1,i=gc(e.i18n)&&!qa(e.i18n),o=[],[a,c]=Ct(e.name),l=Bg(e.name);for(let A of e.attributes){let{name:$,value:N}=A;$===dP?r=!0:$==="style"?s.registerStyleAttr(N):$==="class"?s.registerClassAttr(N):o.push(A)}let u=[w(n)];l||u.push(w(c));let d=[],h=[];e.inputs.forEach(A=>{s.registerBoundInput(A)||((A.type===0||A.type===5)&&A.i18n?h.push(A):d.push(A))});let f=this.getAttributeExpressions(e.name,o,d,e.outputs,s,[],h);u.push(this.addAttrsToConsts(f));let g=this.prepareRefsArray(e.references);u.push(this.addToConsts(g));let y=this._namespace,v=this.getNamespaceInstruction(a);v!==y&&this.addNamespaceInstruction(v,e),this.i18n&&this.i18n.appendElement(e.i18n,n);let b=!i&&this.i18n?!Dg(e.children):e.children.length>0,x=!s.hasBindingsWithPipes&&e.outputs.length===0&&h.length===0&&!b,C=!x&&Dg(e.children);if(x)this.creationInstruction(e.sourceSpan,l?p.elementContainer:p.element,co(u));else{if(this.creationInstruction(e.startSourceSpan,l?p.elementContainerStart:p.elementStart,co(u)),r&&this.creationInstruction(e.startSourceSpan,p.disableBindings),h.length>0&&this.i18nAttributesInstruction(n,h,e.startSourceSpan??e.sourceSpan),e.outputs.length>0)for(let A of e.outputs)this.creationInstruction(A.sourceSpan,A.type===2?p.twoWayListener:p.listener,this.prepareListenerParameter(e.name,A,n));i&&this.i18nStart(e.startSourceSpan,e.i18n,C)}let D=s.buildUpdateLevelInstructions(this._valueConverter),S=D.length-1;for(let A=0;A<=S;A++){let $=D[A];this._bindingSlots+=this.processStylingUpdateInstruction(n,$)}let I=w(void 0),k=[],M=[];d.forEach(A=>{let $=A.type;if($===4){let N=A.value.visit(this._valueConverter),B=N instanceof ft?!!N.value:!0;this.allocateBindingSlots(N),k.push({span:A.sourceSpan,reference:p.property,paramsOrFn:ju(()=>B?this.convertPropertyBinding(N):I,rS(A.name))})}else{if(A.i18n)return;let N=A.value.visit(this._valueConverter);if(N!==void 0){let B=[],[Ce,ke]=Ct(A.name),oe=$===1,de=AD(A.securityContext,oe);if(de||y$(e.name)&&_v(A.name)&&(de=P(p.validateIframeAttribute)),de&&B.push(de),Ce){let he=w(Ce);de?B.push(he):B.push(w(null),he)}if(this.allocateBindingSlots(N),$===0||$===5)N instanceof ze?this.interpolatedUpdateInstruction(BC(N),n,ke,A,N,B):k.push({span:A.sourceSpan,reference:$===5?p.twoWayProperty:p.property,paramsOrFn:ju(()=>this.convertPropertyBinding(N),ke,B)});else if($===1)if(N instanceof ze&&_i(N)>1)this.interpolatedUpdateInstruction(h$(N),n,ke,A,N,B);else{let he=N instanceof ze?N.expressions[0]:N;M.push({span:A.sourceSpan,paramsOrFn:ju(()=>this.convertPropertyBinding(he),ke,B)})}else this.updateInstructionWithAdvance(n,A.sourceSpan,p.classProp,()=>[w(n),w(ke),this.convertPropertyBinding(N),...B])}}});for(let A of k)this.updateInstructionWithAdvance(n,A.span,A.reference,A.paramsOrFn);for(let A of M)this.updateInstructionWithAdvance(n,A.span,p.attribute,A.paramsOrFn);if(Qa(this,e.children),!i&&this.i18n&&this.i18n.appendElement(e.i18n,n,!0),!x){let A=e.endSourceSpan??e.sourceSpan;i&&this.i18nEnd(A,C),r&&this.creationInstruction(A,p.enableBindings),this.creationInstruction(A,l?p.elementContainerEnd:p.elementEnd)}}prepareEmbeddedTemplateFn(e,n,s=[],r,i){let o=this.allocateDataSlot();this.i18n&&r&&(r instanceof ws?this.i18n.appendBlock(r,o):this.i18n.appendTemplate(r,o));let a=`${this.contextName}${n}_${o}`,c=this.constantPool.uniqueName(`${a}_Template`,!1),l=new t(this.constantPool,this._bindingScope,this.level+1,a,this.i18n,o,c,this._namespace,this.fileBasedI18nSuffix,this.i18nUseExternalIds,this.deferBlocks,this.elementLocations,this.allDeferrableDepsFn,this._constants);return this._nestedTemplateFns.push(()=>{let u=l.buildTemplateFunction(e,s,this._ngContentReservedSlots.length+this._ngContentSelectorsOffset,r,i);this.constantPool.statements.push(u.toDeclStmt(c)),l._ngContentReservedSlots.length&&this._ngContentReservedSlots.push(...l._ngContentReservedSlots)}),new tv(c,o,l._bindingScope,l)}createEmbeddedTemplateFn(e,n,s,r,i=[],o,a,c){let l=this.prepareEmbeddedTemplateFn(n,s,i,c),u=[w(l.index),L(l.name),w(e),this.addAttrsToConsts(o||null)];if(a&&a.length>0){let d=this.prepareRefsArray(a);u.push(this.addToConsts(d)),u.push(P(p.templateRefExtractor))}return this.creationInstruction(r,p.templateCreate,()=>(u.splice(2,0,w(l.getConstCount()),w(l.getVarCount())),co(u))),l.index}visitTemplate(e){let n=e.tagName?Ct(e.tagName)[1]:e.tagName,s=e.tagName?"_"+Un(e.tagName):"",r=this.getAttributeExpressions($u,e.attributes,e.inputs,e.outputs,void 0,e.templateAttrs),i=this.createEmbeddedTemplateFn(n,e.children,s,e.sourceSpan,e.variables,r,e.references,e.i18n);if(this.templatePropertyBindings(i,e.templateAttrs),n===$u){let[o,a]=kk(e.inputs,rP);o.length>0&&this.i18nAttributesInstruction(i,o,e.startSourceSpan??e.sourceSpan),a.length>0&&this.templatePropertyBindings(i,a);for(let c of e.outputs)this.creationInstruction(c.sourceSpan,c.type===2?p.twoWayListener:p.listener,this.prepareListenerParameter("ng_template",c,i))}}visitBoundText(e){if(this.i18n){let r=e.value.visit(this._valueConverter);this.allocateBindingSlots(r),r instanceof ze&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(r.expressions));return}let n=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,p.text,[w(n)]);let s=e.value.visit(this._valueConverter);this.allocateBindingSlots(s),s instanceof ze?this.updateInstructionWithAdvance(n,e.sourceSpan,f$(s),()=>this.getUpdateInstructionArguments(s)):sd("Text nodes should be interpolated and never bound directly.")}visitText(e){this.i18n||this.creationInstruction(e.sourceSpan,p.text,[w(this.allocateDataSlot()),w(e.value)])}visitIcu(e){let n=!1;this.i18n||(n=!0,this.i18nStart(null,e.i18n,!0));let s=this.i18n,r=this.i18nBindProps(e.vars),i=this.i18nBindProps(e.placeholders),o=e.i18n,a=c=>{let l=Object.fromEntries(Object.entries(_(_({},r),i)).sort()),u=Bc(l,!1);return hi(null,p.i18nPostprocess,[c,Ic(u,!0)])};if(qa(s.meta))this.i18nTranslate(o,{},s.ref,a);else{let c=this.i18nTranslate(o,{},void 0,a);s.appendIcu(bv(o).name,c)}return n&&this.i18nEnd(null,!0),null}visitIfBlock(e){this.allocateBindingSlots(null);let n=e.branches.map((i,o)=>{let{expression:a,expressionAlias:c,children:l,sourceSpan:u}=i,d=c!==null?[new ys(c.name,Xg,c.sourceSpan,c.keySpan)]:void 0,h=null,f;if(o===0){let v=this.inferProjectionDataFromInsertionPoint(i);h=v.tagName,f=v.attrsExprs}let g=this.createEmbeddedTemplateFn(h,l,"_Conditional",u,d,f,void 0,i.i18n),y=a===null?null:a.visit(this._valueConverter);return{index:g,expression:y,alias:c}}),s=n[0].index,r=()=>{let i=null,o=c=>{if(c>n.length-1)return w(-1);let{index:l,expression:u,alias:d}=n[c];if(u===null)return w(l);let h;return d?(i=this.allocateControlFlowTempVariable(),h=i.set(this.convertPropertyBinding(u))):h=this.convertPropertyBinding(u),h.conditional(w(l),o(c+1))},a=[w(s),o(0)];return i!==null&&a.push(i),a};this.updateInstructionWithAdvance(s,e.branches[0].sourceSpan,p.conditional,r)}visitSwitchBlock(e){if(e.cases.length===0)return;let n=e.cases.map(i=>{let o=this.createEmbeddedTemplateFn(null,i.children,"_Case",i.sourceSpan,void 0,void 0,void 0,i.i18n),a=i.expression===null?null:i.expression.visit(this._valueConverter);return{index:o,expression:a}}),s=n[0].index,r=e.expression.visit(this._valueConverter);this.allocateBindingSlots(null),this.updateInstructionWithAdvance(s,e.sourceSpan,p.conditional,()=>{let i=o=>{if(o>n.length-1)return w(-1);let{index:a,expression:c}=n[o];return c===null?w(a):(o===0?this.allocateControlFlowTempVariable().set(this.convertPropertyBinding(r)):this.allocateControlFlowTempVariable()).identical(this.convertPropertyBinding(c)).conditional(w(a),i(o+1))};return[w(s),i(0)]})}visitDeferredBlock(e){let{loading:n,placeholder:s,error:r,triggers:i,prefetchTriggers:o}=e,a=this.deferBlocks.get(e);if(!a)throw new Error("Could not resolve `defer` block metadata. Block may need to be analyzed.");let c=this.createEmbeddedTemplateFn(null,e.children,"_Defer",e.sourceSpan,void 0,void 0,void 0,e.i18n),l=n?this.createEmbeddedTemplateFn(null,n.children,"_DeferLoading",n.sourceSpan,void 0,void 0,void 0,n.i18n):null,u=n?co([w(n.minimumTime),w(n.afterTime)]):null,d=s?this.createEmbeddedTemplateFn(null,s.children,"_DeferPlaceholder",s.sourceSpan,void 0,void 0,void 0,s.i18n):null,h=s&&s.minimumTime!==null?z([w(s.minimumTime)]):null,f=r?this.createEmbeddedTemplateFn(null,r.children,"_DeferError",r.sourceSpan,void 0,void 0,void 0,r.i18n):null,g=this.allocateDataSlot(),y=`${this.contextName}_Defer_${g}_DepsFn`;this.creationInstruction(e.sourceSpan,p.defer,co([w(g),w(c),this.allDeferrableDepsFn??this.createDeferredDepsFunction(y,a),w(l),w(d),w(f),u?.length?this.addToConsts(z(u)):Qs,h?this.addToConsts(h):Qs,u?.length||h?P(p.deferEnableTimerScheduling):Qs])),this.allocateDataSlot(),this.createDeferTriggerInstructions(g,i,a,!1),this.createDeferTriggerInstructions(g,o,a,!0)}createDeferredDepsFunction(e,n){if(n.deps.length===0)return Qs;let s=[];for(let i of n.deps)if(i.isDeferrable){let o=et([new Ee("m",_s)],L("m").prop(i.isDefaultImport?"default":i.symbolName)),a=new ic(i.importPath).prop("then").callFn([o]);s.push(a)}else s.push(i.type);let r=et([],z(s));return this.constantPool.statements.push(r.toDeclStmt(e,it.Final)),L(e)}createDeferTriggerInstructions(e,n,s,r){let{when:i,idle:o,immediate:a,timer:c,hover:l,interaction:u,viewport:d}=n;if(i){let h=i.value.visit(this._valueConverter);this.allocateBindingSlots(h),this.updateInstructionWithAdvance(e,i.sourceSpan,r?p.deferPrefetchWhen:p.deferWhen,()=>this.convertPropertyBinding(h))}(o||!r&&Object.keys(n).length===0)&&this.creationInstruction(o?.sourceSpan||null,r?p.deferPrefetchOnIdle:p.deferOnIdle),a&&this.creationInstruction(a.sourceSpan,r?p.deferPrefetchOnImmediate:p.deferOnImmediate),c&&this.creationInstruction(c.sourceSpan,r?p.deferPrefetchOnTimer:p.deferOnTimer,[w(c.delay)]),l&&this.domNodeBasedTrigger("hover",l,s,r?p.deferPrefetchOnHover:p.deferOnHover),u&&this.domNodeBasedTrigger("interaction",u,s,r?p.deferPrefetchOnInteraction:p.deferOnInteraction),d&&this.domNodeBasedTrigger("viewport",d,s,r?p.deferPrefetchOnViewport:p.deferOnViewport)}domNodeBasedTrigger(e,n,s,r){let i=s.triggerElements.get(n);i&&this.creationInstruction(n.sourceSpan,r,()=>{let o=this.elementLocations.get(i);if(!o)throw new Error(`Could not determine location of reference passed into '${e}' trigger. Template may not have been fully analyzed.`);let a=Math.max(this.level-o.level,-1),c=[w(o.index)];return a!==0&&c.push(w(a)),c})}inferProjectionDataFromInsertionPoint(e){let n=null,s=null,r;for(let i of e.children)if(!(i instanceof ko)){if(n!==null){n=null;break}(i instanceof _t||i instanceof Rt&&i.tagName!==null)&&(n=i)}if(n!==null){let i=n instanceof _t?n.name:n.tagName;s=i===$u?null:i,r=this.getAttributeExpressions($u,n.attributes,n.inputs,[])}return{tagName:s,attrsExprs:r}}allocateDataSlot(){return this._dataIndex++}visitForLoopBlock(e){let n=this.allocateDataSlot(),{tagName:s,attrsExprs:r}=this.inferProjectionDataFromInsertionPoint(e),i=this.prepareEmbeddedTemplateFn(e.children,"_For",[e.item,e.contextVariables.$index,e.contextVariables.$count],e.i18n,{[e.contextVariables.$index.name]:this.getLevelSpecificVariableName("$index",this.level+1),[e.contextVariables.$count.name]:this.getLevelSpecificVariableName("$count",this.level+1)}),{expression:o,usesComponentInstance:a}=this.createTrackByFunction(e),c=null,l=null,u;if(e.empty!==null){let h=this.inferProjectionDataFromInsertionPoint(e.empty);l=h.tagName,u=h.attrsExprs,c=this.prepareEmbeddedTemplateFn(e.empty.children,"_ForEmpty",void 0,e.empty.i18n),this.allocateBindingSlots(null)}this.registerComputedLoopVariables(e,i.scope),this.creationInstruction(e.sourceSpan,p.repeaterCreate,()=>{let h=[w(n),L(i.name),w(i.getConstCount()),w(i.getVarCount()),w(s),this.addAttrsToConsts(r||null),o];return c!==null?h.push(w(a),L(c.name),w(c.getConstCount()),w(c.getVarCount()),w(l),this.addAttrsToConsts(u||null)):a&&h.push(w(a)),co(h)});let d=e.expression.visit(this._valueConverter);this.updateInstructionWithAdvance(n,e.sourceSpan,p.repeater,()=>[this.convertPropertyBinding(d)])}registerComputedLoopVariables(e,n){let s=n.bindingLevel;n.set(s,e.contextVariables.$odd.name,(r,i)=>this.getLevelSpecificForLoopVariable(e,r,i,"$index").modulo(w(2)).notIdentical(w(0))),n.set(s,e.contextVariables.$even.name,(r,i)=>this.getLevelSpecificForLoopVariable(e,r,i,"$index").modulo(w(2)).identical(w(0))),n.set(s,e.contextVariables.$first.name,(r,i)=>this.getLevelSpecificForLoopVariable(e,r,i,"$index").identical(w(0))),n.set(s,e.contextVariables.$last.name,(r,i)=>{let o=this.getLevelSpecificForLoopVariable(e,r,i,"$index"),a=this.getLevelSpecificForLoopVariable(e,r,i,"$count");return o.identical(a.minus(w(1)))})}getLevelSpecificVariableName(e,n){return`\u0275${e}_${n}`}getLevelSpecificForLoopVariable(e,n,s,r){let i=n.bindingLevel===s?e.contextVariables[r].name:this.getLevelSpecificVariableName(r,s);return n.get(i)}optimizeTrackByFunction(e){let n=e.contextVariables.$index.name,s=e.item.name,r=e.trackBy.ast;if(r instanceof Ke&&r.receiver instanceof pt&&r.name===n)return{expression:P(p.repeaterTrackByIndex),usesComponentInstance:!1};if(r instanceof Ke&&r.receiver instanceof pt&&r.name===s)return{expression:P(p.repeaterTrackByIdentity),usesComponentInstance:!1};if(r instanceof Yn&&r.receiver instanceof Ke&&r.receiver.receiver instanceof pt&&r.args.length===2){let i=r.args[0]instanceof Ke&&r.args[0].receiver instanceof pt&&r.args[0].name===n,o=r.args[1]instanceof Ke&&r.args[1].receiver instanceof pt&&r.args[1].name===s;if(i&&o)return{expression:(this.level===0?L(bt):new gs(p.componentInstance).callFn([])).prop(r.receiver.name),usesComponentInstance:!1}}return null}createTrackByFunction(e){let n=this.optimizeTrackByFunction(e);if(n!==null)return n;let s=e.contextVariables,r=new rv(this._bindingScope,{[s.$index.name]:"$index",[e.item.name]:"$item",[s.$count.name]:s.$count.name,[s.$first.name]:s.$first.name,[s.$last.name]:s.$last.name,[s.$even.name]:s.$even.name,[s.$odd.name]:s.$odd.name}),i=[new Ee("$index"),new Ee("$item")],o=YP(e.trackBy.ast,r,L(bt),"track"),a=r.getComponentAccessCount()>0,c;if(!a&&o.length===1&&o[0]instanceof nt)c=et(i,o[0].expr);else{if(o.length>0){let l=o[o.length-1];l instanceof nt&&(o[o.length-1]=new qe(l.expr))}c=Gn(i,o)}return{expression:this.constantPool.getSharedFunctionReference(c,"_forTrack"),usesComponentInstance:a}}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}getConsts(){return this._constants}getNgContentSelectors(){return this._ngContentReservedSlots.length?this.constantPool.getConstLiteral(bn(this._ngContentReservedSlots),!0):null}bindingContext(){return`${this._bindingContext++}`}templatePropertyBindings(e,n){let s=[];for(let r of n){if(!(r instanceof od))continue;let i=r.value.visit(this._valueConverter);if(i!==void 0)if(this.allocateBindingSlots(i),i instanceof ze){let o=[];this.interpolatedUpdateInstruction(BC(i),e,r.name,r,i,o)}else s.push({span:r.sourceSpan,paramsOrFn:ju(()=>this.convertPropertyBinding(i),r.name)})}for(let r of s)this.updateInstructionWithAdvance(e,r.span,p.property,r.paramsOrFn)}instructionFn(e,n,s,r,i=!1){e[i?"unshift":"push"]({span:n,reference:s,paramsOrFn:r})}processStylingUpdateInstruction(e,n){let s=0;if(n)for(let r of n.calls)s+=r.allocateBindingSlots,this.updateInstructionWithAdvance(e,r.sourceSpan,n.reference,()=>r.params(i=>r.supportsInterpolation&&i instanceof ze?this.getUpdateInstructionArguments(i):this.convertPropertyBinding(i)));return s}creationInstruction(e,n,s,r){this.instructionFn(this._creationCodeFns,e,n,s||[],r)}updateInstructionWithAdvance(e,n,s,r){this.addAdvanceInstructionIfNecessary(e,n),this.updateInstruction(n,s,r)}updateInstruction(e,n,s){this.instructionFn(this._updateCodeFns,e,n,s||[])}addAdvanceInstructionIfNecessary(e,n){if(e!==this._currentIndex){let s=e-this._currentIndex;if(s<1)throw new Error("advance instruction can only go forwards");this.instructionFn(this._updateCodeFns,n,p.advance,s>1?[w(s)]:[]),this._currentIndex=e}}allocatePureFunctionSlots(e){let n=this._pureFunctionSlots;return this._pureFunctionSlots+=e,n}allocateBindingSlots(e){this._bindingSlots+=e instanceof ze?e.expressions.length:1}getImplicitReceiverExpr(){return this._implicitReceiverExpr?this._implicitReceiverExpr:this._implicitReceiverExpr=this.level===0?L(bt):this._bindingScope.getOrCreateSharedContextVar(0)}convertPropertyBinding(e){let n=TS(this,this.getImplicitReceiverExpr(),e,this.bindingContext()),s=n.currValExpr;return this._tempVariables.push(...n.stmts),s}getUpdateInstructionArguments(e){let{args:n,stmts:s}=XP(this,this.getImplicitReceiverExpr(),e,this.bindingContext());return this._tempVariables.push(...s),n}allocateControlFlowTempVariable(){if(this._controlFlowTempVariable===null){let e=`${this.contextName}_contFlowTmp`;this._tempVariables.push(new vt(e)),this._controlFlowTempVariable=L(e)}return this._controlFlowTempVariable}getAttributeExpressions(e,n,s,r,i,o=[],a=[]){let c=new Set,l=[],u;for(let h of n)if(h.name===r$&&(u=h),h.i18n){let{i18nVarRefsCache:f}=this._constants,g;f.has(h.i18n)?g=f.get(h.i18n):(g=this.i18nTranslate(h.i18n),f.set(h.i18n,g)),l.push(w(h.name),g)}else l.push(...LC(h.name),g$(e,h));u&&l.push(...d$(u));function d(h,f){typeof h=="string"?c.has(h)||(l.push(...LC(h)),f!==void 0&&l.push(f),c.add(h)):l.push(w(h))}if(i&&i.populateInitialStylingAttrs(l),s.length||r.length){let h=l.length;for(let f=0;f<s.length;f++){let g=s[f];g.type!==4&&g.type!==1&&d(g.name)}for(let f=0;f<r.length;f++){let g=r[f];g.type!==1&&d(g.name)}l.length!==h&&l.splice(h,0,w(3))}return o.length&&(l.push(w(4)),o.forEach(h=>d(h.name))),a.length&&(l.push(w(6)),a.forEach(h=>d(h.name))),l}addToConsts(e){if(eS(e))return Qs;let n=this._constants.constExpressions;for(let s=0;s<n.length;s++)if(n[s].isEquivalent(e))return w(s);return w(n.push(e)-1)}addAttrsToConsts(e){return e!==null&&e.length>0?this.addToConsts(z(e)):Qs}prepareRefsArray(e){if(!e||e.length===0)return Qs;let n=e.flatMap(s=>{let r=this.allocateDataSlot(),i=this._bindingScope.freshReferenceName(),o=this.level,a=L(i);return this._bindingScope.set(o,s.name,a,0,(c,l)=>{let u=l>0?[sv(l).toStmt()]:[],d=a.set(P(p.reference).callFn([w(r)]));return u.concat(d.toConstDecl())},!0),[s.name,s.value]});return bn(n)}prepareListenerParameter(e,n,s){return()=>{let r=n.name,i=n.type===1?iS(r,n.phase):Un(r),o=`${this.templateName}_${e}_${i}_${s}_listener`,a=this._bindingScope.nestedScope(this._bindingScope.bindingLevel,ev);return ID(n,o,a)}}},Kd=class extends sm{constructor(e,n,s,r){super(),this.constantPool=e,this.allocateSlot=n,this.allocatePureFunctionSlots=s,this.definePipe=r,this._pipeBindExprs=[]}visitPipe(e,n){let s=this.allocateSlot(),r=`PIPE:${s}`,i=this.allocatePureFunctionSlots(2+e.args.length),o=new Ke(e.span,e.sourceSpan,e.nameSpan,new pt(e.span,e.sourceSpan),r),{identifier:a,isVarLength:c}=c$(e.args);this.definePipe(e.name,r,s,P(a));let l=[e.exp,...e.args],u=c?this.visitAll([new yi(e.span,e.sourceSpan,l)]):this.visitAll(l),d=new Yn(e.span,e.sourceSpan,o,[new ft(e.span,e.sourceSpan,s),new ft(e.span,e.sourceSpan,i),...u],null);return this._pipeBindExprs.push(d),d}updatePipeSlotOffsets(e){this._pipeBindExprs.forEach(n=>{let s=n.args[1];s.value+=e})}visitLiteralArray(e,n){return new rr(e.span,e.sourceSpan,this.visitAll(e.expressions),s=>{let r=z(s);return FC(this.constantPool,r,this.allocatePureFunctionSlots)})}visitLiteralMap(e,n){return new rr(e.span,e.sourceSpan,this.visitAll(e.values),s=>{let r=st(s.map((i,o)=>({key:e.keys[o].key,value:i,quoted:e.keys[o].quoted})));return FC(this.constantPool,r,this.allocatePureFunctionSlots)})}},a$=[p.pipeBind1,p.pipeBind2,p.pipeBind3,p.pipeBind4];function c$(t){let e=a$[t.length];return{identifier:e||p.pipeBindV,isVarLength:!e}}var l$=[p.pureFunction0,p.pureFunction1,p.pureFunction2,p.pureFunction3,p.pureFunction4,p.pureFunction5,p.pureFunction6,p.pureFunction7,p.pureFunction8];function u$(t){let e=l$[t.length];return{identifier:e||p.pureFunctionV,isVarLength:!e}}function sv(t){return P(p.nextContext).callFn(t>1?[w(t)]:[])}function FC(t,e,n){let{literalFactory:s,literalFactoryArguments:r}=t.getLiteralFactory(e),i=n(1+r.length),{identifier:o,isVarLength:a}=u$(r),c=[w(i),s];return a?c.push(z(r)):c.push(...r),P(o).callFn(c)}function LC(t){let[e,n]=Ct(t),s=w(n);return e?[w(0),w(e),s]:[s]}var fo="$$shared_ctx$$",Jd=class t{static createRootScope(){return new t}constructor(e=0,n=null,s){if(this.bindingLevel=e,this.parent=n,this.globals=s,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null,this.usesRestoredViewContext=!1,s!==void 0)for(let r of s)this.set(0,r,L(r))}get(e){let n=this;for(;n;){let s=n.map.get(e);if(s!=null)return n!==this&&(s={retrievalLevel:s.retrievalLevel,lhs:s.lhs,declareLocalCallback:s.declareLocalCallback,declare:!1,priority:s.priority},this.map.set(e,s),this.maybeGenerateSharedContextVar(s),this.maybeRestoreView()),s.declareLocalCallback&&!s.declare&&(s.declare=!0),typeof s.lhs=="function"?s.lhs(this,s.retrievalLevel):s.lhs;n=n.parent}return this.bindingLevel===0?null:this.getComponentProperty(e)}hasLocal(e){return this.map.has(e)}set(e,n,s,r=0,i,o){if(this.map.has(n)){if(o)return this;sd(`The name ${n} is already defined in scope to be ${this.map.get(n)}`)}return this.map.set(n,{retrievalLevel:e,lhs:s,declare:!1,declareLocalCallback:i,priority:r}),this}getLocal(e){return this.get(e)}notifyImplicitReceiverUse(){this.bindingLevel!==0&&(this.map.get(fo+0).declare=!0)}nestedScope(e,n){let s=new t(e,this,n);return e>0&&s.generateSharedContextVar(0),s}getOrCreateSharedContextVar(e){let n=fo+e;return this.map.has(n)||this.generateSharedContextVar(e),this.map.get(n).lhs}getSharedContextName(e){let n=this.map.get(fo+e);return n&&n.declare?n.lhs:null}maybeGenerateSharedContextVar(e){if(e.priority===1&&e.retrievalLevel<this.bindingLevel){let n=this.map.get(fo+e.retrievalLevel);n?n.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}}generateSharedContextVar(e){let n=L(bt+this.freshReferenceName());this.map.set(fo+e,{retrievalLevel:e,lhs:n,declareLocalCallback:(s,r)=>[n.set(sv(r)).toConstDecl()],declare:!1,priority:2})}getComponentProperty(e){let n=this.map.get(fo+0);n.declare=!0,this.maybeRestoreView();let s=typeof n.lhs=="function"?n.lhs(this,n.retrievalLevel):n.lhs;return e===Xg?s:s.prop(e)}maybeRestoreView(){this.isListenerScope()&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=L(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){if(this.restoreViewVariable){let e=hi(null,p.restoreView,[this.restoreViewVariable]);return this.usesRestoredViewContext?L(uS).set(e).toConstDecl():e.toStmt()}return null}viewSnapshotStatements(){return this.restoreViewVariable?[this.restoreViewVariable.set(hi(null,p.getCurrentView,[])).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let e=0;return Array.from(this.map.values()).filter(n=>n.declare).sort((n,s)=>s.retrievalLevel-n.retrievalLevel||s.priority-n.priority).reduce((n,s)=>{let r=this.bindingLevel-s.retrievalLevel,i=s.declareLocalCallback(this,r-e);return e=r,n.concat(i)},[])}freshReferenceName(){let e=this;for(;e.parent;)e=e.parent;return`${lP}${e.referenceNameIndex++}`}hasRestoreViewVariable(){return!!this.restoreViewVariable}notifyRestoredViewContextUse(){this.usesRestoredViewContext=!0}},rv=class extends Jd{constructor(e,n){super(e.bindingLevel+1,e),this.globalOverrides=n,this.componentAccessCount=0}get(e){if(this.globalOverrides.hasOwnProperty(e))return L(this.globalOverrides[e]);let n=this.parent;for(;n;){if(n.hasLocal(e))return null;n=n.parent}return this.componentAccessCount++,L("this").prop(e)}getComponentAccessCount(){return this.componentAccessCount}};function d$(t){let e=Rc(t.value)[0];return[w(5),bn(e)]}function BC(t){switch(_i(t)){case 1:return p.propertyInterpolate;case 3:return p.propertyInterpolate1;case 5:return p.propertyInterpolate2;case 7:return p.propertyInterpolate3;case 9:return p.propertyInterpolate4;case 11:return p.propertyInterpolate5;case 13:return p.propertyInterpolate6;case 15:return p.propertyInterpolate7;case 17:return p.propertyInterpolate8;default:return p.propertyInterpolateV}}function h$(t){switch(_i(t)){case 3:return p.attributeInterpolate1;case 5:return p.attributeInterpolate2;case 7:return p.attributeInterpolate3;case 9:return p.attributeInterpolate4;case 11:return p.attributeInterpolate5;case 13:return p.attributeInterpolate6;case 15:return p.attributeInterpolate7;case 17:return p.attributeInterpolate8;default:return p.attributeInterpolateV}}function f$(t){switch(_i(t)){case 1:return p.textInterpolate;case 3:return p.textInterpolate1;case 5:return p.textInterpolate2;case 7:return p.textInterpolate3;case 9:return p.textInterpolate4;case 11:return p.textInterpolate5;case 13:return p.textInterpolate6;case 15:return p.textInterpolate7;case 17:return p.textInterpolate8;default:return p.textInterpolateV}}function p$(t,e,n={}){let{interpolationConfig:s,preserveWhitespaces:r,enableI18nLegacyMessageIdFormat:i}=n,o=eh(s),c=new zm().parse(t,e,me(_({leadingTriviaChars:i$},n),{tokenizeExpansionForms:!0,tokenizeBlocks:n.enableBlockSyntax??!0}));if(!n.alwaysAttemptHtmlToR3AstConversion&&c.errors&&c.errors.length>0){let C={interpolationConfig:s,preserveWhitespaces:r,errors:c.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(C.commentNodes=[]),C}let l=c.rootNodes,u=new qd(s,!r,i),d=u.visitAllWithErrors(l);if(!n.alwaysAttemptHtmlToR3AstConversion&&d.errors&&d.errors.length>0){let C={interpolationConfig:s,preserveWhitespaces:r,errors:d.errors,nodes:[],styleUrls:[],styles:[],ngContentSelectors:[]};return n.collectCommentNodes&&(C.commentNodes=[]),C}l=d.rootNodes,r||(l=Re(new Wm,l),u.hasI18nMeta&&(l=Re(new qd(s,!1),l)));let{nodes:h,errors:f,styleUrls:g,styles:y,ngContentSelectors:v,commentNodes:b}=W8(l,o,{collectCommentNodes:!!n.collectCommentNodes});f.push(...c.errors,...d.errors);let x={interpolationConfig:s,preserveWhitespaces:r,errors:f.length>0?f:null,nodes:h,styleUrls:g,styles:y,ngContentSelectors:v};return n.collectCommentNodes&&(x.commentNodes=b),x}var TD=new Go;function eh(t=Vn){return new qm(new jd(new Tc),t,TD,[])}function AD(t,e){switch(t){case ne.HTML:return P(p.sanitizeHtml);case ne.SCRIPT:return P(p.sanitizeScript);case ne.STYLE:return e?P(p.sanitizeStyle):null;case ne.URL:return P(p.sanitizeUrl);case ne.RESOURCE_URL:return P(p.sanitizeResourceUrl);default:return null}}function g$(t,e){let n=bn(e.value);if(KS(t,e.name))switch(TD.securityContext(t,e.name,!0)){case ne.HTML:return kg(P(p.trustConstantHtml),new sc([new rc(e.value)],[]),void 0,e.valueSpan);case ne.RESOURCE_URL:return kg(P(p.trustConstantResourceUrl),new sc([new rc(e.value)],[]),void 0,e.valueSpan);default:return n}else return n}function m$(t){return t.length===1&&t[0]instanceof _t}function v$(t){return t instanceof fs||t instanceof ui||t instanceof fc}function y$(t){return t.toLowerCase()==="iframe"}function Dg(t){return t.every(v$)}function ju(t,e,n){return()=>{let s=t(),r=Array.isArray(s)?s:[s];return n&&r.push(...n),e&&r.unshift(w(e)),r}}var VC="ngI18nClosureMode";function w$(t,e,n,s={},r){s=Object.fromEntries(Object.entries(s).sort());let i=[lS(e),Lc(b$(),JS(e,t,n,s),eD(e,t,Bc(s,!1)))];return r&&i.push(new nt(e.set(r(e)))),i}function b$(){return Fc(L(VC)).notIdentical(w("undefined",yv)).and(L(VC))}function E$(t){return(t.descendants?1:0)|(t.static?2:0)|(t.emitDistinctChangesOnly?4:0)}function x$(t,e){if(Array.isArray(t.predicate)){let n=[];return t.predicate.forEach(s=>{let r=s.split(",").map(i=>w(i.trim()));n.push(...r)}),e.getConstLiteral(z(n),!0)}else switch(t.predicate.forwardRef){case 0:case 2:return t.predicate.expression;case 1:return P(p.resolveForwardRef).callFn([t.predicate.expression])}}function MD(t,e,n,s){let r=[];s!==void 0&&r.push(...s),t.isSignal&&r.push(new Dt(L(bt),t.propertyName)),r.push(x$(t,e),w(E$(t))),t.read&&r.push(t.read);let i=t.isSignal?n.signalBased:n.nonSignal;return P(i).callFn(r)}var Bv=Symbol("queryAdvancePlaceholder");function ND(t){let e=[],n=0,s=()=>{n>0&&(e.unshift(P(p.queryAdvance).callFn(n===1?[]:[w(n)]).toStmt()),n=0)};for(let r=t.length-1;r>=0;r--){let i=t[r];i===Bv?n++:(s(),e.unshift(i))}return s(),e}function C$(t,e,n){let s=[],r=[],i=dS(a=>r.push(a),Ev);t.forEach(a=>{let c=MD(a,e,{signalBased:p.viewQuerySignal,nonSignal:p.viewQuery});if(s.push(c.toStmt()),a.isSignal){r.push(Bv);return}let l=i(),u=P(p.loadQuery).callFn([]),d=P(p.queryRefresh).callFn([l.set(u)]),h=L(bt).prop(a.propertyName).set(a.first?l.prop("first"):l);r.push(d.and(h).toStmt())});let o=n?`${n}_Query`:null;return Gn([new Ee($c,Oc),new Ee(bt,null)],[gr(1,s),gr(2,ND(r))],xt,null,o)}function S$(t,e,n){let s=[],r=[],i=dS(a=>r.push(a),Ev);for(let a of t){if(s.push(MD(a,e,{nonSignal:p.contentQuery,signalBased:p.contentQuerySignal},[L("dirIndex")]).toStmt()),a.isSignal){r.push(Bv);continue}let c=i(),l=P(p.loadQuery).callFn([]),u=P(p.queryRefresh).callFn([c.set(l)]),d=L(bt).prop(a.propertyName).set(a.first?c.prop("first"):c);r.push(u.and(d).toStmt())}let o=n?`${n}_ContentQueries`:null;return Gn([new Ee($c,Oc),new Ee(bt,null),new Ee("dirIndex",null)],[gr(1,s),gr(2,ND(r))],xt,null,o)}var D$=/attr\.([^\]]+)/,kD="%COMP%",_$=`_nghost-${kD}`,I$=`_ngcontent-${kD}`;function PD(t,e,n){let s=new or,r=Rc(t.selector);return s.set("type",t.type.value),r.length>0&&s.set("selectors",bn(r)),t.queries.length>0&&s.set("contentQueries",S$(t.queries,e,t.name)),t.viewQueries.length&&s.set("viewQuery",C$(t.viewQueries,e,t.name)),s.set("hostBindings",L$(t.host,t.typeSourceSpan,n,e,t.selector||"",t.name,s)),s.set("inputs",o0(t.inputs,!0)),s.set("outputs",o0(t.outputs)),t.exportAs!==null&&s.set("exportAs",z(t.exportAs.map(i=>w(i)))),t.isStandalone&&s.set("standalone",w(!0)),t.isSignal&&s.set("signals",w(!0)),s}function RD(t,e){let n=[],s=e.providers,r=e.viewProviders,i=Object.keys(e.inputs);if(s||r){let o=[s||new an([])];r&&o.push(r),n.push(P(p.ProvidersFeature).callFn(o))}for(let o of i)if(e.inputs[o].transformFunction!==null){n.push(P(p.InputTransformsFeatureFeature));break}e.hostDirectives?.length&&n.push(P(p.HostDirectivesFeature).callFn([W$(e.hostDirectives)])),e.usesInheritance&&n.push(P(p.InheritDefinitionFeature)),e.fullInheritance&&n.push(P(p.CopyDefinitionFeature)),e.lifecycle.usesOnChanges&&n.push(P(p.NgOnChangesFeature)),e.hasOwnProperty("template")&&e.isStandalone&&n.push(P(p.StandaloneFeature)),n.length&&t.set("features",z(n))}function T$(t,e,n){let s=PD(t,e,n);RD(s,t);let r=P(p.defineDirective).callFn([s.toLiteralMap()],void 0,!0),i=F$(t);return{expression:r,type:i,statements:[]}}function A$(t,e,n){let s=[];for(let[i,{importPath:o,isDefaultImport:a}]of n){let c=et([new Ee("m",_s)],L("m").prop(a?"default":i)),l=new ic(o).prop("then").callFn([c]);s.push(l)}let r=et([],z(s));return t.statements.push(r.toDeclStmt(e,it.Final)),L(e)}function M$(t,e,n){let s=PD(t,e,n);RD(s,t);let r=t.selector&&To.parse(t.selector),i=r&&r[0];if(i){let d=i.getAttrs();d.length&&s.set("attrs",e.getConstLiteral(z(d.map(h=>h!=null?w(h):w(void 0))),!0))}let o=t.name,a=o?`${o}_Template`:null,c=null;if(t.deferBlocks.size>0&&t.deferrableTypes.size>0&&t.deferBlockDepsEmitMode===1){let d=`${o}_DeferFn`;c=A$(e,d,t.deferrableTypes)}if(!yD&&!t.useTemplatePipeline){let d=t.template,h=new nv(e,Jd.createRootScope(),0,o,null,null,a,p.namespaceHTML,t.relativeContextFilePath,t.i18nUseExternalIds,t.deferBlocks,new Map,c),f=h.buildTemplateFunction(d.nodes,[]),g=h.getNgContentSelectors();g&&s.set("ngContentSelectors",g),s.set("decls",w(h.getConstCount())),s.set("vars",w(h.getVarCount()));let{constExpressions:y,prepareStatements:v}=h.getConsts();if(y.length>0){let b=z(y);v.length>0&&(b=et([],[...v,new qe(b)])),s.set("consts",b)}s.set("template",f)}else{let d=TV(t.name,t.template.nodes,e,t.relativeContextFilePath,t.i18nUseExternalIds,t.deferBlocks,c);lD(d,O.Tmpl);let h=_V(d,e);d.contentSelectors!==null&&s.set("ngContentSelectors",d.contentSelectors),s.set("decls",w(d.root.decls)),s.set("vars",w(d.root.vars)),d.consts.length>0&&(d.constsInitializers.length>0?s.set("consts",et([],[...d.constsInitializers,new qe(z(d.consts))])):s.set("consts",z(d.consts))),s.set("template",h)}if(t.declarationListEmitMode!==3&&t.declarations.length>0)s.set("dependencies",k$(z(t.declarations.map(d=>d.type)),t.declarationListEmitMode));else if(t.declarationListEmitMode===3){let d=[t.type.value];t.rawImports&&d.push(t.rawImports),s.set("dependencies",P(p.getComponentDepsFactory).callFn(d))}if(t.encapsulation===null&&(t.encapsulation=Gr.Emulated),t.styles&&t.styles.length){let h=(t.encapsulation==Gr.Emulated?z$(t.styles,I$,_$):t.styles).reduce((f,g)=>(g.trim().length>0&&f.push(e.getConstLiteral(w(g))),f),[]);h.length>0&&s.set("styles",z(h))}else t.encapsulation===Gr.Emulated&&(t.encapsulation=Gr.None);t.encapsulation!==Gr.Emulated&&s.set("encapsulation",w(t.encapsulation)),t.animations!==null&&s.set("data",st([{key:"animation",value:t.animations,quoted:!1}])),t.changeDetection!==null&&(typeof t.changeDetection=="number"&&t.changeDetection!==mv.Default?s.set("changeDetection",w(t.changeDetection)):typeof t.changeDetection=="object"&&s.set("changeDetection",t.changeDetection));let l=P(p.defineComponent).callFn([s.toLiteralMap()],void 0,!0),u=N$(t);return{expression:l,type:u,statements:[]}}function N$(t){let e=OD(t);return e.push(ov(t.template.ngContentSelectors)),e.push(ot(w(t.isStandalone))),e.push(FD(t)),t.isSignal&&e.push(ot(w(t.isSignal))),ot(P(p.ComponentDeclaration,e))}function k$(t,e){switch(e){case 0:return t;case 1:return et([],t);case 2:let n=t.prop("map").callFn([P(p.resolveForwardRef)]);return et([],n);case 3:throw new Error("Unsupported with an array of pre-resolved dependencies")}}function P$(t){let e=[];for(let n of Object.getOwnPropertyNames(t)){let s=t[n];e.push(w(n),s)}return e}function R$(t){return ot(w(t))}function iv(t){let e=Object.keys(t).map(n=>{let s=Array.isArray(t[n])?t[n][0]:t[n];return{key:n,value:w(s),quoted:!0}});return st(e)}function ov(t){return t.length>0?ot(z(t.map(e=>w(e)))):Wn}function OD(t){let e=t.selector!==null?t.selector.replace(/\n/g,""):null;return[sh(t.type.type,t.typeArgumentCount),e!==null?R$(e):Wn,t.exportAs!==null?ov(t.exportAs):Wn,ot(O$(t)),ot(iv(t.outputs)),ov(t.queries.map(n=>n.propertyName))]}function O$(t){return st(Object.keys(t.inputs).map(e=>{let n=t.inputs[e],s=[{key:"alias",value:w(n.bindingPropertyName),quoted:!0},{key:"required",value:w(n.required),quoted:!0}];return n.isSignal&&s.push({key:"isSignal",value:w(n.isSignal),quoted:!0}),{key:e,value:st(s),quoted:!0}}))}function F$(t){let e=OD(t);return e.push(Wn),e.push(ot(w(t.isStandalone))),e.push(FD(t)),t.isSignal&&e.push(ot(w(t.isSignal))),ot(P(p.DirectiveDeclaration,e))}function L$(t,e,n,s,r,i,o){let a=n.createBoundHostProperties(t.properties,e),c=n.createDirectiveHostEventAsts(t.listeners,e);if(yD||t.useTemplatePipeline){t.specialAttributes.styleAttr&&(t.attributes.style=w(t.specialAttributes.styleAttr)),t.specialAttributes.classAttr&&(t.attributes.class=w(t.specialAttributes.classAttr));let N=AV({componentName:i,componentSelector:r,properties:a,events:c,attributes:t.attributes},n,s);lD(N,O.Host),o.set("hostAttrs",N.root.attributes);let B=N.root.vars;return B!==null&&B>0&&o.set("hostVars",w(B)),IV(N)}let l=0,u=()=>`${l++}`,d=L(bt),h=new Zd(d),{styleAttr:f,classAttr:g}=t.specialAttributes;f!==void 0&&h.registerStyleAttr(f),g!==void 0&&h.registerClassAttr(g);let y=[],v=[],b=[],x=e;c&&c.length&&y.push(...$$(c,i));let C=[],D=0;a&&a.forEach(N=>{h.registerInputBasedOnName(N.name,N.expression,x)?D+=Qd:(C.push(N),D++)});let S,I=()=>{if(!S){let N=B=>{let Ce=D;return D+=B,Ce};S=new Kd(s,()=>sd("Unexpected node"),N,()=>sd("Unexpected pipe"))}return S},k=[],M=[],A=[];for(let N of C){let B=N.expression.visit(I()),Ce=$C(d,B,u),{bindingName:ke,instruction:oe,isAttribute:de}=V$(N),he=n.calcPossibleSecurityContexts(r,ke,de).filter(Os=>Os!==ne.NONE),ut=null;he.length&&(he.length===2&&he.indexOf(ne.URL)>-1&&he.indexOf(ne.RESOURCE_URL)>-1?ut=P(p.sanitizeUrlOrResourceUrl):ut=AD(he[0],de));let Oe=[w(ke),Ce.currValExpr];ut?Oe.push(ut):_v(ke)&&Oe.push(P(p.validateIframeAttribute)),b.push(...Ce.stmts),oe===p.hostProperty?k.push(Oe):oe===p.attribute?M.push(Oe):oe===p.syntheticHostProperty?A.push(Oe):v.push({reference:oe,paramsOrFn:Oe,span:null})}for(let N of k)v.push({reference:p.hostProperty,paramsOrFn:N,span:null});for(let N of M)v.push({reference:p.attribute,paramsOrFn:N,span:null});for(let N of A)v.push({reference:p.syntheticHostProperty,paramsOrFn:N,span:null});let $=P$(t.attributes);if(h.assignHostAttrs($,o),h.hasBindings&&h.buildUpdateLevelInstructions(I()).forEach(N=>{for(let B of N.calls){D+=Math.max(B.allocateBindingSlots-Qd,0);let{params:Ce,stmts:ke}=B$(B,d,$C,u);b.push(...ke),v.push({reference:N.reference,paramsOrFn:Ce,span:null})}}),D&&o.set("hostVars",w(D)),y.length>0||v.length>0){let N=i?`${i}_HostBindings`:null,B=[];return y.length>0&&B.push(gr(1,vd(y))),v.length>0&&B.push(gr(2,b.concat(vd(v)))),Gn([new Ee($c,Oc),new Ee(bt,null)],B,xt,null,N)}return null}function $C(t,e,n){return TS(null,t,e,n())}function B$(t,e,n,s){let r=[];return{params:t.params(o=>{let a=n(e,o,s);return Array.isArray(a.stmts)&&a.stmts.length>0&&r.push(...a.stmts),a.currValExpr}),stmts:r}}function V$(t){let e=t.name,n,s=e.match(D$);return s?(e=s[1],n=p.attribute):t.isAnimation?(e=rS(e),n=p.syntheticHostProperty):n=p.hostProperty,{bindingName:e,instruction:n,isAttribute:!!s}}function $$(t,e){let n=[],s=[],r=[];for(let i of t){let o=i.name&&Un(i.name),a=i.type===1?iS(o,i.targetOrPhase):o,c=e&&o?`${e}_${a}_HostBindingHandler`:null,l=ID(ad.fromParsedEvent(i),c);i.type==1?s.push(l):n.push(l)}for(let i of s)r.push({reference:p.syntheticHostListener,paramsOrFn:i,span:null});for(let i of n)r.push({reference:p.listener,paramsOrFn:i,span:null});return r}var j$=/^(?:\[([^\]]+)\])|(?:\(([^\)]+)\))$/;function H$(t){let e={},n={},s={},r={};for(let i of Object.keys(t)){let o=t[i],a=i.match(j$);if(a===null)switch(i){case"class":if(typeof o!="string")throw new Error("Class binding must be string");r.classAttr=o;break;case"style":if(typeof o!="string")throw new Error("Style binding must be string");r.styleAttr=o;break;default:typeof o=="string"?e[i]=w(o):e[i]=o}else if(a[1]!=null){if(typeof o!="string")throw new Error("Property binding must be string");s[a[1]]=o}else if(a[2]!=null){if(typeof o!="string")throw new Error("Event binding must be string");n[a[2]]=o}}return{attributes:e,listeners:n,properties:s,specialAttributes:r}}function U$(t,e){let n=eh();return n.createDirectiveHostEventAsts(t.listeners,e),n.createBoundHostProperties(t.properties,e),n.errors}function z$(t,e,n){let s=new lm;return t.map(r=>s.shimCssText(r,e,n))}function FD(t){return t.hostDirectives?.length?ot(z(t.hostDirectives.map(e=>st([{key:"directive",value:Fc(e.directive.type),quoted:!1},{key:"inputs",value:iv(e.inputs||{}),quoted:!1},{key:"outputs",value:iv(e.outputs||{}),quoted:!1}])))):Wn}function W$(t){let e=[],n=!1;for(let s of t){if(!s.inputs&&!s.outputs)e.push(s.directive.type);else{let r=[{key:"directive",value:s.directive.type,quoted:!1}];if(s.inputs){let i=jC(s.inputs);i&&r.push({key:"inputs",value:i,quoted:!1})}if(s.outputs){let i=jC(s.outputs);i&&r.push({key:"outputs",value:i,quoted:!1})}e.push(st(r))}s.isForwardReference&&(n=!0)}return n?new ii([],[new qe(z(e))]):z(e)}function jC(t){let e=[];for(let n in t)t.hasOwnProperty(n)&&e.push(w(n),w(t[n]));return e.length>0?z(e):null}var av=class{constructor(e){this.directiveMatcher=e}bind(e){if(!e.template)throw new Error("Binding without a template not yet supported");let n=cv.apply(e.template),s=q$(n),{directives:r,eagerDirectives:i,bindings:o,references:a}=lv.apply(e.template,this.directiveMatcher),{expressions:c,symbols:l,nestingLevel:u,usedPipes:d,eagerPipes:h,deferBlocks:f}=uv.applyWithScope(e.template,n);return new dv(e,r,i,o,a,c,l,u,s,d,h,f)}},cv=class t{constructor(e,n){this.parentScope=e,this.rootNode=n,this.namedEntities=new Map,this.elementsInScope=new Set,this.childScopes=new Map,this.isDeferred=e!==null&&e.isDeferred?!0:n instanceof di}static newRootScope(){return new t(null,null)}static apply(e){let n=t.newRootScope();return n.ingest(e),n}ingest(e){e instanceof Rt?(e.variables.forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof ei?(e.expressionAlias!==null&&this.visitVariable(e.expressionAlias),e.children.forEach(n=>n.visit(this))):e instanceof Ro?(this.visitVariable(e.item),Object.values(e.contextVariables).forEach(n=>this.visitVariable(n)),e.children.forEach(n=>n.visit(this))):e instanceof uc||e instanceof dc||e instanceof di||e instanceof lc||e instanceof ac||e instanceof cc?e.children.forEach(n=>n.visit(this)):e.forEach(n=>n.visit(this))}visitElement(e){e.references.forEach(n=>this.visitReference(n)),e.children.forEach(n=>n.visit(this)),this.elementsInScope.add(e)}visitTemplate(e){e.references.forEach(n=>this.visitReference(n)),this.ingestScopedNode(e)}visitVariable(e){this.maybeDeclare(e)}visitReference(e){this.maybeDeclare(e)}visitDeferredBlock(e){this.ingestScopedNode(e),e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){this.ingestScopedNode(e)}visitForLoopBlock(e){this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){this.ingestScopedNode(e)}visitContent(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundText(e){}visitText(e){}visitTextAttribute(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}maybeDeclare(e){this.namedEntities.has(e.name)||this.namedEntities.set(e.name,e)}lookup(e){return this.namedEntities.has(e)?this.namedEntities.get(e):this.parentScope!==null?this.parentScope.lookup(e):null}getChildScope(e){let n=this.childScopes.get(e);if(n===void 0)throw new Error(`Assertion error: child scope for ${e} not found`);return n}ingestScopedNode(e){let n=new t(this,e);n.ingest(e),this.childScopes.set(e,n)}},lv=class t{constructor(e,n,s,r,i){this.matcher=e,this.directives=n,this.eagerDirectives=s,this.bindings=r,this.references=i,this.isInDeferBlock=!1}static apply(e,n){let s=new Map,r=new Map,i=new Map,o=[];return new t(n,s,o,r,i).ingest(e),{directives:s,eagerDirectives:o,bindings:r,references:i}}ingest(e){e.forEach(n=>n.visit(this))}visitElement(e){this.visitElementOrTemplate(e)}visitTemplate(e){this.visitElementOrTemplate(e)}visitElementOrTemplate(e){let n=pP(e),s=[];this.matcher.match(n,(i,o)=>s.push(...o)),s.length>0&&(this.directives.set(e,s),this.isInDeferBlock||this.eagerDirectives.push(...s)),e.references.forEach(i=>{let o=null;if(i.value.trim()==="")o=s.find(a=>a.isComponent)||null;else if(o=s.find(a=>a.exportAs!==null&&a.exportAs.some(c=>c===i.value))||null,o===null)return;o!==null?this.references.set(i,{directive:o,node:e}):this.references.set(i,e)});let r=(i,o)=>{let a=s.find(l=>l[o].hasBindingPropertyName(i.name)),c=a!==void 0?a:e;this.bindings.set(i,c)};e.inputs.forEach(i=>r(i,"inputs")),e.attributes.forEach(i=>r(i,"inputs")),e instanceof Rt&&e.templateAttrs.forEach(i=>r(i,"inputs")),e.outputs.forEach(i=>r(i,"outputs")),e.children.forEach(i=>i.visit(this))}visitDeferredBlock(e){let n=this.isInDeferBlock;this.isInDeferBlock=!0,e.children.forEach(s=>s.visit(this)),this.isInDeferBlock=n,e.placeholder?.visit(this),e.loading?.visit(this),e.error?.visit(this)}visitDeferredBlockPlaceholder(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockError(e){e.children.forEach(n=>n.visit(this))}visitDeferredBlockLoading(e){e.children.forEach(n=>n.visit(this))}visitSwitchBlock(e){e.cases.forEach(n=>n.visit(this))}visitSwitchBlockCase(e){e.children.forEach(n=>n.visit(this))}visitForLoopBlock(e){e.item.visit(this),Object.values(e.contextVariables).forEach(n=>n.visit(this)),e.children.forEach(n=>n.visit(this)),e.empty?.visit(this)}visitForLoopBlockEmpty(e){e.children.forEach(n=>n.visit(this))}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){e.expressionAlias?.visit(this),e.children.forEach(n=>n.visit(this))}visitContent(e){}visitVariable(e){}visitReference(e){}visitTextAttribute(e){}visitBoundAttribute(e){}visitBoundEvent(e){}visitBoundAttributeOrEvent(e){}visitText(e){}visitBoundText(e){}visitIcu(e){}visitDeferredTrigger(e){}visitUnknownBlock(e){}},uv=class t extends Dd{constructor(e,n,s,r,i,o,a,c,l){super(),this.bindings=e,this.symbols=n,this.usedPipes=s,this.eagerPipes=r,this.deferBlocks=i,this.nestingLevel=o,this.scope=a,this.rootNode=c,this.level=l,this.visitNode=u=>u.visit(this)}visit(e,n){e instanceof je?e.visit(this,n):e.visit(this)}static applyWithScope(e,n){let s=new Map,r=new Map,i=new Map,o=new Set,a=new Set,c=e instanceof Rt?e:null,l=new Map;return new t(s,r,o,a,l,i,n,c,0).ingest(e),{expressions:s,symbols:r,nestingLevel:i,usedPipes:o,eagerPipes:a,deferBlocks:l}}ingest(e){if(e instanceof Rt)e.variables.forEach(this.visitNode),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof ei)e.expressionAlias!==null&&this.visitNode(e.expressionAlias),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof Ro)this.visitNode(e.item),Object.values(e.contextVariables).forEach(n=>this.visitNode(n)),e.trackBy.visit(this),e.children.forEach(this.visitNode),this.nestingLevel.set(e,this.level);else if(e instanceof di){if(this.scope.rootNode!==e)throw new Error(`Assertion error: resolved incorrect scope for deferred block ${e}`);this.deferBlocks.set(e,this.scope),e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)}else e instanceof uc||e instanceof dc||e instanceof lc||e instanceof ac||e instanceof cc?(e.children.forEach(n=>n.visit(this)),this.nestingLevel.set(e,this.level)):e.forEach(this.visitNode)}visitElement(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.children.forEach(this.visitNode),e.references.forEach(this.visitNode)}visitTemplate(e){e.inputs.forEach(this.visitNode),e.outputs.forEach(this.visitNode),e.templateAttrs.forEach(this.visitNode),e.references.forEach(this.visitNode),this.ingestScopedNode(e)}visitVariable(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitReference(e){this.rootNode!==null&&this.symbols.set(e,this.rootNode)}visitText(e){}visitContent(e){}visitTextAttribute(e){}visitUnknownBlock(e){}visitDeferredTrigger(){}visitIcu(e){Object.keys(e.vars).forEach(n=>e.vars[n].visit(this)),Object.keys(e.placeholders).forEach(n=>e.placeholders[n].visit(this))}visitBoundAttribute(e){e.value.visit(this)}visitBoundEvent(e){e.handler.visit(this)}visitDeferredBlock(e){this.ingestScopedNode(e),e.triggers.when?.value.visit(this),e.prefetchTriggers.when?.value.visit(this),e.placeholder&&this.visitNode(e.placeholder),e.loading&&this.visitNode(e.loading),e.error&&this.visitNode(e.error)}visitDeferredBlockPlaceholder(e){this.ingestScopedNode(e)}visitDeferredBlockError(e){this.ingestScopedNode(e)}visitDeferredBlockLoading(e){this.ingestScopedNode(e)}visitSwitchBlock(e){e.expression.visit(this),e.cases.forEach(this.visitNode)}visitSwitchBlockCase(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitForLoopBlock(e){e.expression.visit(this),this.ingestScopedNode(e),e.empty?.visit(this)}visitForLoopBlockEmpty(e){this.ingestScopedNode(e)}visitIfBlock(e){e.branches.forEach(n=>n.visit(this))}visitIfBlockBranch(e){e.expression?.visit(this),this.ingestScopedNode(e)}visitBoundText(e){e.value.visit(this)}visitPipe(e,n){return this.usedPipes.add(e.name),this.scope.isDeferred||this.eagerPipes.add(e.name),super.visitPipe(e,n)}visitPropertyRead(e,n){return this.maybeMap(e,e.name),super.visitPropertyRead(e,n)}visitSafePropertyRead(e,n){return this.maybeMap(e,e.name),super.visitSafePropertyRead(e,n)}visitPropertyWrite(e,n){return this.maybeMap(e,e.name),super.visitPropertyWrite(e,n)}ingestScopedNode(e){let n=this.scope.getChildScope(e);new t(this.bindings,this.symbols,this.usedPipes,this.eagerPipes,this.deferBlocks,this.nestingLevel,n,e,this.level+1).ingest(e)}maybeMap(e,n){if(!(e.receiver instanceof pt))return;let s=this.scope.lookup(n);s!==null&&this.bindings.set(e,s)}},dv=class{constructor(e,n,s,r,i,o,a,c,l,u,d,h){this.target=e,this.directives=n,this.eagerDirectives=s,this.bindings=r,this.references=i,this.exprTargets=o,this.symbols=a,this.nestingLevel=c,this.scopedNodeEntities=l,this.usedPipes=u,this.eagerPipes=d,this.deferBlocks=h}getEntitiesInScope(e){return this.scopedNodeEntities.get(e)??new Set}getDirectivesOfNode(e){return this.directives.get(e)||null}getReferenceTarget(e){return this.references.get(e)||null}getConsumerOfBinding(e){return this.bindings.get(e)||null}getExpressionTarget(e){return this.exprTargets.get(e)||null}getDefinitionNodeOfSymbol(e){return this.symbols.get(e)||null}getNestingLevel(e){return this.nestingLevel.get(e)||0}getUsedDirectives(){let e=new Set;return this.directives.forEach(n=>n.forEach(s=>e.add(s))),Array.from(e.values())}getEagerlyUsedDirectives(){let e=new Set(this.eagerDirectives);return Array.from(e.values())}getUsedPipes(){return Array.from(this.usedPipes)}getEagerlyUsedPipes(){return Array.from(this.eagerPipes)}getDeferBlocks(){return Array.from(this.deferBlocks.keys())}getDeferredTriggerTarget(e,n){if(!(n instanceof ld)&&!(n instanceof ud)&&!(n instanceof cd))return null;let s=n.reference;if(s===null){let i=null;if(e.placeholder!==null){for(let o of e.placeholder.children)if(!(o instanceof ko)){if(i!==null)return null;o instanceof _t&&(i=o)}}return i}let r=this.findEntityInScope(e,s);if(r instanceof hc&&this.getDefinitionNodeOfSymbol(r)!==e){let i=this.getReferenceTarget(r);if(i!==null)return this.referenceTargetToElement(i)}if(e.placeholder!==null){let i=this.findEntityInScope(e.placeholder,s),o=i instanceof hc?this.getReferenceTarget(i):null;if(o!==null)return this.referenceTargetToElement(o)}return null}isDeferred(e){for(let n of this.deferBlocks.values()){let s=[n];for(;s.length>0;){let r=s.pop();if(r.elementsInScope.has(e))return!0;s.push(...r.childScopes.values())}}return!1}findEntityInScope(e,n){let s=this.getEntitiesInScope(e);for(let r of s)if(r.name===n)return r;return null}referenceTargetToElement(e){return e instanceof _t?e:e instanceof Rt?null:this.referenceTargetToElement(e.node)}};function q$(t){let e=new Map;function n(i){if(e.has(i.rootNode))return e.get(i.rootNode);let o=i.namedEntities,a;return i.parentScope!==null?a=new Map([...n(i.parentScope),...o]):a=new Map(o),e.set(i.rootNode,a),a}let s=[t];for(;s.length>0;){let i=s.pop();for(let o of i.childScopes.values())s.push(o);n(i)}let r=new Map;for(let[i,o]of e)r.set(i,new Set(o.values()));return r}var hv=class{},mh=!0,fv=class{constructor(e=new Kg){this.jitEvaluator=e,this.FactoryTarget=ls,this.ResourceLoader=hv,this.elementSchemaRegistry=new Go}compilePipe(e,n,s){let r={name:s.name,type:Qe(s.type),typeArgumentCount:0,deps:null,pipeName:s.pipeName,pure:s.pure,isStandalone:s.isStandalone},i=w0(r);return this.jitExpression(i.expression,e,n,[])}compilePipeDeclaration(e,n,s){let r=lj(s),i=w0(r);return this.jitExpression(i.expression,e,n,[])}compileInjectable(e,n,s){let{expression:r,statements:i}=l0({name:s.name,type:Qe(s.type),typeArgumentCount:s.typeArgumentCount,providedIn:qC(s.providedIn),useClass:po(s,"useClass"),useFactory:WC(s,"useFactory"),useValue:po(s,"useValue"),useExisting:po(s,"useExisting"),deps:s.deps?.map(jD)},!0);return this.jitExpression(r,e,n,i)}compileInjectableDeclaration(e,n,s){let{expression:r,statements:i}=l0({name:s.type.name,type:Qe(s.type),typeArgumentCount:0,providedIn:qC(s.providedIn),useClass:po(s,"useClass"),useFactory:WC(s,"useFactory"),useValue:po(s,"useValue"),useExisting:po(s,"useExisting"),deps:s.deps?.map(GC)},!0);return this.jitExpression(r,e,n,i)}compileInjector(e,n,s){let r={name:s.name,type:Qe(s.type),providers:s.providers&&s.providers.length>0?new te(s.providers):null,imports:s.imports.map(o=>new te(o))},i=y0(r);return this.jitExpression(i.expression,e,n,[])}compileInjectorDeclaration(e,n,s){let r=uj(s),i=y0(r);return this.jitExpression(i.expression,e,n,[])}compileNgModule(e,n,s){let r={kind:nr.Global,type:Qe(s.type),bootstrap:s.bootstrap.map(Qe),declarations:s.declarations.map(Qe),publicDeclarationTypes:null,imports:s.imports.map(Qe),includeImportTypes:!0,exports:s.exports.map(Qe),selectorScopeMode:Sd.Inline,containsForwardDecls:!1,schemas:s.schemas?s.schemas.map(Qe):null,id:s.id?new te(s.id):null},i=VP(r);return this.jitExpression(i.expression,e,n,[])}compileNgModuleDeclaration(e,n,s){let r=$P(s);return this.jitExpression(r,e,n,[])}compileDirective(e,n,s){let r=zC(s);return this.compileDirectiveFromMeta(e,n,r)}compileDirectiveDeclaration(e,n,s){let r=this.createParseSourceSpan("Directive",s.type.name,n),i=BD(s,r);return this.compileDirectiveFromMeta(e,n,i)}compileDirectiveFromMeta(e,n,s){let r=new nd,i=eh(),o=T$(s,r,i);return this.jitExpression(o.expression,e,n,r.statements)}compileComponent(e,n,s){let{template:r,interpolation:i,deferBlocks:o}=$D(s.template,s.name,n,s.preserveWhitespaces,s.interpolation),a=me(_(_({},s),zC(s)),{selector:s.selector||this.elementSchemaRegistry.getDefaultComponentElementName(),template:r,declarations:s.declarations.map(Q$),declarationListEmitMode:0,deferBlocks:o,deferrableTypes:new Map,deferrableDeclToImportDecl:new Map,deferBlockDepsEmitMode:0,styles:[...s.styles,...r.styles],encapsulation:s.encapsulation,interpolation:i,changeDetection:s.changeDetection??null,animations:s.animations!=null?new te(s.animations):null,viewProviders:s.viewProviders!=null?new te(s.viewProviders):null,relativeContextFilePath:"",i18nUseExternalIds:!0,useTemplatePipeline:mh}),c=`ng:///${s.name}.js`;return this.compileComponentFromMeta(e,c,a)}compileComponentDeclaration(e,n,s){let r=this.createParseSourceSpan("Component",s.type.name,n),i=X$(s,r,n);return this.compileComponentFromMeta(e,n,i)}compileComponentFromMeta(e,n,s){let r=new nd,i=eh(s.interpolation),o=M$(s,r,i);return this.jitExpression(o.expression,e,n,r.statements)}compileFactory(e,n,s){let r=Yr({name:s.name,type:Qe(s.type),typeArgumentCount:s.typeArgumentCount,deps:J$(s.deps),target:s.target});return this.jitExpression(r.expression,e,n,r.statements)}compileFactoryDeclaration(e,n,s){let r=Yr({name:s.type.name,type:Qe(s.type),typeArgumentCount:0,deps:Array.isArray(s.deps)?s.deps.map(GC):s.deps,target:s.target});return this.jitExpression(r.expression,e,n,r.statements)}createParseSourceSpan(e,n,s){return kP(e,n,s)}jitExpression(e,n,s,r){let i=[...r,new vt("$def",e,void 0,it.Exported)];return this.jitEvaluator.evaluateStatements(s,i,new em(n),!0).$def}};function HC(t){return me(_({},t),{isSignal:t.isSignal,predicate:LD(t.predicate),read:t.read?new te(t.read):null,static:t.static,emitDistinctChangesOnly:t.emitDistinctChangesOnly})}function UC(t){return{propertyName:t.propertyName,first:t.first??!1,predicate:LD(t.predicate),descendants:t.descendants??!1,read:t.read?new te(t.read):null,static:t.static??!1,emitDistinctChangesOnly:t.emitDistinctChangesOnly??!0,isSignal:!!t.isSignal}}function LD(t){return Array.isArray(t)?t:wv(new te(t),1)}function zC(t){let e=cj(t.inputs||[]),n=pv(t.outputs||[]),s=t.propMetadata,r={},i={};for(let o in s)s.hasOwnProperty(o)&&s[o].forEach(a=>{rj(a)?r[o]={bindingPropertyName:a.alias||o,classPropertyName:o,required:a.required||!1,isSignal:!!a.isSignal,transformFunction:a.transform!=null?new te(a.transform):null}:ij(a)&&(i[o]=a.alias||o)});return me(_({},t),{typeArgumentCount:0,typeSourceSpan:t.typeSourceSpan,type:Qe(t.type),deps:null,host:me(_({},tj(t.propMetadata,t.typeSourceSpan,t.host)),{useTemplatePipeline:mh}),inputs:_(_({},e),r),outputs:_(_({},n),i),queries:t.queries.map(HC),providers:t.providers!=null?new te(t.providers):null,viewQueries:t.viewQueries.map(HC),fullInheritance:!1,hostDirectives:VD(t)})}function BD(t,e){return{name:t.type.name,type:Qe(t.type),typeSourceSpan:e,selector:t.selector??null,inputs:t.inputs?oj(t.inputs):{},outputs:t.outputs??{},host:G$(t.host),queries:(t.queries??[]).map(UC),viewQueries:(t.viewQueries??[]).map(UC),providers:t.providers!==void 0?new te(t.providers):null,exportAs:t.exportAs??null,usesInheritance:t.usesInheritance??!1,lifecycle:{usesOnChanges:t.usesOnChanges??!1},deps:null,typeArgumentCount:0,fullInheritance:!1,isStandalone:t.isStandalone??!1,isSignal:t.isSignal??!1,hostDirectives:VD(t)}}function G$(t={}){return{attributes:Y$(t.attributes??{}),listeners:t.listeners??{},properties:t.properties??{},specialAttributes:{classAttr:t.classAttribute,styleAttr:t.styleAttribute},useTemplatePipeline:mh}}function VD(t){return t.hostDirectives?.length?t.hostDirectives.map(e=>typeof e=="function"?{directive:Qe(e),inputs:null,outputs:null,isForwardReference:!1}:{directive:Qe(e.directive),isForwardReference:!1,inputs:e.inputs?pv(e.inputs):null,outputs:e.outputs?pv(e.outputs):null}):null}function Y$(t){let e={};for(let n of Object.keys(t))e[n]=new te(t[n]);return e}function X$(t,e,n){let{template:s,interpolation:r,deferBlocks:i}=$D(t.template,t.type.name,n,t.preserveWhitespaces??!1,t.interpolation),o=[];if(t.dependencies)for(let a of t.dependencies)switch(a.kind){case"directive":case"component":o.push(_g(a));break;case"pipe":o.push(K$(a));break}else(t.components||t.directives||t.pipes)&&(t.components&&o.push(...t.components.map(a=>_g(a,!0))),t.directives&&o.push(...t.directives.map(a=>_g(a))),t.pipes&&o.push(...Z$(t.pipes)));return me(_({},BD(t,e)),{template:s,styles:t.styles??[],declarations:o,viewProviders:t.viewProviders!==void 0?new te(t.viewProviders):null,animations:t.animations!==void 0?new te(t.animations):null,deferBlocks:i,deferrableTypes:new Map,deferrableDeclToImportDecl:new Map,deferBlockDepsEmitMode:0,changeDetection:t.changeDetection??mv.Default,encapsulation:t.encapsulation??Gr.Emulated,interpolation:r,declarationListEmitMode:2,relativeContextFilePath:"",i18nUseExternalIds:!0,useTemplatePipeline:mh})}function Q$(t){return me(_({},t),{type:new te(t.type)})}function _g(t,e=null){return{kind:lh.Directive,isComponent:e||t.kind==="component",selector:t.selector,type:new te(t.type),inputs:t.inputs??[],outputs:t.outputs??[],exportAs:t.exportAs??null}}function Z$(t){return t?Object.keys(t).map(e=>({kind:lh.Pipe,name:e,type:new te(t[e])})):[]}function K$(t){return{kind:lh.Pipe,name:t.name,type:new te(t.type)}}function $D(t,e,n,s,r){let i=r?yd.fromArray(r):Vn,o=p$(t,n,{preserveWhitespaces:s,interpolationConfig:i});if(o.errors!==null){let l=o.errors.map(u=>u.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${e}: ${l}`)}let c=new av(new qu).bind({template:o.nodes});return{template:o,interpolation:i,deferBlocks:ej(c)}}function po(t,e){if(t.hasOwnProperty(e))return wv(new te(t[e]),0)}function WC(t,e){if(t.hasOwnProperty(e))return new te(t[e])}function qC(t){let e=typeof t=="function"?new te(t):new tt(t??null);return wv(e,0)}function J$(t){return t==null?null:t.map(jD)}function jD(t){let e=t.attribute!=null,n=t.token===null?null:new te(t.token),s=e?new te(t.attribute):n;return HD(s,e,t.host,t.optional,t.self,t.skipSelf)}function GC(t){let e=t.attribute??!1,n=t.token===null?null:new te(t.token);return HD(n,e,t.host??!1,t.optional??!1,t.self??!1,t.skipSelf??!1)}function HD(t,e,n,s,r,i){let o=e?w("unknown"):null;return{token:t,attributeNameType:o,host:n,optional:s,self:r,skipSelf:i}}function ej(t){let e=t.getDeferBlocks(),n=new Map;for(let s of e){let r=new Map;YC(s,s.triggers,t,r),YC(s,s.prefetchTriggers,t,r),n.set(s,{deps:[],triggerElements:r})}return n}function YC(t,e,n,s){Object.keys(e).forEach(r=>{let i=e[r];s.set(i,n.getDeferredTriggerTarget(t,i))})}function tj(t,e,n){let s=H$(n||{}),r=U$(s,e);if(r.length)throw new Error(r.map(i=>i.msg).join(`
`));for(let i in t)t.hasOwnProperty(i)&&t[i].forEach(o=>{nj(o)?s.properties[o.hostPropertyName||i]=$k("this",i):sj(o)&&(s.listeners[o.eventName||i]=`${i}(${(o.args||[]).join(",")})`)});return s}function nj(t){return t.ngMetadataName==="HostBinding"}function sj(t){return t.ngMetadataName==="HostListener"}function rj(t){return t.ngMetadataName==="Input"}function ij(t){return t.ngMetadataName==="Output"}function oj(t){return Object.keys(t).reduce((e,n)=>{let s=t[n];return typeof s=="string"||Array.isArray(s)?e[n]=aj(s):e[n]={bindingPropertyName:s.publicName,classPropertyName:n,transformFunction:s.transformFunction!==null?new te(s.transformFunction):null,required:s.isRequired,isSignal:s.isSignal},e},{})}function aj(t){return typeof t=="string"?{bindingPropertyName:t,classPropertyName:t,transformFunction:null,required:!1,isSignal:!1}:{bindingPropertyName:t[0],classPropertyName:t[1],transformFunction:t[2]?new te(t[2]):null,required:!1,isSignal:!1}}function cj(t){return t.reduce((e,n)=>{if(typeof n=="string"){let[s,r]=UD(n);e[r]={bindingPropertyName:s,classPropertyName:r,required:!1,isSignal:!1,transformFunction:null}}else e[n.name]={bindingPropertyName:n.alias||n.name,classPropertyName:n.name,required:n.required||!1,isSignal:!1,transformFunction:n.transform!=null?new te(n.transform):null};return e},{})}function pv(t){return t.reduce((e,n)=>{let[s,r]=UD(n);return e[r]=s,e},{})}function UD(t){let[e,n]=t.split(":",2).map(s=>s.trim());return[n??e,e]}function lj(t){return{name:t.type.name,type:Qe(t.type),typeArgumentCount:0,pipeName:t.name,deps:null,pure:t.pure??!0,isStandalone:t.isStandalone??!1}}function uj(t){return{name:t.type.name,type:Qe(t.type),providers:t.providers!==void 0&&t.providers.length>0?new te(t.providers):null,imports:t.imports!==void 0?t.imports.map(e=>new te(e)):[]}}function dj(t){let e=t.ng||(t.ng={});e.\u0275compilerFacade=new fv}var tG=new Pg("17.3.2");var gv=class{constructor(){this.closedByParent=!1,this.implicitNamespacePrefix=null,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0,this.preventNamespaceInheritance=!1}requireExtraParent(e){return!1}isClosedByChild(e){return!1}getContentType(){return Bn.PARSABLE_DATA}},nG=new gv;dj(Xa);var zD=(()=>{let e=class e{constructor(s){this.http=s}downloadTransactions(s,r=0,i=500){let o=`https://api.ergoplatform.com/api/v1/addresses/${s}/transactions?offset=${r}&limit=${i}`;return console.log("Downloading from: "+o),this.http.get(o)}};e.\u0275fac=function(r){return new(r||e)(U(Yp))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vh=(()=>{let e=class e{constructor(){this.dbName="ergoDatabase14",this.storeName="inputBoxes",this.dbPromise=this.initIndexedDB()}initIndexedDB(){return new Promise((s,r)=>{let i=window.indexedDB.open(this.dbName,1);i.onupgradeneeded=o=>{o.target.result.createObjectStore(this.storeName,{keyPath:"boxId"})},i.onsuccess=o=>{let a=o.target.result;s(a)},i.onerror=o=>{console.error("Error opening IndexedDB:",o.target.error),r(o.target.error)}})}getDB(){return Tn(this,null,function*(){return yield this.dbPromise})}getData(){return Tn(this,null,function*(){let s=yield this.getDB();return new Promise((r,i)=>{let c=s.transaction([this.storeName],"readonly").objectStore(this.storeName).getAll();c.onsuccess=()=>{r(c.result)},c.onerror=l=>{i(l.target.error)}})})}addData(s,r){return Tn(this,null,function*(){let i=yield this.getDB();return r.outputAddress=s,new Promise((o,a)=>{let u=i.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(r);u.onsuccess=()=>{o()},u.onerror=d=>{a(d.target.error)}})})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var qD=(()=>{let e=class e{constructor(s){this.storageService=s,this.rewardsCardanoAddress="2Eit2LFRqu2Mo33z3pYTJRHNCPYS33MrU9QgeNcRsF9359pYMahqnLvKsHwwH72C6WDSZRj7G7WC5heVyUEawcSLSx821iJXT4xWf2F5fjVWDUskGdVdyYY5RBJnp3dfYC7iPoRNeopAFQWFwEbTieow347UhRyqvo2LntFpXzomvGwVTfq9YXS8Z1GGW5mUEioD5xC17Sz72NLbQrskSx7QZAxQTbMGh6vwM9J4q7NzRmQeHmWaHLpUHMU4Jdd5ccKumMvAY8d5C8RxB4iATySLY2N1wY84qNsWNaqkNofbUebf6LgmU9HTKAmU3nDoBfX7mhCjH8kXDhZeYdRsuLVFEYu83TkpwgHAYGmUoemxWAeA2BKMx8CBAy9jxbCyUjdnk9i7sLxuejrwLLh8W4tP81YkESjZ8BV65BhzPdvCaiX8vBSorgFfnvGKVzwfhhsSDwLY1GUwLTMLwTUTjSzEjsMX9hzsEEEmhxLsekabLmK3HZ1jssLrFryNuE59uS51hazJsi3gsT8SBk1J9YV6Dq6xto28nLqrMqK6raqLcAm2iU8hBtqdoSXqWzsrZHpqc2uLGhY52ee4k9TpFBvN1RovYUtY6KS4FncT4UgnbEFkzsnWYKX3CDn16tJs5CyZ97gKcvUonZ5EqTwabzni14CcQsTtKtEAqj1odvSyfJ94NnEjuiVPC3VmZbQvveN3bQ",this.rewardsErgoAddress="2Eit2LFRqu2Mo33z3pYTJRHNCPYS33MrU9QgeNcRsF9359pYMahqnLvKsHwwH72C6WDSZRj7G7WC5heVyUEawcSLSx821iJXT4xWf2F5fjVWDUmvtxr3QSv1aLwThLXxeqYCCc34xjxZDPqPyNGYvWLNeBZxATvBeDuQ6pSiiRFknqmvYVsm9eH4Et3eRHCyxDJEoqZsAahwfVSya34dZNHmjaPQkwWo3Coc17pxiEnWuWmG38wSJz1awE6cymzhojnjxDTbbXgjR1yfYU3AU2v9zttnT8Gz3gUzZNSwjiXSPu3G9zkDaFZVKqb5QwTWY3Pp6SFJgBQfx3C3sp4a9d3n9c98pfWFWAGQN5EfkoHosF8BQTDuzXG3NU8gVCNeNPXYA8iWCbvY3XpxQMvQUxqkjDv9VQfUNvAKVHLW43chi2rdBrQ7Teu6NnesLRWUKXpzSxpByWftkCCdBppjZtYmhhCHqpQGkQyTcMRoP2krFKe7xKbfnFkdkhaYH9TTdKuTuKtGb265RXxiqrc34KvkZpaBBQB5UvoCU4iLSDngNTjqkNPnWekDahzNHLd6CtcdC1B19jdGEXWeNADemDtdK4zrMNg7U8iVpyGYhLDnkeLVrcbhoxkHxrFwfrN19XvitDosQqmt9dseR6SWHBCDZJdmJecCiEwd2wBiwN5N5umEy3Dd4Hznv7kDr6eX7KtYxp"}getInputs(){return Tn(this,null,function*(){var s=this.storageService.getData();try{var r=(yield s).filter(o=>o.address===this.rewardsCardanoAddress||o.address===this.rewardsErgoAddress).sort((o,a)=>a.outputCreatedAt-o.outputCreatedAt);return r.forEach(o=>{o.assets=o.assets.filter(a=>a.name==="RSN").map(a=>a)}),yield new Promise((o,a)=>{o(r)})}catch(i){return console.error(i),[]}})}getTotalRewards(){return Tn(this,null,function*(){var s=this.getInputs();try{var r=(yield s).reduce((o,a)=>{var c=0;return a.assets.forEach(l=>{c+=l.amount/Math.pow(10,l.decimals)}),o+c},0);return yield new Promise((o,a)=>{o(r.toFixed(3))})}catch(i){return console.error(i),""}})}getAddresses(){return Tn(this,null,function*(){var s=this.getInputs(),r=[];try{return(yield s).forEach(o=>{r[o.outputAddress]=""}),yield new Promise((o,a)=>{o(r)})}catch(i){return console.error(i),r}})}};e.\u0275fac=function(r){return new(r||e)(U(vh))},e.\u0275prov=le({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qc(t){return t+.5|0}var mr=(t,e,n)=>Math.max(Math.min(t,n),e);function zc(t){return mr(qc(t*2.55),0,255)}function vr(t){return mr(qc(t*255),0,255)}function Ts(t){return mr(qc(t/2.55)/100,0,1)}function GD(t){return mr(qc(t*100),0,100)}var un={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Uv=[..."0123456789ABCDEF"],pj=t=>Uv[t&15],gj=t=>Uv[(t&240)>>4]+Uv[t&15],yh=t=>(t&240)>>4===(t&15),mj=t=>yh(t.r)&&yh(t.g)&&yh(t.b)&&yh(t.a);function vj(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&un[t[1]]*17,g:255&un[t[2]]*17,b:255&un[t[3]]*17,a:e===5?un[t[4]]*17:255}:(e===7||e===9)&&(n={r:un[t[1]]<<4|un[t[2]],g:un[t[3]]<<4|un[t[4]],b:un[t[5]]<<4|un[t[6]],a:e===9?un[t[7]]<<4|un[t[8]]:255})),n}var yj=(t,e)=>t<255?e(t):"";function wj(t){var e=mj(t)?pj:gj;return t?"#"+e(t.r)+e(t.g)+e(t.b)+yj(t.a,e):void 0}var bj=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ZD(t,e,n){let s=e*Math.min(n,1-n),r=(i,o=(i+t/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function Ej(t,e,n){let s=(r,i=(r+t/60)%6)=>n-n*e*Math.max(Math.min(i,4-i,1),0);return[s(5),s(3),s(1)]}function xj(t,e,n){let s=ZD(t,1,.5),r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)s[r]*=1-e-n,s[r]+=e;return s}function Cj(t,e,n,s,r){return t===r?(e-n)/s+(e<n?6:0):e===r?(n-t)/s+2:(t-e)/s+4}function zv(t){let n=t.r/255,s=t.g/255,r=t.b/255,i=Math.max(n,s,r),o=Math.min(n,s,r),a=(i+o)/2,c,l,u;return i!==o&&(u=i-o,l=a>.5?u/(2-i-o):u/(i+o),c=Cj(n,s,r,u,i),c=c*60+.5),[c|0,l||0,a]}function Wv(t,e,n,s){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,s)).map(vr)}function qv(t,e,n){return Wv(ZD,t,e,n)}function Sj(t,e,n){return Wv(xj,t,e,n)}function Dj(t,e,n){return Wv(Ej,t,e,n)}function KD(t){return(t%360+360)%360}function _j(t){let e=bj.exec(t),n=255,s;if(!e)return;e[5]!==s&&(n=e[6]?zc(+e[5]):vr(+e[5]));let r=KD(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?s=Sj(r,i,o):e[1]==="hsv"?s=Dj(r,i,o):s=qv(r,i,o),{r:s[0],g:s[1],b:s[2],a:n}}function Ij(t,e){var n=zv(t);n[0]=KD(n[0]+e),n=qv(n),t.r=n[0],t.g=n[1],t.b=n[2]}function Tj(t){if(!t)return;let e=zv(t),n=e[0],s=GD(e[1]),r=GD(e[2]);return t.a<255?`hsla(${n}, ${s}%, ${r}%, ${Ts(t.a)})`:`hsl(${n}, ${s}%, ${r}%)`}var YD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},XD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Aj(){let t={},e=Object.keys(XD),n=Object.keys(YD),s,r,i,o,a;for(s=0;s<e.length;s++){for(o=a=e[s],r=0;r<n.length;r++)i=n[r],a=a.replace(i,YD[i]);i=parseInt(XD[o],16),t[a]=[i>>16&255,i>>8&255,i&255]}return t}var wh;function Mj(t){wh||(wh=Aj(),wh.transparent=[0,0,0,0]);let e=wh[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var Nj=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function kj(t){let e=Nj.exec(t),n=255,s,r,i;if(e){if(e[7]!==s){let o=+e[7];n=e[8]?zc(o):mr(o*255,0,255)}return s=+e[1],r=+e[3],i=+e[5],s=255&(e[2]?zc(s):mr(s,0,255)),r=255&(e[4]?zc(r):mr(r,0,255)),i=255&(e[6]?zc(i):mr(i,0,255)),{r:s,g:r,b:i,a:n}}}function Pj(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ts(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var Hv=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Jo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function Rj(t,e,n){let s=Jo(Ts(t.r)),r=Jo(Ts(t.g)),i=Jo(Ts(t.b));return{r:vr(Hv(s+n*(Jo(Ts(e.r))-s))),g:vr(Hv(r+n*(Jo(Ts(e.g))-r))),b:vr(Hv(i+n*(Jo(Ts(e.b))-i))),a:t.a+n*(e.a-t.a)}}function bh(t,e,n){if(t){let s=zv(t);s[e]=Math.max(0,Math.min(s[e]+s[e]*n,e===0?360:1)),s=qv(s),t.r=s[0],t.g=s[1],t.b=s[2]}}function JD(t,e){return t&&Object.assign(e||{},t)}function QD(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=vr(t[3]))):(e=JD(t,{r:0,g:0,b:0,a:1}),e.a=vr(e.a)),e}function Oj(t){return t.charAt(0)==="r"?kj(t):_j(t)}var Wc=class t{constructor(e){if(e instanceof t)return e;let n=typeof e,s;n==="object"?s=QD(e):n==="string"&&(s=vj(e)||Mj(e)||Oj(e)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var e=JD(this._rgb);return e&&(e.a=Ts(e.a)),e}set rgb(e){this._rgb=QD(e)}rgbString(){return this._valid?Pj(this._rgb):void 0}hexString(){return this._valid?wj(this._rgb):void 0}hslString(){return this._valid?Tj(this._rgb):void 0}mix(e,n){if(e){let s=this.rgb,r=e.rgb,i,o=n===i?.5:n,a=2*o-1,c=s.a-r.a,l=((a*c===-1?a:(a+c)/(1+a*c))+1)/2;i=1-l,s.r=255&l*s.r+i*r.r+.5,s.g=255&l*s.g+i*r.g+.5,s.b=255&l*s.b+i*r.b+.5,s.a=o*s.a+(1-o)*r.a,this.rgb=s}return this}interpolate(e,n){return e&&(this._rgb=Rj(this._rgb,e._rgb,n)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=vr(e),this}clearer(e){let n=this._rgb;return n.a*=1-e,this}greyscale(){let e=this._rgb,n=qc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){let n=this._rgb;return n.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return bh(this._rgb,2,e),this}darken(e){return bh(this._rgb,2,-e),this}saturate(e){return bh(this._rgb,1,e),this}desaturate(e){return bh(this._rgb,1,-e),this}rotate(e){return Ij(this._rgb,e),this}};function Jn(){}var u_=(()=>{let t=0;return()=>t++})();function ue(t){return t===null||typeof t>"u"}function Ae(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function re(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Fe(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Lt(t,e){return Fe(t)?t:e}function Y(t,e){return typeof t>"u"?e:t}var d_=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,Qv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function _e(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ye(t,e,n,s){let r,i,o;if(Ae(t))if(i=t.length,s)for(r=i-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<i;r++)e.call(n,t[r],r);else if(re(t))for(o=Object.keys(t),i=o.length,r=0;r<i;r++)e.call(n,t[o[r]],o[r])}function Xc(t,e){let n,s,r,i;if(!t||!e||t.length!==e.length)return!1;for(n=0,s=t.length;n<s;++n)if(r=t[n],i=e[n],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Sh(t){if(Ae(t))return t.map(Sh);if(re(t)){let e=Object.create(null),n=Object.keys(t),s=n.length,r=0;for(;r<s;++r)e[n[r]]=Sh(t[n[r]]);return e}return t}function h_(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Fj(t,e,n,s){if(!h_(t))return;let r=e[t],i=n[t];re(r)&&re(i)?ta(r,i,s):e[t]=Sh(i)}function ta(t,e,n){let s=Ae(e)?e:[e],r=s.length;if(!re(t))return t;n=n||{};let i=n.merger||Fj,o;for(let a=0;a<r;++a){if(o=s[a],!re(o))continue;let c=Object.keys(o);for(let l=0,u=c.length;l<u;++l)i(c[l],t,o,n)}return t}function sa(t,e){return ta(t,e,{merger:Lj})}function Lj(t,e,n){if(!h_(t))return;let s=e[t],r=n[t];re(s)&&re(r)?sa(s,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Sh(r))}var e_={"":t=>t,x:t=>t.x,y:t=>t.y};function Bj(t){let e=t.split("."),n=[],s="";for(let r of e)s+=r,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function Vj(t){let e=Bj(t);return n=>{for(let s of e){if(s==="")break;n=n&&n[s]}return n}}function Ns(t,e){return(e_[e]||(e_[e]=Vj(e)))(t)}function Th(t){return t.charAt(0).toUpperCase()+t.slice(1)}var ra=t=>typeof t<"u",As=t=>typeof t=="function",Zv=(t,e)=>{if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0};function f_(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var Me=Math.PI,Ne=2*Me,$j=Ne+Me,Dh=Number.POSITIVE_INFINITY,jj=Me/180,He=Me/2,Ii=Me/4,t_=Me*2/3,Ms=Math.log10,_n=Math.sign;function ia(t,e,n){return Math.abs(t-e)<n}function Kv(t){let e=Math.round(t);t=ia(t,e,t/1e3)?e:t;let n=Math.pow(10,Math.floor(Ms(t))),s=t/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function p_(t){let e=[],n=Math.sqrt(t),s;for(s=1;s<n;s++)t%s===0&&(e.push(s),e.push(t/s));return n===(n|0)&&e.push(n),e.sort((r,i)=>r-i).pop(),e}function Mi(t){return!isNaN(parseFloat(t))&&isFinite(t)}function g_(t,e){let n=Math.round(t);return n-e<=t&&n+e>=t}function Jv(t,e,n){let s,r,i;for(s=0,r=t.length;s<r;s++)i=t[s][n],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function dn(t){return t*(Me/180)}function Ah(t){return t*(180/Me)}function ey(t){if(!Fe(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function ty(t,e){let n=e.x-t.x,s=e.y-t.y,r=Math.sqrt(n*n+s*s),i=Math.atan2(s,n);return i<-.5*Me&&(i+=Ne),{angle:i,distance:r}}function _h(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Hj(t,e){return(t-e+$j)%Ne-Me}function Ft(t){return(t%Ne+Ne)%Ne}function oa(t,e,n,s){let r=Ft(t),i=Ft(e),o=Ft(n),a=Ft(i-r),c=Ft(o-r),l=Ft(r-i),u=Ft(r-o);return r===i||r===o||s&&i===o||a>c&&l<u}function Xe(t,e,n){return Math.max(e,Math.min(n,t))}function m_(t){return Xe(t,-32768,32767)}function es(t,e,n,s=1e-6){return t>=Math.min(e,n)-s&&t<=Math.max(e,n)+s}function Mh(t,e,n){n=n||(o=>t[o]<e);let s=t.length-1,r=0,i;for(;s-r>1;)i=r+s>>1,n(i)?r=i:s=i;return{lo:r,hi:s}}var Zn=(t,e,n,s)=>Mh(t,n,s?r=>{let i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),v_=(t,e,n)=>Mh(t,n,s=>t[s][e]>=n);function y_(t,e,n){let s=0,r=t.length;for(;s<r&&t[s]<e;)s++;for(;r>s&&t[r-1]>n;)r--;return s>0||r<t.length?t.slice(s,r):t}var w_=["push","pop","shift","splice","unshift"];function b_(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),w_.forEach(n=>{let s="_onData"+Th(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...i){let o=r.apply(this,i);return t._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...i)}),o}})})}function ny(t,e){let n=t._chartjs;if(!n)return;let s=n.listeners,r=s.indexOf(e);r!==-1&&s.splice(r,1),!(s.length>0)&&(w_.forEach(i=>{delete t[i]}),delete t._chartjs)}function sy(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var ry=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function iy(t,e){let n=[],s=!1;return function(...r){n=r,s||(s=!0,ry.call(window,()=>{s=!1,t.apply(e,n)}))}}function E_(t,e){let n;return function(...s){return e?(clearTimeout(n),n=setTimeout(t,e,s)):t.apply(this,s),e}}var Nh=t=>t==="start"?"left":t==="end"?"right":"center",ct=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,x_=(t,e,n,s)=>t===(s?"left":"right")?n:t==="center"?(e+n)/2:e;function oy(t,e,n){let s=e.length,r=0,i=s;if(t._sorted){let{iScale:o,_parsed:a}=t,c=o.axis,{min:l,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(r=Xe(Math.min(Zn(a,c,l).lo,n?s:Zn(e,c,o.getPixelForValue(l)).lo),0,s-1)),h?i=Xe(Math.max(Zn(a,o.axis,u,!0).hi+1,n?0:Zn(e,c,o.getPixelForValue(u),!0).hi+1),r,s)-r:i=s-r}return{start:r,count:i}}function ay(t){let{xScale:e,yScale:n,_scaleRanges:s}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!s)return t._scaleRanges=r,!0;let i=s.xmin!==e.min||s.xmax!==e.max||s.ymin!==n.min||s.ymax!==n.max;return Object.assign(s,r),i}var Eh=t=>t===0||t===1,n_=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ne/n)),s_=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ne/n)+1,ea={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*He)+1,easeOutSine:t=>Math.sin(t*He),easeInOutSine:t=>-.5*(Math.cos(Me*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Eh(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Eh(t)?t:n_(t,.075,.3),easeOutElastic:t=>Eh(t)?t:s_(t,.075,.3),easeInOutElastic(t){return Eh(t)?t:t<.5?.5*n_(t*2,.1125,.45):.5+.5*s_(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ea.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ea.easeInBounce(t*2)*.5:ea.easeOutBounce(t*2-1)*.5+.5};function cy(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ly(t){return cy(t)?t:new Wc(t)}function Gv(t){return cy(t)?t:new Wc(t).saturate(.5).darken(.1).hexString()}var Uj=["x","y","borderWidth","radius","tension"],zj=["color","borderColor","backgroundColor"];function Wj(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:zj},numbers:{type:"number",properties:Uj}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function qj(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var r_=new Map;function Gj(t,e){e=e||{};let n=t+JSON.stringify(e),s=r_.get(n);return s||(s=new Intl.NumberFormat(t,e),r_.set(n,s)),s}function aa(t,e,n){return Gj(e,n).format(t)}var C_={values(t){return Ae(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";let s=this.chart.options.locale,r,i=t;if(n.length>1){let l=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(l<1e-4||l>1e15)&&(r="scientific"),i=Yj(t,n)}let o=Ms(Math.abs(i)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(c,this.options.ticks.format),aa(t,s,c)},logarithmic(t,e,n){if(t===0)return"0";let s=n[e].significand||t/Math.pow(10,Math.floor(Ms(t)));return[1,2,3,5,10,15].includes(s)||e>.8*n.length?C_.numeric.call(this,t,e,n):""}};function Yj(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Qc={formatters:C_};function Xj(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Qc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var wr=Object.create(null),kh=Object.create(null);function Gc(t,e){if(!e)return t;let n=e.split(".");for(let s=0,r=n.length;s<r;++s){let i=n[s];t=t[i]||(t[i]=Object.create(null))}return t}function Yv(t,e,n){return typeof e=="string"?ta(Gc(t,e),n):ta(Gc(t,""),e)}var Xv=class{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,r)=>Gv(r.backgroundColor),this.hoverBorderColor=(s,r)=>Gv(r.borderColor),this.hoverColor=(s,r)=>Gv(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Yv(this,e,n)}get(e){return Gc(this,e)}describe(e,n){return Yv(kh,e,n)}override(e,n){return Yv(wr,e,n)}route(e,n,s,r){let i=Gc(this,e),o=Gc(this,s),a="_"+n;Object.defineProperties(i,{[a]:{value:i[n],writable:!0},[n]:{enumerable:!0,get(){let c=this[a],l=o[r];return re(c)?Object.assign({},l,c):Y(c,l)},set(c){this[a]=c}}})}apply(e){e.forEach(n=>n(this))}},Le=new Xv({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Wj,qj,Xj]);function Qj(t){return!t||ue(t.size)||ue(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Yc(t,e,n,s,r){let i=e[r];return i||(i=e[r]=t.measureText(r).width,n.push(r)),i>s&&(s=i),s}function S_(t,e,n,s){s=s||{};let r=s.data=s.data||{},i=s.garbageCollect=s.garbageCollect||[];s.font!==e&&(r=s.data={},i=s.garbageCollect=[],s.font=e),t.save(),t.font=e;let o=0,a=n.length,c,l,u,d,h;for(c=0;c<a;c++)if(d=n[c],d!=null&&!Ae(d))o=Yc(t,r,i,o,d);else if(Ae(d))for(l=0,u=d.length;l<u;l++)h=d[l],h!=null&&!Ae(h)&&(o=Yc(t,r,i,o,h));t.restore();let f=i.length/2;if(f>n.length){for(c=0;c<f;c++)delete r[i[c]];i.splice(0,f)}return o}function br(t,e,n){let s=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*s)/s+r}function uy(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Ph(t,e,n,s){dy(t,e,n,s,null)}function dy(t,e,n,s,r){let i,o,a,c,l,u,d,h,f=e.pointStyle,g=e.rotation,y=e.radius,v=(g||0)*jj;if(f&&typeof f=="object"&&(i=f.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(n,s),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(y)||y<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,s,r/2,y,0,0,Ne):t.arc(n,s,y,0,Ne),t.closePath();break;case"triangle":u=r?r/2:y,t.moveTo(n+Math.sin(v)*u,s-Math.cos(v)*y),v+=t_,t.lineTo(n+Math.sin(v)*u,s-Math.cos(v)*y),v+=t_,t.lineTo(n+Math.sin(v)*u,s-Math.cos(v)*y),t.closePath();break;case"rectRounded":l=y*.516,c=y-l,o=Math.cos(v+Ii)*c,d=Math.cos(v+Ii)*(r?r/2-l:c),a=Math.sin(v+Ii)*c,h=Math.sin(v+Ii)*(r?r/2-l:c),t.arc(n-d,s-a,l,v-Me,v-He),t.arc(n+h,s-o,l,v-He,v),t.arc(n+d,s+a,l,v,v+He),t.arc(n-h,s+o,l,v+He,v+Me),t.closePath();break;case"rect":if(!g){c=Math.SQRT1_2*y,u=r?r/2:c,t.rect(n-u,s-c,2*u,2*c);break}v+=Ii;case"rectRot":d=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,h=Math.sin(v)*(r?r/2:y),t.moveTo(n-d,s-a),t.lineTo(n+h,s-o),t.lineTo(n+d,s+a),t.lineTo(n-h,s+o),t.closePath();break;case"crossRot":v+=Ii;case"cross":d=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,h=Math.sin(v)*(r?r/2:y),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o);break;case"star":d=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,h=Math.sin(v)*(r?r/2:y),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o),v+=Ii,d=Math.cos(v)*(r?r/2:y),o=Math.cos(v)*y,a=Math.sin(v)*y,h=Math.sin(v)*(r?r/2:y),t.moveTo(n-d,s-a),t.lineTo(n+d,s+a),t.moveTo(n+h,s-o),t.lineTo(n-h,s+o);break;case"line":o=r?r/2:Math.cos(v)*y,a=Math.sin(v)*y,t.moveTo(n-o,s-a),t.lineTo(n+o,s+a);break;case"dash":t.moveTo(n,s),t.lineTo(n+Math.cos(v)*(r?r/2:y),s+Math.sin(v)*y);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Kn(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Zc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Kc(t){t.restore()}function D_(t,e,n,s,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){let i=(e.x+n.x)/2;t.lineTo(i,e.y),t.lineTo(i,n.y)}else r==="after"!=!!s?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function __(t,e,n,s){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(s?e.cp1x:e.cp2x,s?e.cp1y:e.cp2y,s?n.cp2x:n.cp1x,s?n.cp2y:n.cp1y,n.x,n.y)}function Zj(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ue(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Kj(t,e,n,s,r){if(r.strikethrough||r.underline){let i=t.measureText(s),o=e-i.actualBoundingBoxLeft,a=e+i.actualBoundingBoxRight,c=n-i.actualBoundingBoxAscent,l=n+i.actualBoundingBoxDescent,u=r.strikethrough?(c+l)/2:l;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Jj(t,e){let n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Er(t,e,n,s,r,i={}){let o=Ae(e)?e:[e],a=i.strokeWidth>0&&i.strokeColor!=="",c,l;for(t.save(),t.font=r.string,Zj(t,i),c=0;c<o.length;++c)l=o[c],i.backdrop&&Jj(t,i.backdrop),a&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ue(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(l,n,s,i.maxWidth)),t.fillText(l,n,s,i.maxWidth),Kj(t,n,s,l,i),s+=Number(r.lineHeight);t.restore()}function ca(t,e){let{x:n,y:s,w:r,h:i,radius:o}=e;t.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*Me,Me,!0),t.lineTo(n,s+i-o.bottomLeft),t.arc(n+o.bottomLeft,s+i-o.bottomLeft,o.bottomLeft,Me,He,!0),t.lineTo(n+r-o.bottomRight,s+i),t.arc(n+r-o.bottomRight,s+i-o.bottomRight,o.bottomRight,He,0,!0),t.lineTo(n+r,s+o.topRight),t.arc(n+r-o.topRight,s+o.topRight,o.topRight,0,-He,!0),t.lineTo(n+o.topLeft,s)}var e3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,t3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function n3(t,e){let n=(""+t).match(e3);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}var s3=t=>+t||0;function Rh(t,e){let n={},s=re(e),r=s?Object.keys(e):e,i=re(t)?s?o=>Y(t[o],t[e[o]]):o=>t[o]:()=>t;for(let o of r)n[o]=s3(i(o));return n}function hy(t){return Rh(t,{top:"y",right:"x",bottom:"y",left:"x"})}function xr(t){return Rh(t,["topLeft","topRight","bottomLeft","bottomRight"])}function lt(t){let e=hy(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Ge(t,e){t=t||{},e=e||Le.font;let n=Y(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let s=Y(t.style,e.style);s&&!(""+s).match(t3)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);let r={family:Y(t.family,e.family),lineHeight:n3(Y(t.lineHeight,e.lineHeight),n),size:n,style:s,weight:Y(t.weight,e.weight),string:""};return r.string=Qj(r),r}function la(t,e,n,s){let r=!0,i,o,a;for(i=0,o=t.length;i<o;++i)if(a=t[i],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&Ae(a)&&(a=a[n%a.length],r=!1),a!==void 0))return s&&!r&&(s.cacheable=!1),a}function I_(t,e,n){let{min:s,max:r}=t,i=Qv(e,(r-s)/2),o=(a,c)=>n&&a===0?0:a+c;return{min:o(s,-Math.abs(i)),max:o(r,i)}}function ks(t,e){return Object.assign(Object.create(t),e)}function Oh(t,e=[""],n,s,r=()=>t[0]){let i=n||t;typeof s>"u"&&(s=M_("_fallback",t));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:s,_getTarget:r,override:a=>Oh([a,...t],e,i,s)};return new Proxy(o,{deleteProperty(a,c){return delete a[c],delete a._keys,delete t[0][c],!0},get(a,c){return T_(a,c,()=>d3(c,e,t,a))},getOwnPropertyDescriptor(a,c){return Reflect.getOwnPropertyDescriptor(a._scopes[0],c)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,c){return o_(a).includes(c)},ownKeys(a){return o_(a)},set(a,c,l){let u=a._storage||(a._storage=r());return a[c]=u[c]=l,delete a._keys,!0}})}function Ai(t,e,n,s){let r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:fy(t,s),setContext:i=>Ai(t,i,n,s),override:i=>Ai(t.override(i),e,n,s)};return new Proxy(r,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,a){return T_(i,o,()=>i3(i,o,a))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,a){return t[o]=a,delete i[o],!0}})}function fy(t,e={scriptable:!0,indexable:!0}){let{_scriptable:n=e.scriptable,_indexable:s=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:s,isScriptable:As(n)?n:()=>n,isIndexable:As(s)?s:()=>s}}var r3=(t,e)=>t?t+Th(e):e,py=(t,e)=>re(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function T_(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];let s=n();return t[e]=s,s}function i3(t,e,n){let{_proxy:s,_context:r,_subProxy:i,_descriptors:o}=t,a=s[e];return As(a)&&o.isScriptable(e)&&(a=o3(e,a,t,n)),Ae(a)&&a.length&&(a=a3(e,a,t,o.isIndexable)),py(e,a)&&(a=Ai(a,r,i&&i[e],o)),a}function o3(t,e,n,s){let{_proxy:r,_context:i,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let c=e(i,o||s);return a.delete(t),py(t,c)&&(c=gy(r._scopes,r,t,c)),c}function a3(t,e,n,s){let{_proxy:r,_context:i,_subProxy:o,_descriptors:a}=n;if(typeof i.index<"u"&&s(t))return e[i.index%e.length];if(re(e[0])){let c=e,l=r._scopes.filter(u=>u!==c);e=[];for(let u of c){let d=gy(l,r,t,u);e.push(Ai(d,i,o&&o[t],a))}}return e}function A_(t,e,n){return As(t)?t(e,n):t}var c3=(t,e)=>t===!0?e:typeof t=="string"?Ns(e,t):void 0;function l3(t,e,n,s,r){for(let i of e){let o=c3(n,i);if(o){t.add(o);let a=A_(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function gy(t,e,n,s){let r=e._rootScopes,i=A_(e._fallback,n,s),o=[...t,...r],a=new Set;a.add(s);let c=i_(a,o,n,i||n,s);return c===null||typeof i<"u"&&i!==n&&(c=i_(a,o,i,c,s),c===null)?!1:Oh(Array.from(a),[""],r,i,()=>u3(e,n,s))}function i_(t,e,n,s,r){for(;n;)n=l3(t,e,n,s,r);return n}function u3(t,e,n){let s=t._getTarget();e in s||(s[e]={});let r=s[e];return Ae(r)&&re(n)?n:r||{}}function d3(t,e,n,s){let r;for(let i of e)if(r=M_(r3(i,t),n),typeof r<"u")return py(t,r)?gy(n,s,t,r):r}function M_(t,e){for(let n of e){if(!n)continue;let s=n[t];if(typeof s<"u")return s}}function o_(t){let e=t._keys;return e||(e=t._keys=h3(t._scopes)),e}function h3(t){let e=new Set;for(let n of t)for(let s of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(s);return Array.from(e)}function my(t,e,n,s){let{iScale:r}=t,{key:i="r"}=this._parsing,o=new Array(s),a,c,l,u;for(a=0,c=s;a<c;++a)l=a+n,u=e[l],o[a]={r:r.parse(Ns(u,i),l)};return o}var f3=Number.EPSILON||1e-14,na=(t,e)=>e<t.length&&!t[e].skip&&t[e],N_=t=>t==="x"?"y":"x";function p3(t,e,n,s){let r=t.skip?e:t,i=e,o=n.skip?e:n,a=_h(i,r),c=_h(o,i),l=a/(a+c),u=c/(a+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;let d=s*l,h=s*u;return{previous:{x:i.x-d*(o.x-r.x),y:i.y-d*(o.y-r.y)},next:{x:i.x+h*(o.x-r.x),y:i.y+h*(o.y-r.y)}}}function g3(t,e,n){let s=t.length,r,i,o,a,c,l=na(t,0);for(let u=0;u<s-1;++u)if(c=l,l=na(t,u+1),!(!c||!l)){if(ia(e[u],0,f3)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],i=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(i,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=i*o*e[u])}}function m3(t,e,n="x"){let s=N_(n),r=t.length,i,o,a,c=na(t,0);for(let l=0;l<r;++l){if(o=a,a=c,c=na(t,l+1),!a)continue;let u=a[n],d=a[s];o&&(i=(u-o[n])/3,a[`cp1${n}`]=u-i,a[`cp1${s}`]=d-i*e[l]),c&&(i=(c[n]-u)/3,a[`cp2${n}`]=u+i,a[`cp2${s}`]=d+i*e[l])}}function v3(t,e="x"){let n=N_(e),s=t.length,r=Array(s).fill(0),i=Array(s),o,a,c,l=na(t,0);for(o=0;o<s;++o)if(a=c,c=l,l=na(t,o+1),!!c){if(l){let u=l[e]-c[e];r[o]=u!==0?(l[n]-c[n])/u:0}i[o]=a?l?_n(r[o-1])!==_n(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}g3(t,r,i),m3(t,i,e)}function xh(t,e,n){return Math.max(Math.min(t,n),e)}function y3(t,e){let n,s,r,i,o,a=Kn(t[0],e);for(n=0,s=t.length;n<s;++n)o=i,i=a,a=n<s-1&&Kn(t[n+1],e),i&&(r=t[n],o&&(r.cp1x=xh(r.cp1x,e.left,e.right),r.cp1y=xh(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=xh(r.cp2x,e.left,e.right),r.cp2y=xh(r.cp2y,e.top,e.bottom)))}function k_(t,e,n,s,r){let i,o,a,c;if(e.spanGaps&&(t=t.filter(l=>!l.skip)),e.cubicInterpolationMode==="monotone")v3(t,r);else{let l=s?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)a=t[i],c=p3(l,a,t[Math.min(i+1,o-(s?0:1))%o],e.tension),a.cp1x=c.previous.x,a.cp1y=c.previous.y,a.cp2x=c.next.x,a.cp2y=c.next.y,l=a}e.capBezierPoints&&y3(t,n)}function Fh(){return typeof window<"u"&&typeof document<"u"}function Lh(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ih(t,e,n){let s;return typeof t=="string"?(s=parseInt(t,10),t.indexOf("%")!==-1&&(s=s/100*e.parentNode[n])):s=t,s}var Bh=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function w3(t,e){return Bh(t).getPropertyValue(e)}var b3=["top","right","bottom","left"];function Ti(t,e,n){let s={};n=n?"-"+n:"";for(let r=0;r<4;r++){let i=b3[r];s[i]=parseFloat(t[e+"-"+i+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}var E3=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function x3(t,e){let n=t.touches,s=n&&n.length?n[0]:t,{offsetX:r,offsetY:i}=s,o=!1,a,c;if(E3(r,i,t.target))a=r,c=i;else{let l=e.getBoundingClientRect();a=s.clientX-l.left,c=s.clientY-l.top,o=!0}return{x:a,y:c,box:o}}function Cr(t,e){if("native"in t)return t;let{canvas:n,currentDevicePixelRatio:s}=e,r=Bh(n),i=r.boxSizing==="border-box",o=Ti(r,"padding"),a=Ti(r,"border","width"),{x:c,y:l,box:u}=x3(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top),{width:f,height:g}=e;return i&&(f-=o.width+a.width,g-=o.height+a.height),{x:Math.round((c-d)/f*n.width/s),y:Math.round((l-h)/g*n.height/s)}}function C3(t,e,n){let s,r;if(e===void 0||n===void 0){let i=Lh(t);if(!i)e=t.clientWidth,n=t.clientHeight;else{let o=i.getBoundingClientRect(),a=Bh(i),c=Ti(a,"border","width"),l=Ti(a,"padding");e=o.width-l.width-c.width,n=o.height-l.height-c.height,s=Ih(a.maxWidth,i,"clientWidth"),r=Ih(a.maxHeight,i,"clientHeight")}}return{width:e,height:n,maxWidth:s||Dh,maxHeight:r||Dh}}var Ch=t=>Math.round(t*10)/10;function P_(t,e,n,s){let r=Bh(t),i=Ti(r,"margin"),o=Ih(r.maxWidth,t,"clientWidth")||Dh,a=Ih(r.maxHeight,t,"clientHeight")||Dh,c=C3(t,e,n),{width:l,height:u}=c;if(r.boxSizing==="content-box"){let h=Ti(r,"border","width"),f=Ti(r,"padding");l-=f.width+h.width,u-=f.height+h.height}return l=Math.max(0,l-i.width),u=Math.max(0,s?l/s:u-i.height),l=Ch(Math.min(l,o,c.maxWidth)),u=Ch(Math.min(u,a,c.maxHeight)),l&&!u&&(u=Ch(l/2)),(e!==void 0||n!==void 0)&&s&&c.height&&u>c.height&&(u=c.height,l=Ch(Math.floor(u*s))),{width:l,height:u}}function vy(t,e,n){let s=e||1,r=Math.floor(t.height*s),i=Math.floor(t.width*s);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==s||o.height!==r||o.width!==i?(t.currentDevicePixelRatio=s,o.height=r,o.width=i,t.ctx.setTransform(s,0,0,s,0,0),!0):!1}var R_=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};Fh()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function yy(t,e){let n=w3(t,e),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function yr(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function O_(t,e,n,s){return{x:t.x+n*(e.x-t.x),y:s==="middle"?n<.5?t.y:e.y:s==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function F_(t,e,n,s){let r={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=yr(t,r,n),a=yr(r,i,n),c=yr(i,e,n),l=yr(o,a,n),u=yr(a,c,n);return yr(l,u,n)}var S3=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},D3=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Ni(t,e,n){return t?S3(e,n):D3()}function wy(t,e){let n,s;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=s)}function by(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function L_(t){return t==="angle"?{between:oa,compare:Hj,normalize:Ft}:{between:es,compare:(e,n)=>e-n,normalize:e=>e}}function a_({start:t,end:e,count:n,loop:s,style:r}){return{start:t%n,end:e%n,loop:s&&(e-t+1)%n===0,style:r}}function _3(t,e,n){let{property:s,start:r,end:i}=n,{between:o,normalize:a}=L_(s),c=e.length,{start:l,end:u,loop:d}=t,h,f;if(d){for(l+=c,u+=c,h=0,f=c;h<f&&o(a(e[l%c][s]),r,i);++h)l--,u--;l%=c,u%=c}return u<l&&(u+=c),{start:l,end:u,loop:d,style:t.style}}function Ey(t,e,n){if(!n)return[t];let{property:s,start:r,end:i}=n,o=e.length,{compare:a,between:c,normalize:l}=L_(s),{start:u,end:d,loop:h,style:f}=_3(t,e,n),g=[],y=!1,v=null,b,x,C,D=()=>c(r,C,b)&&a(r,C)!==0,S=()=>a(i,b)===0||c(i,C,b),I=()=>y||D(),k=()=>!y||S();for(let M=u,A=u;M<=d;++M)x=e[M%o],!x.skip&&(b=l(x[s]),b!==C&&(y=c(b,r,i),v===null&&I()&&(v=a(b,r)===0?M:A),v!==null&&k()&&(g.push(a_({start:v,end:M,loop:h,count:o,style:f})),v=null),A=M,C=b));return v!==null&&g.push(a_({start:v,end:d,loop:h,count:o,style:f})),g}function xy(t,e){let n=[],s=t.segments;for(let r=0;r<s.length;r++){let i=Ey(s[r],t.points,e);i.length&&n.push(...i)}return n}function I3(t,e,n,s){let r=0,i=e-1;if(n&&!s)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(i+=r);i>r&&t[i%e].skip;)i--;return i%=e,{start:r,end:i}}function T3(t,e,n,s){let r=t.length,i=[],o=e,a=t[e],c;for(c=e+1;c<=n;++c){let l=t[c%r];l.skip||l.stop?a.skip||(s=!1,i.push({start:e%r,end:(c-1)%r,loop:s}),e=o=l.stop?c:null):(o=c,a.skip&&(e=c)),a=l}return o!==null&&i.push({start:e%r,end:o%r,loop:s}),i}function B_(t,e){let n=t.points,s=t.options.spanGaps,r=n.length;if(!r)return[];let i=!!t._loop,{start:o,end:a}=I3(n,r,i,s);if(s===!0)return c_(t,[{start:o,end:a,loop:i}],n,e);let c=a<o?a+r:a,l=!!t._fullLoop&&o===0&&a===r-1;return c_(t,T3(n,o,c,l),n,e)}function c_(t,e,n,s){return!s||!s.setContext||!n?e:A3(t,e,n,s)}function A3(t,e,n,s){let r=t._chart.getContext(),i=l_(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,c=n.length,l=[],u=i,d=e[0].start,h=d;function f(g,y,v,b){let x=a?-1:1;if(g!==y){for(g+=c;n[g%c].skip;)g-=x;for(;n[y%c].skip;)y+=x;g%c!==y%c&&(l.push({start:g%c,end:y%c,loop:v,style:b}),u=b,d=y%c)}}for(let g of e){d=a?d:g.start;let y=n[d%c],v;for(h=d+1;h<=g.end;h++){let b=n[h%c];v=l_(s.setContext(ks(r,{type:"segment",p0:y,p1:b,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),M3(v,u)&&f(d,h-1,g.loop,u),y=b,u=v}d<h-1&&f(d,h-1,g.loop,u)}return l}function l_(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function M3(t,e){if(!e)return!1;let n=[],s=function(r,i){return cy(i)?(n.includes(i)||n.push(i),n.indexOf(i)):i};return JSON.stringify(t,s)!==JSON.stringify(e,s)}var ky=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,s,r){let i=n.listeners[r],o=n.duration;i.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ry.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((s,r)=>{if(!s.running||!s.items.length)return;let i=s.items,o=i.length-1,a=!1,c;for(;o>=0;--o)c=i[o],c._active?(c._total>s.duration&&(s.duration=c._total),c.tick(e),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,s,e,"progress")),i.length||(s.running=!1,this._notify(r,s,e,"complete"),s.initial=!1),n+=i.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){let n=this._charts,s=n.get(e);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,s)),s}listen(e,n,s){this._getAnims(e).listeners[n].push(s)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){let n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,r)=>Math.max(s,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){let n=this._charts.get(e);if(!n||!n.items.length)return;let s=n.items,r=s.length-1;for(;r>=0;--r)s[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Ps=new ky,V_="transparent",N3={boolean(t,e,n){return n>.5?e:t},color(t,e,n){let s=ly(t||V_),r=s.valid&&ly(e||V_);return r&&r.valid?r.mix(s,n).hexString():e},number(t,e,n){return t+(e-t)*n}},Py=class{constructor(e,n,s,r){let i=n[s];r=la([e.to,r,i,e.from]);let o=la([e.from,i,r]);this._active=!0,this._fn=e.fn||N3[e.type||typeof o],this._easing=ea[e.easing]||ea.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=s,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,s){if(this._active){this._notify(!1);let r=this._target[this._prop],i=s-this._start,o=this._duration-i;this._start=s,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=la([e.to,n,r,e.from]),this._from=la([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let n=e-this._start,s=this._duration,r=this._prop,i=this._from,o=this._loop,a=this._to,c;if(this._active=i!==a&&(o||n<s),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=i;return}c=n/s%2,c=o&&c>1?2-c:c,c=this._easing(Math.min(1,Math.max(0,c))),this._target[r]=this._fn(i,a,c)}wait(){let e=this._promises||(this._promises=[]);return new Promise((n,s)=>{e.push({res:n,rej:s})})}_notify(e){let n=e?"res":"rej",s=this._promises||[];for(let r=0;r<s.length;r++)s[r][n]()}},Yh=class{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!re(e))return;let n=Object.keys(Le.animation),s=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let i=e[r];if(!re(i))return;let o={};for(let a of n)o[a]=i[a];(Ae(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!s.has(a))&&s.set(a,o)})})}_animateOptions(e,n){let s=n.options,r=P3(e,s);if(!r)return[];let i=this._createAnimations(r,s);return s.$shared&&k3(e.options.$animations,s).then(()=>{e.options=s},()=>{}),i}_createAnimations(e,n){let s=this._properties,r=[],i=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now(),c;for(c=o.length-1;c>=0;--c){let l=o[c];if(l.charAt(0)==="$")continue;if(l==="options"){r.push(...this._animateOptions(e,n));continue}let u=n[l],d=i[l],h=s.get(l);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[l]=u;continue}i[l]=d=new Py(h,e,l,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}let s=this._createAnimations(e,n);if(s.length)return Ps.add(this._chart,s),!0}};function k3(t,e){let n=[],s=Object.keys(e);for(let r=0;r<s.length;r++){let i=t[s[r]];i&&i.active()&&n.push(i.wait())}return Promise.all(n)}function P3(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function $_(t,e){let n=t&&t.options||{},s=n.reverse,r=n.min===void 0?e:0,i=n.max===void 0?e:0;return{start:s?i:r,end:s?r:i}}function R3(t,e,n){if(n===!1)return!1;let s=$_(t,n),r=$_(e,n);return{top:r.end,right:s.end,bottom:r.start,left:s.start}}function O3(t){let e,n,s,r;return re(t)?(e=t.top,n=t.right,s=t.bottom,r=t.left):e=n=s=r=t,{top:e,right:n,bottom:s,left:r,disabled:t===!1}}function $I(t,e){let n=[],s=t._getSortedDatasetMetas(e),r,i;for(r=0,i=s.length;r<i;++r)n.push(s[r].index);return n}function j_(t,e,n,s={}){let r=t.keys,i=s.mode==="single",o,a,c,l;if(e!==null){for(o=0,a=r.length;o<a;++o){if(c=+r[o],c===n){if(s.all)continue;break}l=t.values[c],Fe(l)&&(i||e===0||_n(e)===_n(l))&&(e+=l)}return e}}function F3(t){let e=Object.keys(t),n=new Array(e.length),s,r,i;for(s=0,r=e.length;s<r;++s)i=e[s],n[s]={x:i,y:t[i]};return n}function H_(t,e){let n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function L3(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function B3(t){let{min:e,max:n,minDefined:s,maxDefined:r}=t.getUserBounds();return{min:s?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function V3(t,e,n){let s=t[e]||(t[e]={});return s[n]||(s[n]={})}function U_(t,e,n,s){for(let r of e.getMatchingVisibleMetas(s).reverse()){let i=t[r.index];if(n&&i>0||!n&&i<0)return r.index}return null}function z_(t,e){let{chart:n,_cachedMeta:s}=t,r=n._stacks||(n._stacks={}),{iScale:i,vScale:o,index:a}=s,c=i.axis,l=o.axis,u=L3(i,o,s),d=e.length,h;for(let f=0;f<d;++f){let g=e[f],{[c]:y,[l]:v}=g,b=g._stacks||(g._stacks={});h=b[l]=V3(r,u,y),h[a]=v,h._top=U_(h,o,!0,s.type),h._bottom=U_(h,o,!1,s.type);let x=h._visualValues||(h._visualValues={});x[a]=v}}function Cy(t,e){let n=t.scales;return Object.keys(n).filter(s=>n[s].axis===e).shift()}function $3(t,e){return ks(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function j3(t,e,n){return ks(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Jc(t,e){let n=t.controller.index,s=t.vScale&&t.vScale.axis;if(s){e=e||t._parsed;for(let r of e){let i=r._stacks;if(!i||i[s]===void 0||i[s][n]===void 0)return;delete i[s][n],i[s]._visualValues!==void 0&&i[s]._visualValues[n]!==void 0&&delete i[s]._visualValues[n]}}}var Sy=t=>t==="reset"||t==="none",W_=(t,e)=>e?t:Object.assign({},t),H3=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:$I(n,!0),values:null},Dr=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,s){this.chart=n,this._ctx=n.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=H_(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&Jc(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,s=this._cachedMeta,r=this.getDataset(),i=(h,f,g,y)=>h==="x"?f:h==="r"?y:g,o=s.xAxisID=Y(r.xAxisID,Cy(n,"x")),a=s.yAxisID=Y(r.yAxisID,Cy(n,"y")),c=s.rAxisID=Y(r.rAxisID,Cy(n,"r")),l=s.indexAxis,u=s.iAxisID=i(l,o,a,c),d=s.vAxisID=i(l,a,o,c);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(a),s.rScale=this.getScaleForId(c),s.iScale=this.getScaleForId(u),s.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let s=this._cachedMeta;return n===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&ny(this._data,this),n._stacked&&Jc(n)}_dataCheck(){let n=this.getDataset(),s=n.data||(n.data=[]),r=this._data;if(re(s))this._data=F3(s);else if(r!==s){if(r){ny(r,this);let i=this._cachedMeta;Jc(i),i._parsed=[]}s&&Object.isExtensible(s)&&b_(s,this),this._syncList=[],this._data=s}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let s=this._cachedMeta,r=this.getDataset(),i=!1;this._dataCheck();let o=s._stacked;s._stacked=H_(s.vScale,s),s.stack!==r.stack&&(i=!0,Jc(s),s.stack=r.stack),this._resyncElements(n),(i||o!==s._stacked)&&z_(this,s._parsed)}configure(){let n=this.chart.config,s=n.datasetScopeKeys(this._type),r=n.getOptionScopes(this.getDataset(),s,!0);this.options=n.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,s){let{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:a}=r,c=o.axis,l=n===0&&s===i.length?!0:r._sorted,u=n>0&&r._parsed[n-1],d,h,f;if(this._parsing===!1)r._parsed=i,r._sorted=!0,f=i;else{Ae(i[n])?f=this.parseArrayData(r,i,n,s):re(i[n])?f=this.parseObjectData(r,i,n,s):f=this.parsePrimitiveData(r,i,n,s);let g=()=>h[c]===null||u&&h[c]<u[c];for(d=0;d<s;++d)r._parsed[d+n]=h=f[d],l&&(g()&&(l=!1),u=h);r._sorted=l}a&&z_(this,f)}parsePrimitiveData(n,s,r,i){let{iScale:o,vScale:a}=n,c=o.axis,l=a.axis,u=o.getLabels(),d=o===a,h=new Array(i),f,g,y;for(f=0,g=i;f<g;++f)y=f+r,h[f]={[c]:d||o.parse(u[y],y),[l]:a.parse(s[y],y)};return h}parseArrayData(n,s,r,i){let{xScale:o,yScale:a}=n,c=new Array(i),l,u,d,h;for(l=0,u=i;l<u;++l)d=l+r,h=s[d],c[l]={x:o.parse(h[0],d),y:a.parse(h[1],d)};return c}parseObjectData(n,s,r,i){let{xScale:o,yScale:a}=n,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=new Array(i),d,h,f,g;for(d=0,h=i;d<h;++d)f=d+r,g=s[f],u[d]={x:o.parse(Ns(g,c),f),y:a.parse(Ns(g,l),f)};return u}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,s,r){let i=this.chart,o=this._cachedMeta,a=s[n.axis],c={keys:$I(i,!0),values:s._stacks[n.axis]._visualValues};return j_(c,a,o.index,{mode:r})}updateRangeFromParsed(n,s,r,i){let o=r[s.axis],a=o===null?NaN:o,c=i&&r._stacks[s.axis];i&&c&&(i.values=c,a=j_(i,o,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,s){let r=this._cachedMeta,i=r._parsed,o=r._sorted&&n===r.iScale,a=i.length,c=this._getOtherScale(n),l=H3(s,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=B3(c),f,g;function y(){g=i[f];let v=g[c.axis];return!Fe(g[n.axis])||d>v||h<v}for(f=0;f<a&&!(!y()&&(this.updateRangeFromParsed(u,n,g,l),o));++f);if(o){for(f=a-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(u,n,g,l);break}}return u}getAllParsedValues(n){let s=this._cachedMeta._parsed,r=[],i,o,a;for(i=0,o=s.length;i<o;++i)a=s[i][n.axis],Fe(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(n){let s=this._cachedMeta,r=s.iScale,i=s.vScale,o=this.getParsed(n);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(n){let s=this._cachedMeta;this.update(n||"default"),s._clip=O3(Y(this.options.clip,R3(s.xScale,s.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,s=this.chart,r=this._cachedMeta,i=r.data||[],o=s.chartArea,a=[],c=this._drawStart||0,l=this._drawCount||i.length-c,u=this.options.drawActiveElementsOnTop,d;for(r.dataset&&r.dataset.draw(n,o,c,l),d=c;d<c+l;++d){let h=i[d];h.hidden||(h.active&&u?a.push(h):h.draw(n,o))}for(d=0;d<a.length;++d)a[d].draw(n,o)}getStyle(n,s){let r=s?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(n||0,r)}getContext(n,s,r){let i=this.getDataset(),o;if(n>=0&&n<this._cachedMeta.data.length){let a=this._cachedMeta.data[n];o=a.$context||(a.$context=j3(this.getContext(),n,a)),o.parsed=this.getParsed(n),o.raw=i.data[n],o.index=o.dataIndex=n}else o=this.$context||(this.$context=$3(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=r,o}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,s){return this._resolveElementOptions(this.dataElementType.id,s,n)}_resolveElementOptions(n,s="default",r){let i=s==="active",o=this._cachedDataOpts,a=n+"-"+s,c=o[a],l=this.enableOptionSharing&&ra(r);if(c)return W_(c,l);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,n),h=i?[`${n}Hover`,"hover",n,""]:[n,""],f=u.getOptionScopes(this.getDataset(),d),g=Object.keys(Le.elements[n]),y=()=>this.getContext(r,i,s),v=u.resolveNamedOptions(f,g,y,h);return v.$shared&&(v.$shared=l,o[a]=Object.freeze(W_(v,l))),v}_resolveAnimations(n,s,r){let i=this.chart,o=this._cachedDataOpts,a=`animation-${s}`,c=o[a];if(c)return c;let l;if(i.options.animation!==!1){let d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,s),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(n,r,s))}let u=new Yh(i,l&&l.animations);return l&&l._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,s){return!s||Sy(n)||this.chart._animationsDisabled}_getSharedOptions(n,s){let r=this.resolveDataElementOptions(n,s),i=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(s,o)||o!==i;return this.updateSharedOptions(o,s,r),{sharedOptions:o,includeOptions:a}}updateElement(n,s,r,i){Sy(i)?Object.assign(n,r):this._resolveAnimations(s,i).update(n,r)}updateSharedOptions(n,s,r){n&&!Sy(s)&&this._resolveAnimations(void 0,s).update(n,r)}_setStyle(n,s,r,i){n.active=i;let o=this.getStyle(s,i);this._resolveAnimations(s,r,i).update(n,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(n,s,r){this._setStyle(n,r,"active",!1)}setHoverStyle(n,s,r){this._setStyle(n,r,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let s=this._data,r=this._cachedMeta.data;for(let[c,l,u]of this._syncList)this[c](l,u);this._syncList=[];let i=r.length,o=s.length,a=Math.min(o,i);a&&this.parse(0,a),o>i?this._insertElements(i,o-i,n):o<i&&this._removeElements(o,i-o)}_insertElements(n,s,r=!0){let i=this._cachedMeta,o=i.data,a=n+s,c,l=u=>{for(u.length+=s,c=u.length-1;c>=a;c--)u[c]=u[c-s]};for(l(o),c=n;c<a;++c)o[c]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(n,s),r&&this.updateElements(o,n,s,"reset")}updateElements(n,s,r,i){}_removeElements(n,s){let r=this._cachedMeta;if(this._parsing){let i=r._parsed.splice(n,s);r._stacked&&Jc(r,i)}r.data.splice(n,s)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[s,r,i]=n;this[s](r,i)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,s){s&&this._sync(["_removeElements",n,s]);let r=arguments.length-2;r&&this._sync(["_insertElements",n,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function U3(t,e){if(!t._cache.$bar){let n=t.getMatchingVisibleMetas(e),s=[];for(let r=0,i=n.length;r<i;r++)s=s.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=sy(s.sort((r,i)=>r-i))}return t._cache.$bar}function z3(t){let e=t.iScale,n=U3(e,t.type),s=e._length,r,i,o,a,c=()=>{o===32767||o===-32768||(ra(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(r=0,i=n.length;r<i;++r)o=e.getPixelForValue(n[r]),c();for(a=void 0,r=0,i=e.ticks.length;r<i;++r)o=e.getPixelForTick(r),c();return s}function W3(t,e,n,s){let r=n.barThickness,i,o;return ue(r)?(i=e.min*n.categoryPercentage,o=n.barPercentage):(i=r*s,o=1),{chunk:i/s,ratio:o,start:e.pixels[t]-i/2}}function q3(t,e,n,s){let r=e.pixels,i=r[t],o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null,c=n.categoryPercentage;o===null&&(o=i-(a===null?e.end-e.start:a-i)),a===null&&(a=i+i-o);let l=i-(i-Math.min(o,a))/2*c;return{chunk:Math.abs(a-o)/2*c/s,ratio:n.barPercentage,start:l}}function G3(t,e,n,s){let r=n.parse(t[0],s),i=n.parse(t[1],s),o=Math.min(r,i),a=Math.max(r,i),c=o,l=a;Math.abs(o)>Math.abs(a)&&(c=a,l=o),e[n.axis]=l,e._custom={barStart:c,barEnd:l,start:r,end:i,min:o,max:a}}function jI(t,e,n,s){return Ae(t)?G3(t,e,n,s):e[n.axis]=n.parse(t,s),e}function q_(t,e,n,s){let r=t.iScale,i=t.vScale,o=r.getLabels(),a=r===i,c=[],l,u,d,h;for(l=n,u=n+s;l<u;++l)h=e[l],d={},d[r.axis]=a||r.parse(o[l],l),c.push(jI(h,d,i,l));return c}function Dy(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Y3(t,e,n){return t!==0?_n(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function X3(t){let e,n,s,r,i;return t.horizontal?(e=t.base>t.x,n="left",s="right"):(e=t.base<t.y,n="bottom",s="top"),e?(r="end",i="start"):(r="start",i="end"),{start:n,end:s,reverse:e,top:r,bottom:i}}function Q3(t,e,n,s){let r=e.borderSkipped,i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:c,top:l,bottom:u}=X3(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===s?r=l:(n._bottom||0)===s?r=u:(i[G_(u,o,a,c)]=!0,r=l)),i[G_(r,o,a,c)]=!0,t.borderSkipped=i}function G_(t,e,n,s){return s?(t=Z3(t,e,n),t=Y_(t,n,e)):t=Y_(t,e,n),t}function Z3(t,e,n){return t===e?n:t===n?e:t}function Y_(t,e,n){return t==="start"?e:t==="end"?n:t}function K3(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}var J3=(()=>{class t extends Dr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,s,r,i){return q_(n,s,r,i)}parseArrayData(n,s,r,i){return q_(n,s,r,i)}parseObjectData(n,s,r,i){let{iScale:o,vScale:a}=n,{xAxisKey:c="x",yAxisKey:l="y"}=this._parsing,u=o.axis==="x"?c:l,d=a.axis==="x"?c:l,h=[],f,g,y,v;for(f=r,g=r+i;f<g;++f)v=s[f],y={},y[o.axis]=o.parse(Ns(v,u),f),h.push(jI(Ns(v,d),y,a,f));return h}updateRangeFromParsed(n,s,r,i){super.updateRangeFromParsed(n,s,r,i);let o=r._custom;o&&s===this._cachedMeta.vScale&&(n.min=Math.min(n.min,o.min),n.max=Math.max(n.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let s=this._cachedMeta,{iScale:r,vScale:i}=s,o=this.getParsed(n),a=o._custom,c=Dy(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,n)}updateElements(n,s,r,i){let o=i==="reset",{index:a,_cachedMeta:{vScale:c}}=this,l=c.getBasePixel(),u=c.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(s,i);for(let g=s;g<s+r;g++){let y=this.getParsed(g),v=o||ue(y[c.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),b=this._calculateBarIndexPixels(g,d),x=(y._stacks||{})[c.axis],C={horizontal:u,base:v.base,enableBorderRadius:!x||Dy(y._custom)||a===x._top||a===x._bottom,x:u?v.head:b.center,y:u?b.center:v.head,height:u?b.size:Math.abs(v.size),width:u?Math.abs(v.size):b.size};f&&(C.options=h||this.resolveDataElementOptions(g,n[g].active?"active":i));let D=C.options||n[g].options;Q3(C,D,x,a),K3(C,D,d.ratio),this.updateElement(n[g],g,C,i)}}_getStacks(n,s){let{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=r.options.stacked,a=[],c=l=>{let u=l.controller.getParsed(s),d=u&&u[l.vScale.axis];if(ue(d)||isNaN(d))return!0};for(let l of i)if(!(s!==void 0&&c(l))&&((o===!1||a.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0)&&a.push(l.stack),l.index===n))break;return a.length||a.push(void 0),a}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,s,r){let i=this._getStacks(n,r),o=s!==void 0?i.indexOf(s):-1;return o===-1?i.length-1:o}_getRuler(){let n=this.options,s=this._cachedMeta,r=s.iScale,i=[],o,a;for(o=0,a=s.data.length;o<a;++o)i.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let c=n.barThickness;return{min:c||z3(s),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:n.grouped,ratio:c?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:s,_stacked:r,index:i},options:{base:o,minBarLength:a}}=this,c=o||0,l=this.getParsed(n),u=l._custom,d=Dy(u),h=l[s.axis],f=0,g=r?this.applyStack(s,l,r):h,y,v;g!==h&&(f=g-h,g=h),d&&(h=u.barStart,g=u.barEnd-u.barStart,h!==0&&_n(h)!==_n(u.barEnd)&&(f=0),f+=h);let b=!ue(o)&&!d?o:f,x=s.getPixelForValue(b);if(this.chart.getDataVisibility(n)?y=s.getPixelForValue(f+g):y=x,v=y-x,Math.abs(v)<a){v=Y3(v,s,c)*a,h===c&&(x-=v/2);let C=s.getPixelForDecimal(0),D=s.getPixelForDecimal(1),S=Math.min(C,D),I=Math.max(C,D);x=Math.max(Math.min(x,I),S),y=x+v,r&&!d&&(l._stacks[s.axis]._visualValues[i]=s.getValueForPixel(y)-s.getValueForPixel(x))}if(x===s.getPixelForValue(c)){let C=_n(v)*s.getLineWidthForValue(c)/2;x+=C,v-=C}return{size:v,base:x,head:y,center:y+v/2}}_calculateBarIndexPixels(n,s){let r=s.scale,i=this.options,o=i.skipNull,a=Y(i.maxBarThickness,1/0),c,l;if(s.grouped){let u=o?this._getStackCount(n):s.stackCount,d=i.barThickness==="flex"?q3(n,s,i,u):W3(n,s,i,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,o?n:void 0);c=d.start+d.chunk*h+d.chunk/2,l=Math.min(a,d.chunk*d.ratio)}else c=r.getPixelForValue(this.getParsed(n)[r.axis],n),l=Math.min(a,s.min*s.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){let n=this._cachedMeta,s=n.vScale,r=n.data,i=r.length,o=0;for(;o<i;++o)this.getParsed(o)[s.axis]!==null&&r[o].draw(this._ctx)}}return t})(),eH=(()=>{class t extends Dr{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,s,r,i){let o=super.parsePrimitiveData(n,s,r,i);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(n,s,r,i){let o=super.parseArrayData(n,s,r,i);for(let a=0;a<o.length;a++){let c=s[r+a];o[a]._custom=Y(c[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(n,s,r,i){let o=super.parseObjectData(n,s,r,i);for(let a=0;a<o.length;a++){let c=s[r+a];o[a]._custom=Y(c&&c.r&&+c.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let n=this._cachedMeta.data,s=0;for(let r=n.length-1;r>=0;--r)s=Math.max(s,n[r].size(this.resolveDataElementOptions(r))/2);return s>0&&s}getLabelAndValue(n){let s=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:o}=s,a=this.getParsed(n),c=i.getLabelForValue(a.x),l=o.getLabelForValue(a.y),u=a._custom;return{label:r[n]||"",value:"("+c+", "+l+(u?", "+u:"")+")"}}update(n){let s=this._cachedMeta.data;this.updateElements(s,0,s.length,n)}updateElements(n,s,r,i){let o=i==="reset",{iScale:a,vScale:c}=this._cachedMeta,{sharedOptions:l,includeOptions:u}=this._getSharedOptions(s,i),d=a.axis,h=c.axis;for(let f=s;f<s+r;f++){let g=n[f],y=!o&&this.getParsed(f),v={},b=v[d]=o?a.getPixelForDecimal(.5):a.getPixelForValue(y[d]),x=v[h]=o?c.getBasePixel():c.getPixelForValue(y[h]);v.skip=isNaN(b)||isNaN(x),u&&(v.options=l||this.resolveDataElementOptions(f,g.active?"active":i),o&&(v.options.radius=0)),this.updateElement(g,f,v,i)}}resolveDataElementOptions(n,s){let r=this.getParsed(n),i=super.resolveDataElementOptions(n,s);i.$shared&&(i=Object.assign({},i,{$shared:!1}));let o=i.radius;return s!=="active"&&(i.radius=0),i.radius+=Y(r&&r._custom,o),i}}return t})();function tH(t,e,n){let s=1,r=1,i=0,o=0;if(e<Ne){let a=t,c=a+e,l=Math.cos(a),u=Math.sin(a),d=Math.cos(c),h=Math.sin(c),f=(C,D,S)=>oa(C,a,c,!0)?1:Math.max(D,D*n,S,S*n),g=(C,D,S)=>oa(C,a,c,!0)?-1:Math.min(D,D*n,S,S*n),y=f(0,l,d),v=f(He,u,h),b=g(Me,l,d),x=g(Me+He,u,h);s=(y-b)/2,r=(v-x)/2,i=-(y+b)/2,o=-(v+x)/2}return{ratioX:s,ratioY:r,offsetX:i,offsetY:o}}var Jy=(()=>{class t extends Dr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let s=n.data;if(s.labels.length&&s.datasets.length){let{labels:{pointStyle:r,color:i}}=n.legend.options;return s.labels.map((o,a)=>{let l=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,s,r){r.chart.toggleDataVisibility(s.index),r.chart.update()}}}};constructor(n,s){super(n,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,s){let r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let o=l=>+r[l];if(re(r[n])){let{key:l="value"}=this._parsing;o=u=>+Ns(r[u],l)}let a,c;for(a=n,c=n+s;a<c;++a)i._parsed[a]=o(a)}}_getRotation(){return dn(this.options.rotation-90)}_getCircumference(){return dn(this.options.circumference)}_getRotationExtents(){let n=Ne,s=-Ne;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let i=this.chart.getDatasetMeta(r).controller,o=i._getRotation(),a=i._getCircumference();n=Math.min(n,o),s=Math.max(s,o+a)}return{rotation:n,circumference:s-n}}update(n){let s=this.chart,{chartArea:r}=s,i=this._cachedMeta,o=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,c=Math.max((Math.min(r.width,r.height)-a)/2,0),l=Math.min(d_(this.options.cutout,c),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:y,offsetY:v}=tH(h,d,l),b=(r.width-a)/f,x=(r.height-a)/g,C=Math.max(Math.min(b,x)/2,0),D=Qv(this.options.radius,C),S=Math.max(D*l,0),I=(D-S)/this._getVisibleDatasetWeightTotal();this.offsetX=y*D,this.offsetY=v*D,i.total=this.calculateTotal(),this.outerRadius=D-I*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-I*u,0),this.updateElements(o,0,o.length,n)}_circumference(n,s){let r=this.options,i=this._cachedMeta,o=this._getCircumference();return s&&r.animation.animateRotate||!this.chart.getDataVisibility(n)||i._parsed[n]===null||i.data[n].hidden?0:this.calculateCircumference(i._parsed[n]*o/Ne)}updateElements(n,s,r,i){let o=i==="reset",a=this.chart,c=a.chartArea,u=a.options.animation,d=(c.left+c.right)/2,h=(c.top+c.bottom)/2,f=o&&u.animateScale,g=f?0:this.innerRadius,y=f?0:this.outerRadius,{sharedOptions:v,includeOptions:b}=this._getSharedOptions(s,i),x=this._getRotation(),C;for(C=0;C<s;++C)x+=this._circumference(C,o);for(C=s;C<s+r;++C){let D=this._circumference(C,o),S=n[C],I={x:d+this.offsetX,y:h+this.offsetY,startAngle:x,endAngle:x+D,circumference:D,outerRadius:y,innerRadius:g};b&&(I.options=v||this.resolveDataElementOptions(C,S.active?"active":i)),x+=D,this.updateElement(S,C,I,i)}}calculateTotal(){let n=this._cachedMeta,s=n.data,r=0,i;for(i=0;i<s.length;i++){let o=n._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(n){let s=this._cachedMeta.total;return s>0&&!isNaN(n)?Ne*(Math.abs(n)/s):0}getLabelAndValue(n){let s=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=aa(s._parsed[n],r.options.locale);return{label:i[n]||"",value:o}}getMaxBorderWidth(n){let s=0,r=this.chart,i,o,a,c,l;if(!n){for(i=0,o=r.data.datasets.length;i<o;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),n=a.data,c=a.controller;break}}if(!n)return 0;for(i=0,o=n.length;i<o;++i)l=c.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(n){let s=0;for(let r=0,i=n.length;r<i;++r){let o=this.resolveDataElementOptions(r);s=Math.max(s,o.offset||0,o.hoverOffset||0)}return s}_getRingWeightOffset(n){let s=0;for(let r=0;r<n;++r)this.chart.isDatasetVisible(r)&&(s+=this._getRingWeight(r));return s}_getRingWeight(n){return Math.max(Y(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),nH=(()=>{class t extends Dr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let s=this._cachedMeta,{dataset:r,data:i=[],_dataset:o}=s,a=this.chart._animationsDisabled,{start:c,count:l}=oy(s,i,a);this._drawStart=c,this._drawCount=l,ay(s)&&(c=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=i;let u=this.resolveDatasetElementOptions(n);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},n),this.updateElements(i,c,l,n)}updateElements(n,s,r,i){let o=i==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(s,i),f=a.axis,g=c.axis,{spanGaps:y,segment:v}=this.options,b=Mi(y)?y:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||o||i==="none",C=s+r,D=n.length,S=s>0&&this.getParsed(s-1);for(let I=0;I<D;++I){let k=n[I],M=x?k:{};if(I<s||I>=C){M.skip=!0;continue}let A=this.getParsed(I),$=ue(A[g]),N=M[f]=a.getPixelForValue(A[f],I),B=M[g]=o||$?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,A,l):A[g],I);M.skip=isNaN(N)||isNaN(B)||$,M.stop=I>0&&Math.abs(A[f]-S[f])>b,v&&(M.parsed=A,M.raw=u.data[I]),h&&(M.options=d||this.resolveDataElementOptions(I,k.active?"active":i)),x||this.updateElement(k,I,M,i),S=A}}getMaxOverflow(){let n=this._cachedMeta,s=n.dataset,r=s.options&&s.options.borderWidth||0,i=n.data||[];if(!i.length)return r;let o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,o,a)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return t})(),HI=(()=>{class t extends Dr{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let s=n.data;if(s.labels.length&&s.datasets.length){let{labels:{pointStyle:r,color:i}}=n.legend.options;return s.labels.map((o,a)=>{let l=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,s,r){r.chart.toggleDataVisibility(s.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,s){super(n,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let s=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=aa(s._parsed[n].r,r.options.locale);return{label:i[n]||"",value:o}}parseObjectData(n,s,r,i){return my.bind(this)(n,s,r,i)}update(n){let s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,n)}getMinMax(){let n=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((r,i)=>{let o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<s.min&&(s.min=o),o>s.max&&(s.max=o))}),s}_updateRadius(){let n=this.chart,s=n.chartArea,r=n.options,i=Math.min(s.right-s.left,s.bottom-s.top),o=Math.max(i/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),c=(o-a)/n.getVisibleDatasetCount();this.outerRadius=o-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(n,s,r,i){let o=i==="reset",a=this.chart,l=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*Me,g=f,y,v=360/this.countVisibleElements();for(y=0;y<s;++y)g+=this._computeAngle(y,i,v);for(y=s;y<s+r;y++){let b=n[y],x=g,C=g+this._computeAngle(y,i,v),D=a.getDataVisibility(y)?u.getDistanceFromCenterForValue(this.getParsed(y).r):0;g=C,o&&(l.animateScale&&(D=0),l.animateRotate&&(x=C=f));let S={x:d,y:h,innerRadius:0,outerRadius:D,startAngle:x,endAngle:C,options:this.resolveDataElementOptions(y,b.active?"active":i)};this.updateElement(b,y,S,i)}}countVisibleElements(){let n=this._cachedMeta,s=0;return n.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&s++}),s}_computeAngle(n,s,r){return this.chart.getDataVisibility(n)?dn(this.resolveDataElementOptions(n,s).angle||r):0}}return t})(),sH=(()=>{class t extends Jy{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),rH=(()=>{class t extends Dr{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){let s=this._cachedMeta.vScale,r=this.getParsed(n);return{label:s.getLabels()[n],value:""+s.getLabelForValue(r[s.axis])}}parseObjectData(n,s,r,i){return my.bind(this)(n,s,r,i)}update(n){let s=this._cachedMeta,r=s.dataset,i=s.data||[],o=s.iScale.getLabels();if(r.points=i,n!=="resize"){let a=this.resolveDatasetElementOptions(n);this.options.showLine||(a.borderWidth=0);let c={_loop:!0,_fullLoop:o.length===i.length,options:a};this.updateElement(r,void 0,c,n)}this.updateElements(i,0,i.length,n)}updateElements(n,s,r,i){let o=this._cachedMeta.rScale,a=i==="reset";for(let c=s;c<s+r;c++){let l=n[c],u=this.resolveDataElementOptions(c,l.active?"active":i),d=o.getPointPositionForValue(c,this.getParsed(c).r),h=a?o.xCenter:d.x,f=a?o.yCenter:d.y,g={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(l,c,g,i)}}}return t})(),iH=(()=>{class t extends Dr{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){let s=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:o}=s,a=this.getParsed(n),c=i.getLabelForValue(a.x),l=o.getLabelForValue(a.y);return{label:r[n]||"",value:"("+c+", "+l+")"}}update(n){let s=this._cachedMeta,{data:r=[]}=s,i=this.chart._animationsDisabled,{start:o,count:a}=oy(s,r,i);if(this._drawStart=o,this._drawCount=a,ay(s)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:c,_dataset:l}=s;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!l._decimated,c.points=r;let u=this.resolveDatasetElementOptions(n);u.segment=this.options.segment,this.updateElement(c,void 0,{animated:!i,options:u},n)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,s,r,i){let o=i==="reset",{iScale:a,vScale:c,_stacked:l,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(s,i),h=this.getSharedOptions(d),f=this.includeOptions(i,h),g=a.axis,y=c.axis,{spanGaps:v,segment:b}=this.options,x=Mi(v)?v:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||o||i==="none",D=s>0&&this.getParsed(s-1);for(let S=s;S<s+r;++S){let I=n[S],k=this.getParsed(S),M=C?I:{},A=ue(k[y]),$=M[g]=a.getPixelForValue(k[g],S),N=M[y]=o||A?c.getBasePixel():c.getPixelForValue(l?this.applyStack(c,k,l):k[y],S);M.skip=isNaN($)||isNaN(N)||A,M.stop=S>0&&Math.abs(k[g]-D[g])>x,b&&(M.parsed=k,M.raw=u.data[S]),f&&(M.options=h||this.resolveDataElementOptions(S,I.active?"active":i)),C||this.updateElement(I,S,M,i),D=k}this.updateSharedOptions(h,i,d)}getMaxOverflow(){let n=this._cachedMeta,s=n.data||[];if(!this.options.showLine){let c=0;for(let l=s.length-1;l>=0;--l)c=Math.max(c,s[l].size(this.resolveDataElementOptions(l))/2);return c>0&&c}let r=n.dataset,i=r.options&&r.options.borderWidth||0;if(!s.length)return i;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,a)/2}}return t})(),oH=Object.freeze({__proto__:null,BarController:J3,BubbleController:eH,DoughnutController:Jy,LineController:nH,PieController:sH,PolarAreaController:HI,RadarController:rH,ScatterController:iH});function ki(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Ry=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ki()}parse(){return ki()}format(){return ki()}add(){return ki()}diff(){return ki()}startOf(){return ki()}endOf(){return ki()}},aH={_date:Ry};function cH(t,e,n,s){let{controller:r,data:i,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&i.length){let c=a._reversePixels?v_:Zn;if(s){if(r._sharedOptions){let l=i[0],u=typeof l.getRange=="function"&&l.getRange(e);if(u){let d=c(i,e,n-u),h=c(i,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return c(i,e,n)}return{lo:0,hi:i.length-1}}function ll(t,e,n,s,r){let i=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,c=i.length;a<c;++a){let{index:l,data:u}=i[a],{lo:d,hi:h}=cH(i[a],e,o,r);for(let f=d;f<=h;++f){let g=u[f];g.skip||s(g,l,f)}}}function lH(t){let e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(s,r){let i=e?Math.abs(s.x-r.x):0,o=n?Math.abs(s.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function _y(t,e,n,s,r){let i=[];return!r&&!t.isPointInArea(e)||ll(t,n,e,function(a,c,l){!r&&!Kn(a,t.chartArea,0)||a.inRange(e.x,e.y,s)&&i.push({element:a,datasetIndex:c,index:l})},!0),i}function uH(t,e,n,s){let r=[];function i(o,a,c){let{startAngle:l,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:d}=ty(o,{x:e.x,y:e.y});oa(d,l,u)&&r.push({element:o,datasetIndex:a,index:c})}return ll(t,n,e,i),r}function dH(t,e,n,s,r,i){let o=[],a=lH(n),c=Number.POSITIVE_INFINITY;function l(u,d,h){let f=u.inRange(e.x,e.y,r);if(s&&!f)return;let g=u.getCenterPoint(r);if(!(!!i||t.isPointInArea(g))&&!f)return;let v=a(e,g);v<c?(o=[{element:u,datasetIndex:d,index:h}],c=v):v===c&&o.push({element:u,datasetIndex:d,index:h})}return ll(t,n,e,l),o}function Iy(t,e,n,s,r,i){return!i&&!t.isPointInArea(e)?[]:n==="r"&&!s?uH(t,e,n,r):dH(t,e,n,s,r,i)}function X_(t,e,n,s,r){let i=[],o=n==="x"?"inXRange":"inYRange",a=!1;return ll(t,n,e,(c,l,u)=>{c[o](e[n],r)&&(i.push({element:c,datasetIndex:l,index:u}),a=a||c.inRange(e.x,e.y,r))}),s&&!a?[]:i}var hH={evaluateInteractionItems:ll,modes:{index(t,e,n,s){let r=Cr(e,t),i=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?_y(t,r,i,s,o):Iy(t,r,i,!1,s,o),c=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(l=>{let u=a[0].index,d=l.data[u];d&&!d.skip&&c.push({element:d,datasetIndex:l.index,index:u})}),c):[]},dataset(t,e,n,s){let r=Cr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1,a=n.intersect?_y(t,r,i,s,o):Iy(t,r,i,!1,s,o);if(a.length>0){let c=a[0].datasetIndex,l=t.getDatasetMeta(c).data;a=[];for(let u=0;u<l.length;++u)a.push({element:l[u],datasetIndex:c,index:u})}return a},point(t,e,n,s){let r=Cr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return _y(t,r,i,s,o)},nearest(t,e,n,s){let r=Cr(e,t),i=n.axis||"xy",o=n.includeInvisible||!1;return Iy(t,r,i,n.intersect,s,o)},x(t,e,n,s){let r=Cr(e,t);return X_(t,r,"x",n.intersect,s)},y(t,e,n,s){let r=Cr(e,t);return X_(t,r,"y",n.intersect,s)}}},UI=["left","top","right","bottom"];function el(t,e){return t.filter(n=>n.pos===e)}function Q_(t,e){return t.filter(n=>UI.indexOf(n.pos)===-1&&n.box.axis===e)}function tl(t,e){return t.sort((n,s)=>{let r=e?s:n,i=e?n:s;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function fH(t){let e=[],n,s,r,i,o,a;for(n=0,s=(t||[]).length;n<s;++n)r=t[n],{position:i,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a});return e}function pH(t){let e={};for(let n of t){let{stack:s,pos:r,stackWeight:i}=n;if(!s||!UI.includes(r))continue;let o=e[s]||(e[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function gH(t,e){let n=pH(t),{vBoxMaxWidth:s,hBoxMaxHeight:r}=e,i,o,a;for(i=0,o=t.length;i<o;++i){a=t[i];let{fullSize:c}=a.box,l=n[a.stack],u=l&&a.stackWeight/l.weight;a.horizontal?(a.width=u?u*s:c&&e.availableWidth,a.height=r):(a.width=s,a.height=u?u*r:c&&e.availableHeight)}return n}function mH(t){let e=fH(t),n=tl(e.filter(l=>l.box.fullSize),!0),s=tl(el(e,"left"),!0),r=tl(el(e,"right")),i=tl(el(e,"top"),!0),o=tl(el(e,"bottom")),a=Q_(e,"x"),c=Q_(e,"y");return{fullSize:n,leftAndTop:s.concat(i),rightAndBottom:r.concat(c).concat(o).concat(a),chartArea:el(e,"chartArea"),vertical:s.concat(r).concat(c),horizontal:i.concat(o).concat(a)}}function Z_(t,e,n,s){return Math.max(t[n],e[n])+Math.max(t[s],e[s])}function zI(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function vH(t,e,n,s){let{pos:r,box:i}=n,o=t.maxPadding;if(!re(r)){n.size&&(t[r]-=n.size);let d=s[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?i.height:i.width),n.size=d.size/d.count,t[r]+=n.size}i.getPadding&&zI(o,i.getPadding());let a=Math.max(0,e.outerWidth-Z_(o,t,"left","right")),c=Math.max(0,e.outerHeight-Z_(o,t,"top","bottom")),l=a!==t.w,u=c!==t.h;return t.w=a,t.h=c,n.horizontal?{same:l,other:u}:{same:u,other:l}}function yH(t){let e=t.maxPadding;function n(s){let r=Math.max(e[s]-t[s],0);return t[s]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function wH(t,e){let n=e.maxPadding;function s(r){let i={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{i[o]=Math.max(e[o],n[o])}),i}return s(t?["left","right"]:["top","bottom"])}function rl(t,e,n,s){let r=[],i,o,a,c,l,u;for(i=0,o=t.length,l=0;i<o;++i){a=t[i],c=a.box,c.update(a.width||e.w,a.height||e.h,wH(a.horizontal,e));let{same:d,other:h}=vH(e,n,a,s);l|=d&&r.length,u=u||h,c.fullSize||r.push(a)}return l&&rl(r,e,n,s)||u}function Vh(t,e,n,s,r){t.top=n,t.left=e,t.right=e+s,t.bottom=n+r,t.width=s,t.height=r}function K_(t,e,n,s){let r=n.padding,{x:i,y:o}=e;for(let a of t){let c=a.box,l=s[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/l.weight||1;if(a.horizontal){let d=e.w*u,h=l.size||c.height;ra(l.start)&&(o=l.start),c.fullSize?Vh(c,r.left,o,n.outerWidth-r.right-r.left,h):Vh(c,e.left+l.placed,o,d,h),l.start=o,l.placed+=d,o=c.bottom}else{let d=e.h*u,h=l.size||c.width;ra(l.start)&&(i=l.start),c.fullSize?Vh(c,i,r.top,h,n.outerHeight-r.bottom-r.top):Vh(c,i,e.top+l.placed,h,d),l.start=i,l.placed+=d,i=c.right}}e.x=i,e.y=o}var yt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){let n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,s){if(!t)return;let r=lt(t.options.layout.padding),i=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=mH(t.boxes),c=a.vertical,l=a.horizontal;ye(t.boxes,y=>{typeof y.beforeLayout=="function"&&y.beforeLayout()});let u=c.reduce((y,v)=>v.box.options&&v.box.options.display===!1?y:y+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},r);zI(h,lt(s));let f=Object.assign({maxPadding:h,w:i,h:o,x:r.left,y:r.top},r),g=gH(c.concat(l),d);rl(a.fullSize,f,d,g),rl(c,f,d,g),rl(l,f,d,g)&&rl(c,f,d,g),yH(f),K_(a.leftAndTop,f,d,g),f.x+=f.w,f.y+=f.h,K_(a.rightAndBottom,f,d,g),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ye(a.chartArea,y=>{let v=y.box;Object.assign(v,t.chartArea),v.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},Xh=class{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,s){}removeEventListener(e,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,s,r){return n=Math.max(0,n||e.width),s=s||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):s)}}isAttached(e){return!0}updateConfig(e){}},Oy=class extends Xh{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},qh="$chartjs",bH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},J_=t=>t===null||t==="";function EH(t,e){let n=t.style,s=t.getAttribute("height"),r=t.getAttribute("width");if(t[qh]={initial:{height:s,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",J_(r)){let i=yy(t,"width");i!==void 0&&(t.width=i)}if(J_(s))if(t.style.height==="")t.height=t.width/(e||2);else{let i=yy(t,"height");i!==void 0&&(t.height=i)}return t}var WI=R_?{passive:!0}:!1;function xH(t,e,n){t&&t.addEventListener(e,n,WI)}function CH(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,WI)}function SH(t,e){let n=bH[t.type]||t.type,{x:s,y:r}=Cr(t,e);return{type:n,chart:e,native:t,x:s!==void 0?s:null,y:r!==void 0?r:null}}function Qh(t,e){for(let n of t)if(n===e||n.contains(e))return!0}function DH(t,e,n){let s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(let a of i)o=o||Qh(a.addedNodes,s),o=o&&!Qh(a.removedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function _H(t,e,n){let s=t.canvas,r=new MutationObserver(i=>{let o=!1;for(let a of i)o=o||Qh(a.removedNodes,s),o=o&&!Qh(a.addedNodes,s);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}var ol=new Map,eI=0;function qI(){let t=window.devicePixelRatio;t!==eI&&(eI=t,ol.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function IH(t,e){ol.size||window.addEventListener("resize",qI),ol.set(t,e)}function TH(t){ol.delete(t),ol.size||window.removeEventListener("resize",qI)}function AH(t,e,n){let s=t.canvas,r=s&&Lh(s);if(!r)return;let i=iy((a,c)=>{let l=r.clientWidth;n(a,c),l<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{let c=a[0],l=c.contentRect.width,u=c.contentRect.height;l===0&&u===0||i(l,u)});return o.observe(r),IH(t,i),o}function Ty(t,e,n){n&&n.disconnect(),e==="resize"&&TH(t)}function MH(t,e,n){let s=t.canvas,r=iy(i=>{t.ctx!==null&&n(SH(i,t))},t);return xH(s,e,r),r}var Fy=class extends Xh{acquireContext(e,n){let s=e&&e.getContext&&e.getContext("2d");return s&&s.canvas===e?(EH(e,n),s):null}releaseContext(e){let n=e.canvas;if(!n[qh])return!1;let s=n[qh].initial;["height","width"].forEach(i=>{let o=s[i];ue(o)?n.removeAttribute(i):n.setAttribute(i,o)});let r=s.style||{};return Object.keys(r).forEach(i=>{n.style[i]=r[i]}),n.width=n.width,delete n[qh],!0}addEventListener(e,n,s){this.removeEventListener(e,n);let r=e.$proxies||(e.$proxies={}),o={attach:DH,detach:_H,resize:AH}[n]||MH;r[n]=o(e,n,s)}removeEventListener(e,n){let s=e.$proxies||(e.$proxies={}),r=s[n];if(!r)return;({attach:Ty,detach:Ty,resize:Ty}[n]||CH)(e,n,r),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,s,r){return P_(e,n,s,r)}isAttached(e){let n=Lh(e);return!!(n&&n.isConnected)}};function NH(t){return!Fh()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Oy:Fy}var In=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:n,y:s}=this.getProps(["x","y"],e);return{x:n,y:s}}hasValue(){return Mi(this.x)&&Mi(this.y)}getProps(e,n){let s=this.$animations;if(!n||!s)return this;let r={};return e.forEach(i=>{r[i]=s[i]&&s[i].active()?s[i]._to:this[i]}),r}};function kH(t,e){let n=t.options.ticks,s=PH(t),r=Math.min(n.maxTicksLimit||s,s),i=n.major.enabled?OH(e):[],o=i.length,a=i[0],c=i[o-1],l=[];if(o>r)return FH(e,l,i,o/r),l;let u=RH(i,e,r);if(o>0){let d,h,f=o>1?Math.round((c-a)/(o-1)):null;for($h(e,l,u,ue(f)?0:a-f,a),d=0,h=o-1;d<h;d++)$h(e,l,u,i[d],i[d+1]);return $h(e,l,u,c,ue(f)?e.length:c+f),l}return $h(e,l,u),l}function PH(t){let e=t.options.offset,n=t._tickSize(),s=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(s,r))}function RH(t,e,n){let s=LH(t),r=e.length/n;if(!s)return Math.max(r,1);let i=p_(s);for(let o=0,a=i.length-1;o<a;o++){let c=i[o];if(c>r)return c}return Math.max(r,1)}function OH(t){let e=[],n,s;for(n=0,s=t.length;n<s;n++)t[n].major&&e.push(n);return e}function FH(t,e,n,s){let r=0,i=n[0],o;for(s=Math.ceil(s),o=0;o<t.length;o++)o===i&&(e.push(t[o]),r++,i=n[r*s])}function $h(t,e,n,s,r){let i=Y(s,0),o=Math.min(Y(r,t.length),t.length),a=0,c,l,u;for(n=Math.ceil(n),r&&(c=r-s,n=c/Math.floor(c/n)),u=i;u<0;)a++,u=Math.round(i+a*n);for(l=Math.max(i,0);l<o;l++)l===u&&(e.push(t[l]),a++,u=Math.round(i+a*n))}function LH(t){let e=t.length,n,s;if(e<2)return!1;for(s=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==s)return!1;return s}var BH=t=>t==="left"?"right":t==="right"?"left":t,tI=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,nI=(t,e)=>Math.min(e||t,t);function sI(t,e){let n=[],s=t.length/e,r=t.length,i=0;for(;i<r;i+=s)n.push(t[Math.floor(i)]);return n}function VH(t,e,n){let s=t.ticks.length,r=Math.min(e,s-1),i=t._startPixel,o=t._endPixel,a=1e-6,c=t.getPixelForTick(r),l;if(!(n&&(s===1?l=Math.max(c-i,o-c):e===0?l=(t.getPixelForTick(1)-c)/2:l=(c-t.getPixelForTick(r-1))/2,c+=r<e?l:-l,c<i-a||c>o+a)))return c}function $H(t,e){ye(t,n=>{let s=n.gc,r=s.length/2,i;if(r>e){for(i=0;i<r;++i)delete n.data[s[i]];s.splice(0,r)}})}function nl(t){return t.drawTicks?t.tickLength:0}function rI(t,e){if(!t.display)return 0;let n=Ge(t.font,e),s=lt(t.padding);return(Ae(t.text)?t.text.length:1)*n.lineHeight+s.height}function jH(t,e){return ks(t,{scale:e,type:"scale"})}function HH(t,e,n){return ks(t,{tick:n,index:e,type:"tick"})}function UH(t,e,n){let s=Nh(t);return(n&&e!=="right"||!n&&e==="right")&&(s=BH(s)),s}function zH(t,e,n,s){let{top:r,left:i,bottom:o,right:a,chart:c}=t,{chartArea:l,scales:u}=c,d=0,h,f,g,y=o-r,v=a-i;if(t.isHorizontal()){if(f=ct(s,i,a),re(n)){let b=Object.keys(n)[0],x=n[b];g=u[b].getPixelForValue(x)+y-e}else n==="center"?g=(l.bottom+l.top)/2+y-e:g=tI(t,n,e);h=a-i}else{if(re(n)){let b=Object.keys(n)[0],x=n[b];f=u[b].getPixelForValue(x)-v+e}else n==="center"?f=(l.left+l.right)/2-v+e:f=tI(t,n,e);g=ct(s,o,r),d=n==="left"?-He:He}return{titleX:f,titleY:g,maxWidth:h,rotation:d}}var Ri=class t extends In{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:s,_suggestedMax:r}=this;return e=Lt(e,Number.POSITIVE_INFINITY),n=Lt(n,Number.NEGATIVE_INFINITY),s=Lt(s,Number.POSITIVE_INFINITY),r=Lt(r,Number.NEGATIVE_INFINITY),{min:Lt(e,s),max:Lt(n,r),minDefined:Fe(e),maxDefined:Fe(n)}}getMinMax(e){let{min:n,max:s,minDefined:r,maxDefined:i}=this.getUserBounds(),o;if(r&&i)return{min:n,max:s};let a=this.getMatchingVisibleMetas();for(let c=0,l=a.length;c<l;++c)o=a[c].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),i||(s=Math.max(s,o.max));return n=i&&n>s?s:n,s=r&&n>s?n:s,{min:Lt(n,Lt(s,n)),max:Lt(s,Lt(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_e(this.options.beforeUpdate,[this])}update(e,n,s){let{beginAtZero:r,grace:i,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=I_(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let c=a<this.ticks.length;this._convertTicksToLabels(c?sI(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=kH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),c&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,e=!e),this._startPixel=n,this._endPixel=s,this._reversePixels=e,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_e(this.options.afterUpdate,[this])}beforeSetDimensions(){_e(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_e(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),_e(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_e(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let n=this.options.ticks,s,r,i;for(s=0,r=e.length;s<r;s++)i=e[s],i.label=_e(n.callback,[i.value,s,e],this)}afterTickToLabelConversion(){_e(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_e(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,n=e.ticks,s=nI(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,i=n.maxRotation,o=r,a,c,l;if(!this._isVisible()||!n.display||r>=i||s<=1||!this.isHorizontal()){this.labelRotation=r;return}let u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=Xe(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/s:f/(s-1),d+6>a&&(a=f/(s-(e.offset?.5:1)),c=this.maxHeight-nl(e.grid)-n.padding-rI(e.title,this.chart.options.font),l=Math.sqrt(d*d+h*h),o=Ah(Math.min(Math.asin(Xe((u.highest.height+6)/a,-1,1)),Math.asin(Xe(c/l,-1,1))-Math.asin(Xe(h/l,-1,1)))),o=Math.max(r,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){_e(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_e(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:n,options:{ticks:s,title:r,grid:i}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let c=rI(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=nl(i)+c):(e.height=this.maxHeight,e.width=nl(i)+c),s.display&&this.ticks.length){let{first:l,last:u,widest:d,highest:h}=this._getLabelSizes(),f=s.padding*2,g=dn(this.labelRotation),y=Math.cos(g),v=Math.sin(g);if(a){let b=s.mirror?0:v*d.width+y*h.height;e.height=Math.min(this.maxHeight,e.height+b+f)}else{let b=s.mirror?0:y*d.width+v*h.height;e.width=Math.min(this.maxWidth,e.width+b+f)}this._calculatePadding(l,u,v,y)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,s,r){let{ticks:{align:i,padding:o},position:a}=this.options,c=this.labelRotation!==0,l=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),h=0,f=0;c?l?(h=r*e.width,f=s*n.height):(h=s*e.height,f=r*n.width):i==="start"?f=n.width:i==="end"?h=e.width:i!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;i==="start"?(u=0,d=e.height):i==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_e(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,s;for(n=0,s=e.length;n<s;n++)ue(e[n].label)&&(e.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let n=this.options.ticks.sampleSize,s=this.ticks;n<s.length&&(s=sI(s,n)),this._labelSizes=e=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,s){let{ctx:r,_longestTextCache:i}=this,o=[],a=[],c=Math.floor(n/nI(n,s)),l=0,u=0,d,h,f,g,y,v,b,x,C,D,S;for(d=0;d<n;d+=c){if(g=e[d].label,y=this._resolveTickFontOptions(d),r.font=v=y.string,b=i[v]=i[v]||{data:{},gc:[]},x=y.lineHeight,C=D=0,!ue(g)&&!Ae(g))C=Yc(r,b.data,b.gc,C,g),D=x;else if(Ae(g))for(h=0,f=g.length;h<f;++h)S=g[h],!ue(S)&&!Ae(S)&&(C=Yc(r,b.data,b.gc,C,S),D+=x);o.push(C),a.push(D),l=Math.max(C,l),u=Math.max(D,u)}$H(i,n);let I=o.indexOf(l),k=a.indexOf(u),M=A=>({width:o[A]||0,height:a[A]||0});return{first:M(0),last:M(n-1),widest:M(I),highest:M(k),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let n=this._startPixel+e*this._length;return m_(this._alignToPixels?br(this.chart,n,0):n)}getDecimalForPixel(e){let n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){let n=this.ticks||[];if(e>=0&&e<n.length){let s=n[e];return s.$context||(s.$context=HH(this.getContext(),e,s))}return this.$context||(this.$context=jH(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,n=dn(this.labelRotation),s=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,a=i?i.widest.width+o:0,c=i?i.highest.height+o:0;return this.isHorizontal()?c*s>a*r?a/s:c/r:c*r<a*s?c/s:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let n=this.axis,s=this.chart,r=this.options,{grid:i,position:o,border:a}=r,c=i.offset,l=this.isHorizontal(),d=this.ticks.length+(c?1:0),h=nl(i),f=[],g=a.setContext(this.getContext()),y=g.display?g.width:0,v=y/2,b=function(de){return br(s,de,y)},x,C,D,S,I,k,M,A,$,N,B,Ce;if(o==="top")x=b(this.bottom),k=this.bottom-h,A=x-v,N=b(e.top)+v,Ce=e.bottom;else if(o==="bottom")x=b(this.top),N=e.top,Ce=b(e.bottom)-v,k=x+v,A=this.top+h;else if(o==="left")x=b(this.right),I=this.right-h,M=x-v,$=b(e.left)+v,B=e.right;else if(o==="right")x=b(this.left),$=e.left,B=b(e.right)-v,I=x+v,M=this.left+h;else if(n==="x"){if(o==="center")x=b((e.top+e.bottom)/2+.5);else if(re(o)){let de=Object.keys(o)[0],he=o[de];x=b(this.chart.scales[de].getPixelForValue(he))}N=e.top,Ce=e.bottom,k=x+v,A=k+h}else if(n==="y"){if(o==="center")x=b((e.left+e.right)/2);else if(re(o)){let de=Object.keys(o)[0],he=o[de];x=b(this.chart.scales[de].getPixelForValue(he))}I=x-v,M=I-h,$=e.left,B=e.right}let ke=Y(r.ticks.maxTicksLimit,d),oe=Math.max(1,Math.ceil(d/ke));for(C=0;C<d;C+=oe){let de=this.getContext(C),he=i.setContext(de),ut=a.setContext(de),Oe=he.lineWidth,Os=he.color,hl=ut.dash||[],Oi=ut.dashOffset,pa=he.tickWidth,_r=he.tickColor,ga=he.tickBorderDash||[],Ir=he.tickBorderDashOffset;D=VH(this,C,c),D!==void 0&&(S=br(s,D,Oe),l?I=M=$=B=S:k=A=N=Ce=S,f.push({tx1:I,ty1:k,tx2:M,ty2:A,x1:$,y1:N,x2:B,y2:Ce,width:Oe,color:Os,borderDash:hl,borderDashOffset:Oi,tickWidth:pa,tickColor:_r,tickBorderDash:ga,tickBorderDashOffset:Ir}))}return this._ticksLength=d,this._borderValue=x,f}_computeLabelItems(e){let n=this.axis,s=this.options,{position:r,ticks:i}=s,o=this.isHorizontal(),a=this.ticks,{align:c,crossAlign:l,padding:u,mirror:d}=i,h=nl(s.grid),f=h+u,g=d?-u:f,y=-dn(this.labelRotation),v=[],b,x,C,D,S,I,k,M,A,$,N,B,Ce="middle";if(r==="top")I=this.bottom-g,k=this._getXAxisLabelAlignment();else if(r==="bottom")I=this.top+g,k=this._getXAxisLabelAlignment();else if(r==="left"){let oe=this._getYAxisLabelAlignment(h);k=oe.textAlign,S=oe.x}else if(r==="right"){let oe=this._getYAxisLabelAlignment(h);k=oe.textAlign,S=oe.x}else if(n==="x"){if(r==="center")I=(e.top+e.bottom)/2+f;else if(re(r)){let oe=Object.keys(r)[0],de=r[oe];I=this.chart.scales[oe].getPixelForValue(de)+f}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")S=(e.left+e.right)/2-f;else if(re(r)){let oe=Object.keys(r)[0],de=r[oe];S=this.chart.scales[oe].getPixelForValue(de)}k=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(c==="start"?Ce="top":c==="end"&&(Ce="bottom"));let ke=this._getLabelSizes();for(b=0,x=a.length;b<x;++b){C=a[b],D=C.label;let oe=i.setContext(this.getContext(b));M=this.getPixelForTick(b)+i.labelOffset,A=this._resolveTickFontOptions(b),$=A.lineHeight,N=Ae(D)?D.length:1;let de=N/2,he=oe.color,ut=oe.textStrokeColor,Oe=oe.textStrokeWidth,Os=k;o?(S=M,k==="inner"&&(b===x-1?Os=this.options.reverse?"left":"right":b===0?Os=this.options.reverse?"right":"left":Os="center"),r==="top"?l==="near"||y!==0?B=-N*$+$/2:l==="center"?B=-ke.highest.height/2-de*$+$:B=-ke.highest.height+$/2:l==="near"||y!==0?B=$/2:l==="center"?B=ke.highest.height/2-de*$:B=ke.highest.height-N*$,d&&(B*=-1),y!==0&&!oe.showLabelBackdrop&&(S+=$/2*Math.sin(y))):(I=M,B=(1-N)*$/2);let hl;if(oe.showLabelBackdrop){let Oi=lt(oe.backdropPadding),pa=ke.heights[b],_r=ke.widths[b],ga=B-Oi.top,Ir=0-Oi.left;switch(Ce){case"middle":ga-=pa/2;break;case"bottom":ga-=pa;break}switch(k){case"center":Ir-=_r/2;break;case"right":Ir-=_r;break;case"inner":b===x-1?Ir-=_r:b>0&&(Ir-=_r/2);break}hl={left:Ir,top:ga,width:_r+Oi.width,height:pa+Oi.height,color:oe.backdropColor}}v.push({label:D,font:A,textOffset:B,options:{rotation:y,color:he,strokeColor:ut,strokeWidth:Oe,textAlign:Os,textBaseline:Ce,translation:[S,I],backdrop:hl}})}return v}_getXAxisLabelAlignment(){let{position:e,ticks:n}=this.options;if(-dn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:n,ticks:{crossAlign:s,mirror:r,padding:i}}=this.options,o=this._getLabelSizes(),a=e+i,c=o.widest.width,l,u;return n==="left"?r?(u=this.right+i,s==="near"?l="left":s==="center"?(l="center",u+=c/2):(l="right",u+=c)):(u=this.right-a,s==="near"?l="right":s==="center"?(l="center",u-=c/2):(l="left",u=this.left)):n==="right"?r?(u=this.left+i,s==="near"?l="right":s==="center"?(l="center",u-=c/2):(l="left",u-=c)):(u=this.left+a,s==="near"?l="left":s==="center"?(l="center",u+=c/2):(l="right",u=this.right)):l="right",{textAlign:l,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:n},left:s,top:r,width:i,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(s,r,i,o),e.restore())}getLineWidthForValue(e){let n=this.options.grid;if(!this._isVisible()||!n.display)return 0;let r=this.ticks.findIndex(i=>i.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let n=this.options.grid,s=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),i,o,a=(c,l,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(c.x,c.y),s.lineTo(l.x,l.y),s.stroke(),s.restore())};if(n.display)for(i=0,o=r.length;i<o;++i){let c=r[i];n.drawOnChartArea&&a({x:c.x1,y:c.y1},{x:c.x2,y:c.y2},c),n.drawTicks&&a({x:c.tx1,y:c.ty1},{x:c.tx2,y:c.ty2},{color:c.tickColor,width:c.tickWidth,borderDash:c.tickBorderDash,borderDashOffset:c.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:n,options:{border:s,grid:r}}=this,i=s.setContext(this.getContext()),o=s.display?i.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,c=this._borderValue,l,u,d,h;this.isHorizontal()?(l=br(e,this.left,o)-o/2,u=br(e,this.right,a)+a/2,d=h=c):(d=br(e,this.top,o)-o/2,h=br(e,this.bottom,a)+a/2,l=u=c),n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.beginPath(),n.moveTo(l,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let s=this.ctx,r=this._computeLabelArea();r&&Zc(s,r);let i=this.getLabelItems(e);for(let o of i){let a=o.options,c=o.font,l=o.label,u=o.textOffset;Er(s,l,0,u,c,a)}r&&Kc(s)}drawTitle(){let{ctx:e,options:{position:n,title:s,reverse:r}}=this;if(!s.display)return;let i=Ge(s.font),o=lt(s.padding),a=s.align,c=i.lineHeight/2;n==="bottom"||n==="center"||re(n)?(c+=o.bottom,Ae(s.text)&&(c+=i.lineHeight*(s.text.length-1))):c+=o.top;let{titleX:l,titleY:u,maxWidth:d,rotation:h}=zH(this,c,n,a);Er(e,s.text,0,0,i,{color:s.color,maxWidth:d,rotation:h,textAlign:UH(a,n,r),textBaseline:"middle",translation:[l,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,n=e.ticks&&e.ticks.z||0,s=Y(e.grid&&e.grid.z,-1),r=Y(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:n,draw:i=>{this.draw(i)}}]:[{z:s,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){let n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",r=[],i,o;for(i=0,o=n.length;i<o;++i){let a=n[i];a[s]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let n=this.options.ticks.setContext(this.getContext(e));return Ge(n.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},da=class{constructor(e,n,s){this.type=e,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let n=Object.getPrototypeOf(e),s;GH(n)&&(s=this.register(n));let r=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in r||(r[i]=e,WH(e,o,s),this.override&&Le.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let n=this.items,s=e.id,r=this.scope;s in n&&delete n[s],r&&s in Le[r]&&(delete Le[r][s],this.override&&delete wr[s])}};function WH(t,e,n){let s=ta(Object.create(null),[n?Le.get(n):{},Le.get(e),t.defaults]);Le.set(e,s),t.defaultRoutes&&qH(e,t.defaultRoutes),t.descriptors&&Le.describe(e,t.descriptors)}function qH(t,e){Object.keys(e).forEach(n=>{let s=n.split("."),r=s.pop(),i=[t].concat(s).join("."),o=e[n].split("."),a=o.pop(),c=o.join(".");Le.route(i,r,c,a)})}function GH(t){return"id"in t&&"defaults"in t}var Ly=class{constructor(){this.controllers=new da(Dr,"datasets",!0),this.elements=new da(In,"elements"),this.plugins=new da(Object,"plugins"),this.scales=new da(Ri,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,s){[...n].forEach(r=>{let i=s||this._getRegistryForType(r);s||i.isForType(r)||i===this.plugins&&r.id?this._exec(e,i,r):ye(r,o=>{let a=s||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,s){let r=Th(e);_e(s["before"+r],[],s),n[e](s),_e(s["after"+r],[],s)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){let s=this._typedRegistries[n];if(s.isForType(e))return s}return this.plugins}_get(e,n,s){let r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+s+".");return r}},ns=new Ly,By=class{constructor(){this._init=[]}notify(e,n,s,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let i=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(i,e,n,s);return n==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,s,r){r=r||{};for(let i of e){let o=i.plugin,a=o[s],c=[n,r,i.options];if(_e(a,c,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ue(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){let s=e&&e.config,r=Y(s.options&&s.options.plugins,{}),i=YH(s);return r===!1&&!n?[]:QH(e,i,r,n)}_notifyStateChanges(e){let n=this._oldCache||[],s=this._cache,r=(i,o)=>i.filter(a=>!o.some(c=>a.plugin.id===c.plugin.id));this._notify(r(n,s),e,"stop"),this._notify(r(s,n),e,"start")}};function YH(t){let e={},n=[],s=Object.keys(ns.plugins.items);for(let i=0;i<s.length;i++)n.push(ns.getPlugin(s[i]));let r=t.plugins||[];for(let i=0;i<r.length;i++){let o=r[i];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function XH(t,e){return!e&&t===!1?null:t===!0?{}:t}function QH(t,{plugins:e,localIds:n},s,r){let i=[],o=t.getContext();for(let a of e){let c=a.id,l=XH(s[c],r);l!==null&&i.push({plugin:a,options:ZH(t.config,{plugin:a,local:n[c]},l,o)})}return i}function ZH(t,{plugin:e,local:n},s,r){let i=t.pluginScopeKeys(e),o=t.getOptionScopes(s,i);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Vy(t,e){let n=Le.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function KH(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function JH(t,e){return t===e?"_index_":"_value_"}function iI(t){if(t==="x"||t==="y"||t==="r")return t}function eU(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function $y(t,...e){if(iI(t))return t;for(let n of e){let s=n.axis||eU(n.position)||t.length>1&&iI(t[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function oI(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function tU(t,e){if(e.data&&e.data.datasets){let n=e.data.datasets.filter(s=>s.xAxisID===t||s.yAxisID===t);if(n.length)return oI(t,"x",n[0])||oI(t,"y",n[0])}return{}}function nU(t,e){let n=wr[t.type]||{scales:{}},s=e.scales||{},r=Vy(t.type,e),i=Object.create(null);return Object.keys(s).forEach(o=>{let a=s[o];if(!re(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let c=$y(o,a,tU(o,t),Le.scales[a.type]),l=JH(c,r),u=n.scales||{};i[o]=sa(Object.create(null),[{axis:c},a,u[c],u[l]])}),t.data.datasets.forEach(o=>{let a=o.type||t.type,c=o.indexAxis||Vy(a,e),u=(wr[a]||{}).scales||{};Object.keys(u).forEach(d=>{let h=KH(d,c),f=o[h+"AxisID"]||h;i[f]=i[f]||Object.create(null),sa(i[f],[{axis:h},s[f],u[d]])})}),Object.keys(i).forEach(o=>{let a=i[o];sa(a,[Le.scales[a.type],Le.scale])}),i}function GI(t){let e=t.options||(t.options={});e.plugins=Y(e.plugins,{}),e.scales=nU(t,e)}function YI(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function sU(t){return t=t||{},t.data=YI(t.data),GI(t),t}var aI=new Map,XI=new Set;function jh(t,e){let n=aI.get(t);return n||(n=e(),aI.set(t,n),XI.add(n)),n}var sl=(t,e,n)=>{let s=Ns(e,n);s!==void 0&&t.add(s)},jy=class{constructor(e){this._config=sU(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=YI(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),GI(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return jh(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return jh(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return jh(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){let n=e.id,s=this.type;return jh(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){let s=this._scopeCache,r=s.get(e);return(!r||n)&&(r=new Map,s.set(e,r)),r}getOptionScopes(e,n,s){let{options:r,type:i}=this,o=this._cachedScopes(e,s),a=o.get(n);if(a)return a;let c=new Set;n.forEach(u=>{e&&(c.add(e),u.forEach(d=>sl(c,e,d))),u.forEach(d=>sl(c,r,d)),u.forEach(d=>sl(c,wr[i]||{},d)),u.forEach(d=>sl(c,Le,d)),u.forEach(d=>sl(c,kh,d))});let l=Array.from(c);return l.length===0&&l.push(Object.create(null)),XI.has(n)&&o.set(n,l),l}chartOptionScopes(){let{options:e,type:n}=this;return[e,wr[n]||{},Le.datasets[n]||{},{type:n},Le,kh]}resolveNamedOptions(e,n,s,r=[""]){let i={$shared:!0},{resolver:o,subPrefixes:a}=cI(this._resolverCache,e,r),c=o;if(iU(o,n)){i.$shared=!1,s=As(s)?s():s;let l=this.createResolver(e,s,a);c=Ai(o,s,l)}for(let l of n)i[l]=c[l];return i}createResolver(e,n,s=[""],r){let{resolver:i}=cI(this._resolverCache,e,s);return re(n)?Ai(i,n,void 0,r):i}};function cI(t,e,n){let s=t.get(e);s||(s=new Map,t.set(e,s));let r=n.join(),i=s.get(r);return i||(i={resolver:Oh(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(r,i)),i}var rU=t=>re(t)&&Object.getOwnPropertyNames(t).some(e=>As(t[e]));function iU(t,e){let{isScriptable:n,isIndexable:s}=fy(t);for(let r of e){let i=n(r),o=s(r),a=(o||i)&&t[r];if(i&&(As(a)||rU(a))||o&&Ae(a))return!0}return!1}var oU="4.4.2",aU=["top","bottom","left","right","chartArea"];function lI(t,e){return t==="top"||t==="bottom"||aU.indexOf(t)===-1&&e==="x"}function uI(t,e){return function(n,s){return n[t]===s[t]?n[e]-s[e]:n[t]-s[t]}}function dI(t){let e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),_e(n&&n.onComplete,[t],e)}function cU(t){let e=t.chart,n=e.options.animation;_e(n&&n.onProgress,[t],e)}function QI(t){return Fh()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Gh={},hI=t=>{let e=QI(t);return Object.values(Gh).filter(n=>n.canvas===e).pop()};function lU(t,e,n){let s=Object.keys(t);for(let r of s){let i=+r;if(i>=e){let o=t[r];delete t[r],(n>0||i>e)&&(t[i+n]=o)}}}function uU(t,e,n,s){return!n||t.type==="mouseout"?null:s?e:t}function Hh(t,e,n){return t.options.clip?t[n]:e[n]}function dU(t,e){let{xScale:n,yScale:s}=t;return n&&s?{left:Hh(n,e,"left"),right:Hh(n,e,"right"),top:Hh(s,e,"top"),bottom:Hh(s,e,"bottom")}:e}var ef=(()=>{class t{static defaults=Le;static instances=Gh;static overrides=wr;static registry=ns;static version=oU;static getChart=hI;static register(...n){ns.add(...n),fI()}static unregister(...n){ns.remove(...n),fI()}constructor(n,s){let r=this.config=new jy(s),i=QI(n),o=hI(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||NH(i)),this.platform.updateConfig(r);let c=this.platform.acquireContext(i,a.aspectRatio),l=c&&c.canvas,u=l&&l.height,d=l&&l.width;if(this.id=u_(),this.ctx=c,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new By,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=E_(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Gh[this.id]=this,!c||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Ps.listen(this,"complete",dI),Ps.listen(this,"progress",cU),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:s},width:r,height:i,_aspectRatio:o}=this;return ue(n)?s&&o?o:i?r/i:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return ns}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():vy(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return uy(this.canvas,this.ctx),this}stop(){return Ps.stop(this),this}resize(n,s){Ps.running(this)?this._resizeBeforeDraw={width:n,height:s}:this._resize(n,s)}_resize(n,s){let r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,n,s,o),c=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,vy(this,c,!0)&&(this.notifyPlugins("resize",{size:a}),_e(r.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let s=this.options.scales||{};ye(s,(r,i)=>{r.id=i})}buildOrUpdateScales(){let n=this.options,s=n.scales,r=this.scales,i=Object.keys(r).reduce((a,c)=>(a[c]=!1,a),{}),o=[];s&&(o=o.concat(Object.keys(s).map(a=>{let c=s[a],l=$y(a,c),u=l==="r",d=l==="x";return{options:c,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ye(o,a=>{let c=a.options,l=c.id,u=$y(l,c),d=Y(c.type,a.dtype);(c.position===void 0||lI(c.position,u)!==lI(a.dposition))&&(c.position=a.dposition),i[l]=!0;let h=null;if(l in r&&r[l].type===d)h=r[l];else{let f=ns.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(c,n)}),ye(i,(a,c)=>{a||delete r[c]}),ye(r,a=>{yt.configure(this,a,a.options),yt.addBox(this,a)})}_updateMetasets(){let n=this._metasets,s=this.data.datasets.length,r=n.length;if(n.sort((i,o)=>i.index-o.index),r>s){for(let i=s;i<r;++i)this._destroyDatasetMeta(i);n.splice(s,r-s)}this._sortedMetasets=n.slice(0).sort(uI("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:s}}=this;n.length>s.length&&delete this._stacks,n.forEach((r,i)=>{s.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){let n=[],s=this.data.datasets,r,i;for(this._removeUnreferencedMetasets(),r=0,i=s.length;r<i;r++){let o=s[r],a=this.getDatasetMeta(r),c=o.type||this.config.type;if(a.type&&a.type!==c&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=c,a.indexAxis=o.indexAxis||Vy(c,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let l=ns.getController(c),{datasetElementType:u,dataElementType:d}=Le.datasets[c];Object.assign(l,{dataElementType:ns.getElement(d),datasetElementType:u&&ns.getElement(u)}),a.controller=new l(this,r),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){ye(this.data.datasets,(n,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let s=this.config;s.update();let r=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:h}=this.getDatasetMeta(u),f=!i&&o.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||ye(o,u=>{u.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(uI("z","_idx"));let{_active:c,_lastEvent:l}=this;l?this._eventHandler(l,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){ye(this.scales,n=>{yt.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,s=new Set(Object.keys(this._listeners)),r=new Set(n.events);(!Zv(s,r)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,s=this._getUniformDataChanges()||[];for(let{method:r,start:i,count:o}of s){let a=r==="_removeElements"?-o:o;lU(n,i,a)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let s=this.data.datasets.length,r=o=>new Set(n.filter(a=>a[0]===o).map((a,c)=>c+","+a.splice(1).join(","))),i=r(0);for(let o=1;o<s;o++)if(!Zv(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;yt.update(this,this.width,this.height,n);let s=this.chartArea,r=s.width<=0||s.height<=0;this._layers=[],ye(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let s=0,r=this.data.datasets.length;s<r;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,r=this.data.datasets.length;s<r;++s)this._updateDataset(s,As(n)?n({datasetIndex:s}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,s){let r=this.getDatasetMeta(n),i={meta:r,index:n,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ps.has(this)?this.attached&&!Ps.running(this)&&Ps.start(this):(this.draw(),dI({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let s=this._layers;for(n=0;n<s.length&&s[n].z<=0;++n)s[n].draw(this.chartArea);for(this._drawDatasets();n<s.length;++n)s[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let s=this._sortedMetasets,r=[],i,o;for(i=0,o=s.length;i<o;++i){let a=s[i];(!n||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s)this._drawDataset(n[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let s=this.ctx,r=n._clip,i=!r.disabled,o=dU(n,this.chartArea),a={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&Zc(s,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),n.controller.draw(),i&&Kc(s),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(n){return Kn(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,s,r,i){let o=hH.modes[s];return typeof o=="function"?o(this,n,r,i):[]}getDatasetMeta(n){let s=this.data.datasets[n],r=this._metasets,i=r.filter(o=>o&&o._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:n,_dataset:s,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=ks(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let s=this.data.datasets[n];if(!s)return!1;let r=this.getDatasetMeta(n);return typeof r.hidden=="boolean"?!r.hidden:!s.hidden}setDatasetVisibility(n,s){let r=this.getDatasetMeta(n);r.hidden=!s}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,s,r){let i=r?"show":"hide",o=this.getDatasetMeta(n),a=o.controller._resolveAnimations(void 0,i);ra(s)?(o.data[s].hidden=!r,this.update()):(this.setDatasetVisibility(n,r),a.update(o,{visible:r}),this.update(c=>c.datasetIndex===n?i:void 0))}hide(n,s){this._updateVisibility(n,s,!1)}show(n,s){this._updateVisibility(n,s,!0)}_destroyDatasetMeta(n){let s=this._metasets[n];s&&s.controller&&s.controller._destroy(),delete this._metasets[n]}_stop(){let n,s;for(this.stop(),Ps.remove(this),n=0,s=this.data.datasets.length;n<s;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:s}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),uy(n,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Gh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,s=this.platform,r=(o,a)=>{s.addEventListener(this,o,a),n[o]=a},i=(o,a,c)=>{o.offsetX=a,o.offsetY=c,this._eventHandler(o)};ye(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,s=this.platform,r=(l,u)=>{s.addEventListener(this,l,u),n[l]=u},i=(l,u)=>{n[l]&&(s.removeEventListener(this,l,u),delete n[l])},o=(l,u)=>{this.canvas&&this.resize(l,u)},a,c=()=>{i("attach",c),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",c)},s.isAttached(this.canvas)?c():a()}unbindEvents(){ye(this._listeners,(n,s)=>{this.platform.removeEventListener(this,s,n)}),this._listeners={},ye(this._responsiveListeners,(n,s)=>{this.platform.removeEventListener(this,s,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,s,r){let i=r?"set":"remove",o,a,c,l;for(s==="dataset"&&(o=this.getDatasetMeta(n[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),c=0,l=n.length;c<l;++c){a=n[c];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let s=this._active||[],r=n.map(({datasetIndex:o,index:a})=>{let c=this.getDatasetMeta(o);if(!c)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:c.data[a],index:a}});!Xc(r,s)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,s))}notifyPlugins(n,s,r){return this._plugins.notify(this,n,s,r)}isPluginEnabled(n){return this._plugins._cache.filter(s=>s.plugin.id===n).length===1}_updateHoverStyles(n,s,r){let i=this.options.hover,o=(l,u)=>l.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=o(s,n),c=r?n:o(n,s);a.length&&this.updateHoverStyle(a,i.mode,!1),c.length&&i.mode&&this.updateHoverStyle(c,i.mode,!0)}_eventHandler(n,s){let r={event:n,replay:s,cancelable:!0,inChartArea:this.isPointInArea(n)},i=a=>(a.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;let o=this._handleEvent(n,s,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(n,s,r){let{_active:i=[],options:o}=this,a=s,c=this._getActiveElements(n,i,r,a),l=f_(n),u=uU(n,this._lastEvent,r,l);r&&(this._lastEvent=null,_e(o.onHover,[n,c,this],this),l&&_e(o.onClick,[n,c,this],this));let d=!Xc(c,i);return(d||s)&&(this._active=c,this._updateHoverStyles(c,i,s)),this._lastEvent=u,d}_getActiveElements(n,s,r,i){if(n.type==="mouseout")return[];if(!r)return s;let o=this.options.hover;return this.getElementsAtEventForMode(n,o.mode,o,i)}}return t})();function fI(){return ye(ef.instances,t=>t._plugins.invalidate())}function hU(t,e,n){let{startAngle:s,pixelMargin:r,x:i,y:o,outerRadius:a,innerRadius:c}=e,l=r/a;t.beginPath(),t.arc(i,o,a,s-l,n+l),c>r?(l=r/c,t.arc(i,o,c,n+l,s-l,!0)):t.arc(i,o,r,n+He,s-He),t.closePath(),t.clip()}function fU(t){return Rh(t,["outerStart","outerEnd","innerStart","innerEnd"])}function pU(t,e,n,s){let r=fU(t.options.borderRadius),i=(n-e)/2,o=Math.min(i,s*e/2),a=c=>{let l=(n-Math.min(i,c))*s/2;return Xe(c,0,Math.min(i,l))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Xe(r.innerStart,0,o),innerEnd:Xe(r.innerEnd,0,o)}}function ua(t,e,n,s){return{x:n+t*Math.cos(e),y:s+t*Math.sin(e)}}function Zh(t,e,n,s,r,i){let{x:o,y:a,startAngle:c,pixelMargin:l,innerRadius:u}=e,d=Math.max(e.outerRadius+s+n-l,0),h=u>0?u+s+n+l:0,f=0,g=r-c;if(s){let oe=u>0?u-s:0,de=d>0?d-s:0,he=(oe+de)/2,ut=he!==0?g*he/(he+s):g;f=(g-ut)/2}let y=Math.max(.001,g*d-n/Me)/d,v=(g-y)/2,b=c+v+f,x=r-v-f,{outerStart:C,outerEnd:D,innerStart:S,innerEnd:I}=pU(e,h,d,x-b),k=d-C,M=d-D,A=b+C/k,$=x-D/M,N=h+S,B=h+I,Ce=b+S/N,ke=x-I/B;if(t.beginPath(),i){let oe=(A+$)/2;if(t.arc(o,a,d,A,oe),t.arc(o,a,d,oe,$),D>0){let Oe=ua(M,$,o,a);t.arc(Oe.x,Oe.y,D,$,x+He)}let de=ua(B,x,o,a);if(t.lineTo(de.x,de.y),I>0){let Oe=ua(B,ke,o,a);t.arc(Oe.x,Oe.y,I,x+He,ke+Math.PI)}let he=(x-I/h+(b+S/h))/2;if(t.arc(o,a,h,x-I/h,he,!0),t.arc(o,a,h,he,b+S/h,!0),S>0){let Oe=ua(N,Ce,o,a);t.arc(Oe.x,Oe.y,S,Ce+Math.PI,b-He)}let ut=ua(k,b,o,a);if(t.lineTo(ut.x,ut.y),C>0){let Oe=ua(k,A,o,a);t.arc(Oe.x,Oe.y,C,b-He,A)}}else{t.moveTo(o,a);let oe=Math.cos(A)*d+o,de=Math.sin(A)*d+a;t.lineTo(oe,de);let he=Math.cos($)*d+o,ut=Math.sin($)*d+a;t.lineTo(he,ut)}t.closePath()}function gU(t,e,n,s,r){let{fullCircles:i,startAngle:o,circumference:a}=e,c=e.endAngle;if(i){Zh(t,e,n,s,c,r);for(let l=0;l<i;++l)t.fill();isNaN(a)||(c=o+(a%Ne||Ne))}return Zh(t,e,n,s,c,r),t.fill(),c}function mU(t,e,n,s,r){let{fullCircles:i,startAngle:o,circumference:a,options:c}=e,{borderWidth:l,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=c,f=c.borderAlign==="inner";if(!l)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=l*2,t.lineJoin=u||"round"):(t.lineWidth=l,t.lineJoin=u||"bevel");let g=e.endAngle;if(i){Zh(t,e,n,s,g,r);for(let y=0;y<i;++y)t.stroke();isNaN(a)||(g=o+(a%Ne||Ne))}f&&hU(t,e,g),i||(Zh(t,e,n,s,g,r),t.stroke())}var Hy=class extends In{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,s){let r=this.getProps(["x","y"],s),{angle:i,distance:o}=ty(r,{x:e,y:n}),{startAngle:a,endAngle:c,innerRadius:l,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),h=(this.options.spacing+this.options.borderWidth)/2,g=Y(d,c-a)>=Ne||oa(i,a,c),y=es(o,l+h,u+h);return g&&y}getCenterPoint(e){let{x:n,y:s,startAngle:r,endAngle:i,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:c,spacing:l}=this.options,u=(r+i)/2,d=(o+a+l+c)/2;return{x:n+Math.cos(u)*d,y:s+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:n,circumference:s}=this,r=(n.offset||0)/4,i=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=s>Ne?Math.floor(s/Ne):0,s===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let c=1-Math.sin(Math.min(Me,s||0)),l=r*c;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,gU(e,this,l,i,o),mU(e,this,l,i,o),e.restore()}};function ZI(t,e,n=e){t.lineCap=Y(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Y(n.borderDash,e.borderDash)),t.lineDashOffset=Y(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Y(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Y(n.borderWidth,e.borderWidth),t.strokeStyle=Y(n.borderColor,e.borderColor)}function vU(t,e,n){t.lineTo(n.x,n.y)}function yU(t){return t.stepped?D_:t.tension||t.cubicInterpolationMode==="monotone"?__:vU}function KI(t,e,n={}){let s=t.length,{start:r=0,end:i=s-1}=n,{start:o,end:a}=e,c=Math.max(r,o),l=Math.min(i,a),u=r<o&&i<o||r>a&&i>a;return{count:s,start:c,loop:e.loop,ilen:l<c&&!u?s+l-c:l-c}}function wU(t,e,n,s){let{points:r,options:i}=e,{count:o,start:a,loop:c,ilen:l}=KI(r,n,s),u=yU(i),{move:d=!0,reverse:h}=s||{},f,g,y;for(f=0;f<=l;++f)g=r[(a+(h?l-f:f))%o],!g.skip&&(d?(t.moveTo(g.x,g.y),d=!1):u(t,y,g,h,i.stepped),y=g);return c&&(g=r[(a+(h?l:0))%o],u(t,y,g,h,i.stepped)),!!c}function bU(t,e,n,s){let r=e.points,{count:i,start:o,ilen:a}=KI(r,n,s),{move:c=!0,reverse:l}=s||{},u=0,d=0,h,f,g,y,v,b,x=D=>(o+(l?a-D:D))%i,C=()=>{y!==v&&(t.lineTo(u,v),t.lineTo(u,y),t.lineTo(u,b))};for(c&&(f=r[x(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=r[x(h)],f.skip)continue;let D=f.x,S=f.y,I=D|0;I===g?(S<y?y=S:S>v&&(v=S),u=(d*u+D)/++d):(C(),t.lineTo(D,S),g=I,d=0,y=v=S),b=S}C()}function Uy(t){let e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?bU:wU}function EU(t){return t.stepped?O_:t.tension||t.cubicInterpolationMode==="monotone"?F_:yr}function xU(t,e,n,s){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,s)&&r.closePath()),ZI(t,e.options),t.stroke(r)}function CU(t,e,n,s){let{segments:r,options:i}=e,o=Uy(e);for(let a of r)ZI(t,i,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+s-1})&&t.closePath(),t.stroke()}var SU=typeof Path2D=="function";function DU(t,e,n,s){SU&&!e.options.segment?xU(t,e,n,s):CU(t,e,n,s)}var tf=(()=>{class t extends In{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,s){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let i=r.spanGaps?this._loop:this._fullLoop;k_(this._points,r,n,i,s),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=B_(this,this.options.segment))}first(){let n=this.segments,s=this.points;return n.length&&s[n[0].start]}last(){let n=this.segments,s=this.points,r=n.length;return r&&s[n[r-1].end]}interpolate(n,s){let r=this.options,i=n[s],o=this.points,a=xy(this,{property:s,start:i,end:i});if(!a.length)return;let c=[],l=EU(r),u,d;for(u=0,d=a.length;u<d;++u){let{start:h,end:f}=a[u],g=o[h],y=o[f];if(g===y){c.push(g);continue}let v=Math.abs((i-g[s])/(y[s]-g[s])),b=l(g,y,v,r.stepped);b[s]=n[s],c.push(b)}return c.length===1?c[0]:c}pathSegment(n,s,r){return Uy(this)(n,this,s,r)}path(n,s,r){let i=this.segments,o=Uy(this),a=this._loop;s=s||0,r=r||this.points.length-s;for(let c of i)a&=o(n,this,c,{start:s,end:s+r-1});return!!a}draw(n,s,r,i){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(n.save(),DU(n,this,r,i),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function pI(t,e,n,s){let r=t.options,{[n]:i}=t.getProps([n],s);return Math.abs(e-i)<r.radius+r.hitRadius}var _U=(()=>{class t extends In{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,s,r){let i=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(s-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(n,s){return pI(this,n,"x",s)}inYRange(n,s){return pI(this,n,"y",s)}getCenterPoint(n){let{x:s,y:r}=this.getProps(["x","y"],n);return{x:s,y:r}}size(n){n=n||this.options||{};let s=n.radius||0;s=Math.max(s,s&&n.hoverRadius||0);let r=s&&n.borderWidth||0;return(s+r)*2}draw(n,s){let r=this.options;this.skip||r.radius<.1||!Kn(this,s,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Ph(n,r,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return t})();function JI(t,e){let{x:n,y:s,base:r,width:i,height:o}=t.getProps(["x","y","base","width","height"],e),a,c,l,u,d;return t.horizontal?(d=o/2,a=Math.min(n,r),c=Math.max(n,r),l=s-d,u=s+d):(d=i/2,a=n-d,c=n+d,l=Math.min(s,r),u=Math.max(s,r)),{left:a,top:l,right:c,bottom:u}}function Sr(t,e,n,s){return t?0:Xe(e,n,s)}function IU(t,e,n){let s=t.options.borderWidth,r=t.borderSkipped,i=hy(s);return{t:Sr(r.top,i.top,0,n),r:Sr(r.right,i.right,0,e),b:Sr(r.bottom,i.bottom,0,n),l:Sr(r.left,i.left,0,e)}}function TU(t,e,n){let{enableBorderRadius:s}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=xr(r),o=Math.min(e,n),a=t.borderSkipped,c=s||re(r);return{topLeft:Sr(!c||a.top||a.left,i.topLeft,0,o),topRight:Sr(!c||a.top||a.right,i.topRight,0,o),bottomLeft:Sr(!c||a.bottom||a.left,i.bottomLeft,0,o),bottomRight:Sr(!c||a.bottom||a.right,i.bottomRight,0,o)}}function AU(t){let e=JI(t),n=e.right-e.left,s=e.bottom-e.top,r=IU(t,n/2,s/2),i=TU(t,n/2,s/2);return{outer:{x:e.left,y:e.top,w:n,h:s,radius:i},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:s-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function Ay(t,e,n,s){let r=e===null,i=n===null,a=t&&!(r&&i)&&JI(t,s);return a&&(r||es(e,a.left,a.right))&&(i||es(n,a.top,a.bottom))}function MU(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function NU(t,e){t.rect(e.x,e.y,e.w,e.h)}function My(t,e,n={}){let s=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,i=(t.x+t.w!==n.x+n.w?e:0)-s,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+s,y:t.y+r,w:t.w+i,h:t.h+o,radius:t.radius}}var zy=class extends In{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:n,options:{borderColor:s,backgroundColor:r}}=this,{inner:i,outer:o}=AU(this),a=MU(o.radius)?ca:NU;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),a(e,My(o,n,i)),e.clip(),a(e,My(i,-n,o)),e.fillStyle=s,e.fill("evenodd")),e.beginPath(),a(e,My(i,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,s){return Ay(this,e,n,s)}inXRange(e,n){return Ay(this,e,null,n)}inYRange(e,n){return Ay(this,null,e,n)}getCenterPoint(e){let{x:n,y:s,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(n+r)/2:n,y:i?s:(s+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},kU=Object.freeze({__proto__:null,ArcElement:Hy,BarElement:zy,LineElement:tf,PointElement:_U}),Wy=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],gI=Wy.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function eT(t){return Wy[t%Wy.length]}function tT(t){return gI[t%gI.length]}function PU(t,e){return t.borderColor=eT(e),t.backgroundColor=tT(e),++e}function RU(t,e){return t.backgroundColor=t.data.map(()=>eT(e++)),e}function OU(t,e){return t.backgroundColor=t.data.map(()=>tT(e++)),e}function FU(t){let e=0;return(n,s)=>{let r=t.getDatasetMeta(s).controller;r instanceof Jy?e=RU(n,e):r instanceof HI?e=OU(n,e):r&&(e=PU(n,e))}}function mI(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function LU(t){return t&&(t.borderColor||t.backgroundColor)}var BU={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;let{data:{datasets:s},options:r}=t.config,{elements:i}=r;if(!n.forceOverride&&(mI(s)||LU(r)||i&&mI(i)))return;let o=FU(t);s.forEach(o)}};function VU(t,e,n,s,r){let i=r.samples||s;if(i>=n)return t.slice(e,e+n);let o=[],a=(n-2)/(i-2),c=0,l=e+n-1,u=e,d,h,f,g,y;for(o[c++]=t[u],d=0;d<i-2;d++){let v=0,b=0,x,C=Math.floor((d+1)*a)+1+e,D=Math.min(Math.floor((d+2)*a)+1,n)+e,S=D-C;for(x=C;x<D;x++)v+=t[x].x,b+=t[x].y;v/=S,b/=S;let I=Math.floor(d*a)+1+e,k=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:M,y:A}=t[u];for(f=g=-1,x=I;x<k;x++)g=.5*Math.abs((M-v)*(t[x].y-A)-(M-t[x].x)*(b-A)),g>f&&(f=g,h=t[x],y=x);o[c++]=h,u=y}return o[c++]=t[l],o}function $U(t,e,n,s){let r=0,i=0,o,a,c,l,u,d,h,f,g,y,v=[],b=e+n-1,x=t[e].x,D=t[b].x-x;for(o=e;o<e+n;++o){a=t[o],c=(a.x-x)/D*s,l=a.y;let S=c|0;if(S===u)l<g?(g=l,d=o):l>y&&(y=l,h=o),r=(i*r+a.x)/++i;else{let I=o-1;if(!ue(d)&&!ue(h)){let k=Math.min(d,h),M=Math.max(d,h);k!==f&&k!==I&&v.push(me(_({},t[k]),{x:r})),M!==f&&M!==I&&v.push(me(_({},t[M]),{x:r}))}o>0&&I!==f&&v.push(t[I]),v.push(a),u=S,i=0,g=y=l,d=h=f=o}}return v}function nT(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function vI(t){t.data.datasets.forEach(e=>{nT(e)})}function jU(t,e){let n=e.length,s=0,r,{iScale:i}=t,{min:o,max:a,minDefined:c,maxDefined:l}=i.getUserBounds();return c&&(s=Xe(Zn(e,i.axis,o).lo,0,n-1)),l?r=Xe(Zn(e,i.axis,a).hi+1,s,n)-s:r=n-s,{start:s,count:r}}var HU={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){vI(t);return}let s=t.width;t.data.datasets.forEach((r,i)=>{let{_data:o,indexAxis:a}=r,c=t.getDatasetMeta(i),l=o||r.data;if(la([a,t.options.indexAxis])==="y"||!c.controller.supportsDecimation)return;let u=t.scales[c.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=jU(c,l),f=n.threshold||4*s;if(h<=f){nT(r);return}ue(o)&&(r._data=l,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(y){this._data=y}}));let g;switch(n.algorithm){case"lttb":g=VU(l,d,h,s,n);break;case"min-max":g=$U(l,d,h,s);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=g})},destroy(t){vI(t)}};function UU(t,e,n){let s=t.segments,r=t.points,i=e.points,o=[];for(let a of s){let{start:c,end:l}=a;l=ew(c,l,r);let u=qy(n,r[c],r[l],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[c],end:r[l]});continue}let d=xy(e,u);for(let h of d){let f=qy(n,i[h.start],i[h.end],h.loop),g=Ey(a,r,f);for(let y of g)o.push({source:y,target:h,start:{[n]:yI(u,f,"start",Math.max)},end:{[n]:yI(u,f,"end",Math.min)}})}}return o}function qy(t,e,n,s){if(s)return;let r=e[t],i=n[t];return t==="angle"&&(r=Ft(r),i=Ft(i)),{property:t,start:r,end:i}}function zU(t,e){let{x:n=null,y:s=null}=t||{},r=e.points,i=[];return e.segments.forEach(({start:o,end:a})=>{a=ew(o,a,r);let c=r[o],l=r[a];s!==null?(i.push({x:c.x,y:s}),i.push({x:l.x,y:s})):n!==null&&(i.push({x:n,y:c.y}),i.push({x:n,y:l.y}))}),i}function ew(t,e,n){for(;e>t;e--){let s=n[e];if(!isNaN(s.x)&&!isNaN(s.y))break}return e}function yI(t,e,n,s){return t&&e?s(t[n],e[n]):t?t[n]:e?e[n]:0}function sT(t,e){let n=[],s=!1;return Ae(t)?(s=!0,n=t):n=zU(t,e),n.length?new tf({points:n,options:{tension:0},_loop:s,_fullLoop:s}):null}function wI(t){return t&&t.fill!==!1}function WU(t,e,n){let r=t[e].fill,i=[e],o;if(!n)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!Fe(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;i.push(r),r=o.fill}return!1}function qU(t,e,n){let s=QU(t);if(re(s))return isNaN(s.value)?!1:s;let r=parseFloat(s);return Fe(r)&&Math.floor(r)===r?GU(s[0],e,r,n):["origin","start","end","stack","shape"].indexOf(s)>=0&&s}function GU(t,e,n,s){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=s?!1:n}function YU(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:re(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function XU(t,e,n){let s;return t==="start"?s=n:t==="end"?s=e.options.reverse?e.min:e.max:re(t)?s=t.value:s=e.getBaseValue(),s}function QU(t){let e=t.options,n=e.fill,s=Y(n&&n.target,n);return s===void 0&&(s=!!e.backgroundColor),s===!1||s===null?!1:s===!0?"origin":s}function ZU(t){let{scale:e,index:n,line:s}=t,r=[],i=s.segments,o=s.points,a=KU(e,n);a.push(sT({x:null,y:e.bottom},s));for(let c=0;c<i.length;c++){let l=i[c];for(let u=l.start;u<=l.end;u++)JU(r,o[u],a)}return new tf({points:r,options:{}})}function KU(t,e){let n=[],s=t.getMatchingVisibleMetas("line");for(let r=0;r<s.length;r++){let i=s[r];if(i.index===e)break;i.hidden||n.unshift(i.dataset)}return n}function JU(t,e,n){let s=[];for(let r=0;r<n.length;r++){let i=n[r],{first:o,last:a,point:c}=e5(i,e,"x");if(!(!c||o&&a)){if(o)s.unshift(c);else if(t.push(c),!a)break}}t.push(...s)}function e5(t,e,n){let s=t.interpolate(e,n);if(!s)return{};let r=s[n],i=t.segments,o=t.points,a=!1,c=!1;for(let l=0;l<i.length;l++){let u=i[l],d=o[u.start][n],h=o[u.end][n];if(es(r,d,h)){a=r===d,c=r===h;break}}return{first:a,last:c,point:s}}var Kh=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,s){let{x:r,y:i,radius:o}=this;return n=n||{start:0,end:Ne},e.arc(r,i,o,n.end,n.start,!0),!s.bounds}interpolate(e){let{x:n,y:s,radius:r}=this,i=e.angle;return{x:n+Math.cos(i)*r,y:s+Math.sin(i)*r,angle:i}}};function t5(t){let{chart:e,fill:n,line:s}=t;if(Fe(n))return n5(e,n);if(n==="stack")return ZU(t);if(n==="shape")return!0;let r=s5(t);return r instanceof Kh?r:sT(r,s)}function n5(t,e){let n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function s5(t){return(t.scale||{}).getPointPositionForValue?i5(t):r5(t)}function r5(t){let{scale:e={},fill:n}=t,s=YU(n,e);if(Fe(s)){let r=e.isHorizontal();return{x:r?s:null,y:r?null:s}}return null}function i5(t){let{scale:e,fill:n}=t,s=e.options,r=e.getLabels().length,i=s.reverse?e.max:e.min,o=XU(n,e,i),a=[];if(s.grid.circular){let c=e.getPointPositionForValue(0,i);return new Kh({x:c.x,y:c.y,radius:e.getDistanceFromCenterForValue(o)})}for(let c=0;c<r;++c)a.push(e.getPointPositionForValue(c,o));return a}function Ny(t,e,n){let s=t5(e),{line:r,scale:i,axis:o}=e,a=r.options,c=a.fill,l=a.backgroundColor,{above:u=l,below:d=l}=c||{};s&&r.points.length&&(Zc(t,n),o5(t,{line:r,target:s,above:u,below:d,area:n,scale:i,axis:o}),Kc(t))}function o5(t,e){let{line:n,target:s,above:r,below:i,area:o,scale:a}=e,c=n._loop?"angle":e.axis;t.save(),c==="x"&&i!==r&&(bI(t,s,o.top),EI(t,{line:n,target:s,color:r,scale:a,property:c}),t.restore(),t.save(),bI(t,s,o.bottom)),EI(t,{line:n,target:s,color:i,scale:a,property:c}),t.restore()}function bI(t,e,n){let{segments:s,points:r}=e,i=!0,o=!1;t.beginPath();for(let a of s){let{start:c,end:l}=a,u=r[c],d=r[ew(c,l,r)];i?(t.moveTo(u.x,u.y),i=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function EI(t,e){let{line:n,target:s,property:r,color:i,scale:o}=e,a=UU(n,s,r);for(let{source:c,target:l,start:u,end:d}of a){let{style:{backgroundColor:h=i}={}}=c,f=s!==!0;t.save(),t.fillStyle=h,a5(t,o,f&&qy(r,u,d)),t.beginPath();let g=!!n.pathSegment(t,c),y;if(f){g?t.closePath():xI(t,s,d,r);let v=!!s.pathSegment(t,l,{move:g,reverse:!0});y=g&&v,y||xI(t,s,u,r)}t.closePath(),t.fill(y?"evenodd":"nonzero"),t.restore()}}function a5(t,e,n){let{top:s,bottom:r}=e.chart.chartArea,{property:i,start:o,end:a}=n||{};i==="x"&&(t.beginPath(),t.rect(o,s,a-o,r-s),t.clip())}function xI(t,e,n,s){let r=e.interpolate(n,s);r&&t.lineTo(r.x,r.y)}var c5={id:"filler",afterDatasetsUpdate(t,e,n){let s=(t.data.datasets||[]).length,r=[],i,o,a,c;for(o=0;o<s;++o)i=t.getDatasetMeta(o),a=i.dataset,c=null,a&&a.options&&a instanceof tf&&(c={visible:t.isDatasetVisible(o),index:o,fill:qU(a,o,s),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:a}),i.$filler=c,r.push(c);for(o=0;o<s;++o)c=r[o],!(!c||c.fill===!1)&&(c.fill=WU(r,o,n.propagate))},beforeDraw(t,e,n){let s=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(i,a.axis),s&&a.fill&&Ny(t.ctx,a,i))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;let s=t.getSortedVisibleDatasetMetas();for(let r=s.length-1;r>=0;--r){let i=s[r].$filler;wI(i)&&Ny(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,n){let s=e.meta.$filler;!wI(s)||n.drawTime!=="beforeDatasetDraw"||Ny(t.ctx,s,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},CI=(t,e)=>{let{boxHeight:n=e,boxWidth:s=e}=t;return t.usePointStyle&&(n=Math.min(n,e),s=t.pointStyleWidth||Math.min(s,e)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(e,n)}},l5=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,Jh=class extends In{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,s){this.maxWidth=e,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},n=_e(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(s=>e.filter(s,this.chart.data))),e.sort&&(n=n.sort((s,r)=>e.sort(s,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){let{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}let s=e.labels,r=Ge(s.font),i=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:c}=CI(s,i),l,u;n.font=r.string,this.isHorizontal()?(l=this.maxWidth,u=this._fitRows(o,i,a,c)+10):(u=this.maxHeight,l=this._fitCols(o,r,a,c)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,s,r){let{ctx:i,maxWidth:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.lineWidths=[0],u=r+a,d=e;i.textAlign="left",i.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((g,y)=>{let v=s+n/2+i.measureText(g.text).width;(y===0||l[l.length-1]+v+2*a>o)&&(d+=u,l[l.length-(y>0?0:1)]=0,f+=u,h++),c[y]={left:0,top:f,row:h,width:v,height:r},l[l.length-1]+=v+a}),d}_fitCols(e,n,s,r){let{ctx:i,maxHeight:o,options:{labels:{padding:a}}}=this,c=this.legendHitBoxes=[],l=this.columnSizes=[],u=o-e,d=a,h=0,f=0,g=0,y=0;return this.legendItems.forEach((v,b)=>{let{itemWidth:x,itemHeight:C}=u5(s,n,i,v,r);b>0&&f+C+2*a>u&&(d+=h+a,l.push({width:h,height:f}),g+=h+a,y++,h=f=0),c[b]={left:g,top:f,col:y,width:x,height:C},h=Math.max(h,x),f+=C+a}),d+=h,l.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:r},rtl:i}}=this,o=Ni(i,this.left,this.width);if(this.isHorizontal()){let a=0,c=ct(s,this.left+r,this.right-this.lineWidths[a]);for(let l of n)a!==l.row&&(a=l.row,c=ct(s,this.left+r,this.right-this.lineWidths[a])),l.top+=this.top+e+r,l.left=o.leftForLtr(o.x(c),l.width),c+=l.width+r}else{let a=0,c=ct(s,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let l of n)l.col!==a&&(a=l.col,c=ct(s,this.top+e+r,this.bottom-this.columnSizes[a].height)),l.top=c,l.left+=this.left+r,l.left=o.leftForLtr(o.x(l.left),l.width),c+=l.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Zc(e,this),this._draw(),Kc(e)}}_draw(){let{options:e,columnSizes:n,lineWidths:s,ctx:r}=this,{align:i,labels:o}=e,a=Le.color,c=Ni(e.rtl,this.left,this.width),l=Ge(o.font),{padding:u}=o,d=l.size,h=d/2,f;this.drawTitle(),r.textAlign=c.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;let{boxWidth:g,boxHeight:y,itemHeight:v}=CI(o,d),b=function(I,k,M){if(isNaN(g)||g<=0||isNaN(y)||y<0)return;r.save();let A=Y(M.lineWidth,1);if(r.fillStyle=Y(M.fillStyle,a),r.lineCap=Y(M.lineCap,"butt"),r.lineDashOffset=Y(M.lineDashOffset,0),r.lineJoin=Y(M.lineJoin,"miter"),r.lineWidth=A,r.strokeStyle=Y(M.strokeStyle,a),r.setLineDash(Y(M.lineDash,[])),o.usePointStyle){let $={radius:y*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:A},N=c.xPlus(I,g/2),B=k+h;dy(r,$,N,B,o.pointStyleWidth&&g)}else{let $=k+Math.max((d-y)/2,0),N=c.leftForLtr(I,g),B=xr(M.borderRadius);r.beginPath(),Object.values(B).some(Ce=>Ce!==0)?ca(r,{x:N,y:$,w:g,h:y,radius:B}):r.rect(N,$,g,y),r.fill(),A!==0&&r.stroke()}r.restore()},x=function(I,k,M){Er(r,M.text,I,k+v/2,l,{strikethrough:M.hidden,textAlign:c.textAlign(M.textAlign)})},C=this.isHorizontal(),D=this._computeTitleHeight();C?f={x:ct(i,this.left+u,this.right-s[0]),y:this.top+u+D,line:0}:f={x:this.left+u,y:ct(i,this.top+D+u,this.bottom-n[0].height),line:0},wy(this.ctx,e.textDirection);let S=v+u;this.legendItems.forEach((I,k)=>{r.strokeStyle=I.fontColor,r.fillStyle=I.fontColor;let M=r.measureText(I.text).width,A=c.textAlign(I.textAlign||(I.textAlign=o.textAlign)),$=g+h+M,N=f.x,B=f.y;c.setWidth(this.width),C?k>0&&N+$+u>this.right&&(B=f.y+=S,f.line++,N=f.x=ct(i,this.left+u,this.right-s[f.line])):k>0&&B+S>this.bottom&&(N=f.x=N+n[f.line].width+u,f.line++,B=f.y=ct(i,this.top+D+u,this.bottom-n[f.line].height));let Ce=c.x(N);if(b(Ce,B,I),N=x_(A,N+g+h,C?N+$:this.right,e.rtl),x(c.x(N),B,I),C)f.x+=$+u;else if(typeof I.text!="string"){let ke=l.lineHeight;f.y+=rT(I,ke)+u}else f.y+=S}),by(this.ctx,e.textDirection)}drawTitle(){let e=this.options,n=e.title,s=Ge(n.font),r=lt(n.padding);if(!n.display)return;let i=Ni(e.rtl,this.left,this.width),o=this.ctx,a=n.position,c=s.size/2,l=r.top+c,u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+l,d=ct(e.align,d,this.right-h);else{let g=this.columnSizes.reduce((y,v)=>Math.max(y,v.height),0);u=l+ct(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}let f=ct(a,d,d+h);o.textAlign=i.textAlign(Nh(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,Er(o,n.text,f,u,s)}_computeTitleHeight(){let e=this.options.title,n=Ge(e.font),s=lt(e.padding);return e.display?n.lineHeight+s.height:0}_getLegendItemAt(e,n){let s,r,i;if(es(e,this.left,this.right)&&es(n,this.top,this.bottom)){for(i=this.legendHitBoxes,s=0;s<i.length;++s)if(r=i[s],es(e,r.left,r.left+r.width)&&es(n,r.top,r.top+r.height))return this.legendItems[s]}return null}handleEvent(e){let n=this.options;if(!f5(e.type,n))return;let s=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,i=l5(r,s);r&&!i&&_e(n.onLeave,[e,r,this],this),this._hoveredItem=s,s&&!i&&_e(n.onHover,[e,s,this],this)}else s&&_e(n.onClick,[e,s,this],this)}};function u5(t,e,n,s,r){let i=d5(s,t,e,n),o=h5(r,s,e.lineHeight);return{itemWidth:i,itemHeight:o}}function d5(t,e,n,s){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,o)=>i.length>o.length?i:o)),e+n.size/2+s.measureText(r).width}function h5(t,e,n){let s=t;return typeof e.text!="string"&&(s=rT(e,n)),s}function rT(t,e){let n=t.text?t.text.length:0;return e*n}function f5(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var p5={id:"legend",_element:Jh,start(t,e,n){let s=t.legend=new Jh({ctx:t.ctx,options:n,chart:t});yt.configure(t,s,n),yt.addBox(t,s)},stop(t){yt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){let s=t.legend;yt.configure(t,s,n),s.options=n},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){let s=e.datasetIndex,r=n.chart;r.isDatasetVisible(s)?(r.hide(s),e.hidden=!0):(r.show(s),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:r,color:i,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(c=>{let l=c.controller.getStyle(n?0:void 0),u=lt(l.borderWidth);return{text:e[c.index].label,fillStyle:l.backgroundColor,fontColor:i,hidden:!c.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:l.borderColor,pointStyle:s||l.pointStyle,rotation:l.rotation,textAlign:r||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:c.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},al=class extends In{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){let s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;let r=Ae(s.text)?s.text.length:1;this._padding=lt(s.padding);let i=r*Ge(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:n,left:s,bottom:r,right:i,options:o}=this,a=o.align,c=0,l,u,d;return this.isHorizontal()?(u=ct(a,s,i),d=n+e,l=i-s):(o.position==="left"?(u=s+e,d=ct(a,r,n),c=Me*-.5):(u=i-e,d=ct(a,n,r),c=Me*.5),l=r-n),{titleX:u,titleY:d,maxWidth:l,rotation:c}}draw(){let e=this.ctx,n=this.options;if(!n.display)return;let s=Ge(n.font),i=s.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:c,rotation:l}=this._drawArgs(i);Er(e,n.text,0,0,s,{color:n.color,maxWidth:c,rotation:l,textAlign:Nh(n.align),textBaseline:"middle",translation:[o,a]})}};function g5(t,e){let n=new al({ctx:t.ctx,options:e,chart:t});yt.configure(t,n,e),yt.addBox(t,n),t.titleBlock=n}var m5={id:"title",_element:al,start(t,e,n){g5(t,n)},stop(t){let e=t.titleBlock;yt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){let s=t.titleBlock;yt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Uh=new WeakMap,v5={id:"subtitle",start(t,e,n){let s=new al({ctx:t.ctx,options:n,chart:t});yt.configure(t,s,n),yt.addBox(t,s),Uh.set(t,s)},stop(t){yt.removeBox(t,Uh.get(t)),Uh.delete(t)},beforeUpdate(t,e,n){let s=Uh.get(t);yt.configure(t,s,n),s.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},il={average(t){if(!t.length)return!1;let e,n,s=new Set,r=0,i=0;for(e=0,n=t.length;e<n;++e){let a=t[e].element;if(a&&a.hasValue()){let c=a.tooltipPosition();s.add(c.x),r+=c.y,++i}}return{x:[...s].reduce((a,c)=>a+c)/s.size,y:r/i}},nearest(t,e){if(!t.length)return!1;let n=e.x,s=e.y,r=Number.POSITIVE_INFINITY,i,o,a;for(i=0,o=t.length;i<o;++i){let c=t[i].element;if(c&&c.hasValue()){let l=c.getCenterPoint(),u=_h(e,l);u<r&&(r=u,a=c)}}if(a){let c=a.tooltipPosition();n=c.x,s=c.y}return{x:n,y:s}}};function ts(t,e){return e&&(Ae(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Rs(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function y5(t,e){let{element:n,datasetIndex:s,index:r}=e,i=t.getDatasetMeta(s).controller,{label:o,value:a}=i.getLabelAndValue(r);return{chart:t,label:o,parsed:i.getParsed(r),raw:t.data.datasets[s].data[r],formattedValue:a,dataset:i.getDataset(),dataIndex:r,datasetIndex:s,element:n}}function SI(t,e){let n=t.chart.ctx,{body:s,footer:r,title:i}=t,{boxWidth:o,boxHeight:a}=e,c=Ge(e.bodyFont),l=Ge(e.titleFont),u=Ge(e.footerFont),d=i.length,h=r.length,f=s.length,g=lt(e.padding),y=g.height,v=0,b=s.reduce((D,S)=>D+S.before.length+S.lines.length+S.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,d&&(y+=d*l.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),b){let D=e.displayColors?Math.max(a,c.lineHeight):c.lineHeight;y+=f*D+(b-f)*c.lineHeight+(b-1)*e.bodySpacing}h&&(y+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let x=0,C=function(D){v=Math.max(v,n.measureText(D).width+x)};return n.save(),n.font=l.string,ye(t.title,C),n.font=c.string,ye(t.beforeBody.concat(t.afterBody),C),x=e.displayColors?o+2+e.boxPadding:0,ye(s,D=>{ye(D.before,C),ye(D.lines,C),ye(D.after,C)}),x=0,n.font=u.string,ye(t.footer,C),n.restore(),v+=g.width,{width:v,height:y}}function w5(t,e){let{y:n,height:s}=e;return n<s/2?"top":n>t.height-s/2?"bottom":"center"}function b5(t,e,n,s){let{x:r,width:i}=s,o=n.caretSize+n.caretPadding;if(t==="left"&&r+i+o>e.width||t==="right"&&r-i-o<0)return!0}function E5(t,e,n,s){let{x:r,width:i}=n,{width:o,chartArea:{left:a,right:c}}=t,l="center";return s==="center"?l=r<=(a+c)/2?"left":"right":r<=i/2?l="left":r>=o-i/2&&(l="right"),b5(l,t,e,n)&&(l="center"),l}function DI(t,e,n){let s=n.yAlign||e.yAlign||w5(t,n);return{xAlign:n.xAlign||e.xAlign||E5(t,e,n,s),yAlign:s}}function x5(t,e){let{x:n,width:s}=t;return e==="right"?n-=s:e==="center"&&(n-=s/2),n}function C5(t,e,n){let{y:s,height:r}=t;return e==="top"?s+=n:e==="bottom"?s-=r+n:s-=r/2,s}function _I(t,e,n,s){let{caretSize:r,caretPadding:i,cornerRadius:o}=t,{xAlign:a,yAlign:c}=n,l=r+i,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=xr(o),g=x5(e,a),y=C5(e,c,l);return c==="center"?a==="left"?g+=l:a==="right"&&(g-=l):a==="left"?g-=Math.max(u,h)+r:a==="right"&&(g+=Math.max(d,f)+r),{x:Xe(g,0,s.width-e.width),y:Xe(y,0,s.height-e.height)}}function zh(t,e,n){let s=lt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-s.right:t.x+s.left}function II(t){return ts([],Rs(t))}function S5(t,e,n){return ks(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function TI(t,e){let n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var iT={beforeTitle:Jn,title(t){if(t.length>0){let e=t[0],n=e.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(s>0&&e.dataIndex<s)return n[e.dataIndex]}return""},afterTitle:Jn,beforeBody:Jn,beforeLabel:Jn,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let n=t.formattedValue;return ue(n)||(e+=n),e},labelColor(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Jn,afterBody:Jn,beforeFooter:Jn,footer:Jn,afterFooter:Jn};function Bt(t,e,n,s){let r=t[e].call(n,s);return typeof r>"u"?iT[e].call(n,s):r}var AI=(()=>{class t extends In{static positioners=il;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let s=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&s.options.animation&&r.animations,o=new Yh(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=S5(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,s){let{callbacks:r}=s,i=Bt(r,"beforeTitle",this,n),o=Bt(r,"title",this,n),a=Bt(r,"afterTitle",this,n),c=[];return c=ts(c,Rs(i)),c=ts(c,Rs(o)),c=ts(c,Rs(a)),c}getBeforeBody(n,s){return II(Bt(s.callbacks,"beforeBody",this,n))}getBody(n,s){let{callbacks:r}=s,i=[];return ye(n,o=>{let a={before:[],lines:[],after:[]},c=TI(r,o);ts(a.before,Rs(Bt(c,"beforeLabel",this,o))),ts(a.lines,Bt(c,"label",this,o)),ts(a.after,Rs(Bt(c,"afterLabel",this,o))),i.push(a)}),i}getAfterBody(n,s){return II(Bt(s.callbacks,"afterBody",this,n))}getFooter(n,s){let{callbacks:r}=s,i=Bt(r,"beforeFooter",this,n),o=Bt(r,"footer",this,n),a=Bt(r,"afterFooter",this,n),c=[];return c=ts(c,Rs(i)),c=ts(c,Rs(o)),c=ts(c,Rs(a)),c}_createItems(n){let s=this._active,r=this.chart.data,i=[],o=[],a=[],c=[],l,u;for(l=0,u=s.length;l<u;++l)c.push(y5(this.chart,s[l]));return n.filter&&(c=c.filter((d,h,f)=>n.filter(d,h,f,r))),n.itemSort&&(c=c.sort((d,h)=>n.itemSort(d,h,r))),ye(c,d=>{let h=TI(n.callbacks,d);i.push(Bt(h,"labelColor",this,d)),o.push(Bt(h,"labelPointStyle",this,d)),a.push(Bt(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=c,c}update(n,s){let r=this.options.setContext(this.getContext()),i=this._active,o,a=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{let c=il[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let l=this._size=SI(this,r),u=Object.assign({},c,l),d=DI(this.chart,r,u),h=_I(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:c.x,caretY:c.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),n&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(n,s,r,i){let o=this.getCaretPosition(n,r,i);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(n,s,r){let{xAlign:i,yAlign:o}=this,{caretSize:a,cornerRadius:c}=r,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:h}=xr(c),{x:f,y:g}=n,{width:y,height:v}=s,b,x,C,D,S,I;return o==="center"?(S=g+v/2,i==="left"?(b=f,x=b-a,D=S+a,I=S-a):(b=f+y,x=b+a,D=S-a,I=S+a),C=b):(i==="left"?x=f+Math.max(l,d)+a:i==="right"?x=f+y-Math.max(u,h)-a:x=this.caretX,o==="top"?(D=g,S=D-a,b=x-a,C=x+a):(D=g+v,S=D+a,b=x+a,C=x-a),I=D),{x1:b,x2:x,x3:C,y1:D,y2:S,y3:I}}drawTitle(n,s,r){let i=this.title,o=i.length,a,c,l;if(o){let u=Ni(r.rtl,this.x,this.width);for(n.x=zh(this,r.titleAlign,r),s.textAlign=u.textAlign(r.titleAlign),s.textBaseline="middle",a=Ge(r.titleFont),c=r.titleSpacing,s.fillStyle=r.titleColor,s.font=a.string,l=0;l<o;++l)s.fillText(i[l],u.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+c,l+1===o&&(n.y+=r.titleMarginBottom-c)}}_drawColorBox(n,s,r,i,o){let a=this.labelColors[r],c=this.labelPointStyles[r],{boxHeight:l,boxWidth:u}=o,d=Ge(o.bodyFont),h=zh(this,"left",o),f=i.x(h),g=l<d.lineHeight?(d.lineHeight-l)/2:0,y=s.y+g;if(o.usePointStyle){let v={radius:Math.min(u,l)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},b=i.leftForLtr(f,u)+u/2,x=y+l/2;n.strokeStyle=o.multiKeyBackground,n.fillStyle=o.multiKeyBackground,Ph(n,v,b,x),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,Ph(n,v,b,x)}else{n.lineWidth=re(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;let v=i.leftForLtr(f,u),b=i.leftForLtr(i.xPlus(f,1),u-2),x=xr(a.borderRadius);Object.values(x).some(C=>C!==0)?(n.beginPath(),n.fillStyle=o.multiKeyBackground,ca(n,{x:v,y,w:u,h:l,radius:x}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),ca(n,{x:b,y:y+1,w:u-2,h:l-2,radius:x}),n.fill()):(n.fillStyle=o.multiKeyBackground,n.fillRect(v,y,u,l),n.strokeRect(v,y,u,l),n.fillStyle=a.backgroundColor,n.fillRect(b,y+1,u-2,l-2))}n.fillStyle=this.labelTextColors[r]}drawBody(n,s,r){let{body:i}=this,{bodySpacing:o,bodyAlign:a,displayColors:c,boxHeight:l,boxWidth:u,boxPadding:d}=r,h=Ge(r.bodyFont),f=h.lineHeight,g=0,y=Ni(r.rtl,this.x,this.width),v=function(A){s.fillText(A,y.x(n.x+g),n.y+f/2),n.y+=f+o},b=y.textAlign(a),x,C,D,S,I,k,M;for(s.textAlign=a,s.textBaseline="middle",s.font=h.string,n.x=zh(this,b,r),s.fillStyle=r.bodyColor,ye(this.beforeBody,v),g=c&&b!=="right"?a==="center"?u/2+d:u+2+d:0,S=0,k=i.length;S<k;++S){for(x=i[S],C=this.labelTextColors[S],s.fillStyle=C,ye(x.before,v),D=x.lines,c&&D.length&&(this._drawColorBox(s,n,S,y,r),f=Math.max(h.lineHeight,l)),I=0,M=D.length;I<M;++I)v(D[I]),f=h.lineHeight;ye(x.after,v)}g=0,f=h.lineHeight,ye(this.afterBody,v),n.y-=o}drawFooter(n,s,r){let i=this.footer,o=i.length,a,c;if(o){let l=Ni(r.rtl,this.x,this.width);for(n.x=zh(this,r.footerAlign,r),n.y+=r.footerMarginTop,s.textAlign=l.textAlign(r.footerAlign),s.textBaseline="middle",a=Ge(r.footerFont),s.fillStyle=r.footerColor,s.font=a.string,c=0;c<o;++c)s.fillText(i[c],l.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+r.footerSpacing}}drawBackground(n,s,r,i){let{xAlign:o,yAlign:a}=this,{x:c,y:l}=n,{width:u,height:d}=r,{topLeft:h,topRight:f,bottomLeft:g,bottomRight:y}=xr(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(c+h,l),a==="top"&&this.drawCaret(n,s,r,i),s.lineTo(c+u-f,l),s.quadraticCurveTo(c+u,l,c+u,l+f),a==="center"&&o==="right"&&this.drawCaret(n,s,r,i),s.lineTo(c+u,l+d-y),s.quadraticCurveTo(c+u,l+d,c+u-y,l+d),a==="bottom"&&this.drawCaret(n,s,r,i),s.lineTo(c+g,l+d),s.quadraticCurveTo(c,l+d,c,l+d-g),a==="center"&&o==="left"&&this.drawCaret(n,s,r,i),s.lineTo(c,l+h),s.quadraticCurveTo(c,l,c+h,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(n){let s=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){let a=il[n.position].call(this,this._active,this._eventPosition);if(!a)return;let c=this._size=SI(this,n),l=Object.assign({},a,this._size),u=DI(s,n,l),d=_I(n,l,u,s);(i._to!==d.x||o._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=c.width,this.height=c.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(n){let s=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(s);let i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=lt(s.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&c&&(n.save(),n.globalAlpha=r,this.drawBackground(o,n,i,s),wy(n,s.textDirection),o.y+=a.top,this.drawTitle(o,n,s),this.drawBody(o,n,s),this.drawFooter(o,n,s),by(n,s.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,s){let r=this._active,i=n.map(({datasetIndex:c,index:l})=>{let u=this.chart.getDatasetMeta(c);if(!u)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:u.data[l],index:l}}),o=!Xc(r,i),a=this._positionChanged(i,s);(o||a)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,s,r=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let i=this.options,o=this._active||[],a=this._getActiveElements(n,o,s,r),c=this._positionChanged(a,n),l=s||!Xc(a,o)||c;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,s))),l}_getActiveElements(n,s,r,i){let o=this.options;if(n.type==="mouseout")return[];if(!i)return s.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);let a=this.chart.getElementsAtEventForMode(n,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(n,s){let{caretX:r,caretY:i,options:o}=this,a=il[o.position].call(this,n,s);return a!==!1&&(r!==a.x||i!==a.y)}}return t})(),D5={id:"tooltip",_element:AI,positioners:il,afterInit(t,e,n){n&&(t.tooltip=new AI({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",me(_({},n),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){let n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:iT},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},_5=Object.freeze({__proto__:null,Colors:BU,Decimation:HU,Filler:c5,Legend:p5,SubTitle:v5,Title:m5,Tooltip:D5}),I5=(t,e,n,s)=>(typeof e=="string"?(n=t.push(e)-1,s.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function T5(t,e,n,s){let r=t.indexOf(e);if(r===-1)return I5(t,e,n,s);let i=t.lastIndexOf(e);return r!==i?n:r}var A5=(t,e)=>t===null?null:Xe(Math.round(t),0,e);function MI(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var M5=(()=>{class t extends Ri{static id="category";static defaults={ticks:{callback:MI}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let s=this._addedLabels;if(s.length){let r=this.getLabels();for(let{index:i,label:o}of s)r[i]===o&&r.splice(i,1);this._addedLabels=[]}super.init(n)}parse(n,s){if(ue(n))return null;let r=this.getLabels();return s=isFinite(s)&&r[s]===n?s:T5(r,n,Y(s,n),this._addedLabels),A5(s,r.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:s}=this.getUserBounds(),{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(r=0),s||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){let n=this.min,s=this.max,r=this.options.offset,i=[],o=this.getLabels();o=n===0&&s===o.length-1?o:o.slice(n,s+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=n;a<=s;a++)i.push({value:a});return i}getLabelForValue(n){return MI.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let s=this.ticks;return n<0||n>s.length-1?null:this.getPixelForValue(s[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function N5(t,e){let n=[],{bounds:r,step:i,min:o,max:a,precision:c,count:l,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=i||1,g=u-1,{min:y,max:v}=e,b=!ue(o),x=!ue(a),C=!ue(l),D=(v-y)/(d+1),S=Kv((v-y)/g/f)*f,I,k,M,A;if(S<1e-14&&!b&&!x)return[{value:y},{value:v}];A=Math.ceil(v/S)-Math.floor(y/S),A>g&&(S=Kv(A*S/g/f)*f),ue(c)||(I=Math.pow(10,c),S=Math.ceil(S*I)/I),r==="ticks"?(k=Math.floor(y/S)*S,M=Math.ceil(v/S)*S):(k=y,M=v),b&&x&&i&&g_((a-o)/i,S/1e3)?(A=Math.round(Math.min((a-o)/S,u)),S=(a-o)/A,k=o,M=a):C?(k=b?o:k,M=x?a:M,A=l-1,S=(M-k)/A):(A=(M-k)/S,ia(A,Math.round(A),S/1e3)?A=Math.round(A):A=Math.ceil(A));let $=Math.max(ey(S),ey(k));I=Math.pow(10,ue(c)?$:c),k=Math.round(k*I)/I,M=Math.round(M*I)/I;let N=0;for(b&&(h&&k!==o?(n.push({value:o}),k<o&&N++,ia(Math.round((k+N*S)*I)/I,o,NI(o,D,t))&&N++):k<o&&N++);N<A;++N){let B=Math.round((k+N*S)*I)/I;if(x&&B>a)break;n.push({value:B})}return x&&h&&M!==a?n.length&&ia(n[n.length-1].value,a,NI(a,D,t))?n[n.length-1].value=a:n.push({value:a}):(!x||M===a)&&n.push({value:M}),n}function NI(t,e,{horizontal:n,minRotation:s}){let r=dn(s),i=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}var ha=class extends Ri{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ue(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds(),{min:r,max:i}=this,o=c=>r=n?r:c,a=c=>i=s?i:c;if(e){let c=_n(r),l=_n(i);c<0&&l<0?a(0):c>0&&l>0&&o(0)}if(r===i){let c=i===0?1:Math.abs(i*.05);a(i+c),e||o(r-c)}this.min=r,this.max=i}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:n,stepSize:s}=e,r;return s?(r=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,n=e.ticks,s=this.getTickLimit();s=Math.max(2,s);let r={maxTicks:s,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},i=this._range||this,o=N5(r,i);return e.bounds==="ticks"&&Jv(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,n=this.min,s=this.max;if(super.configure(),this.options.offset&&e.length){let r=(s-n)/Math.max(e.length-1,1)/2;n-=r,s+=r}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(e){return aa(e,this.chart.options.locale,this.options.ticks.format)}},Gy=class extends ha{static id="linear";static defaults={ticks:{callback:Qc.formatters.numeric}};determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=Fe(e)?e:0,this.max=Fe(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),n=e?this.width:this.height,s=dn(this.options.ticks.minRotation),r=(e?Math.sin(s):Math.cos(s))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,i.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},cl=t=>Math.floor(Ms(t)),Pi=(t,e)=>Math.pow(10,cl(t)+e);function kI(t){return t/Math.pow(10,cl(t))===1}function PI(t,e,n){let s=Math.pow(10,n),r=Math.floor(t/s);return Math.ceil(e/s)-r}function k5(t,e){let n=e-t,s=cl(n);for(;PI(t,e,s)>10;)s++;for(;PI(t,e,s)<10;)s--;return Math.min(s,cl(t))}function P5(t,{min:e,max:n}){e=Lt(t.min,e);let s=[],r=cl(e),i=k5(e,n),o=i<0?Math.pow(10,Math.abs(i)):1,a=Math.pow(10,i),c=r>i?Math.pow(10,r):0,l=Math.round((e-c)*o)/o,u=Math.floor((e-c)/a/10)*a*10,d=Math.floor((l-u)/Math.pow(10,i)),h=Lt(t.min,Math.round((c+u+d*Math.pow(10,i))*o)/o);for(;h<n;)s.push({value:h,major:kI(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(i++,d=2,o=i>=0?1:o),h=Math.round((c+u+d*Math.pow(10,i))*o)/o;let f=Lt(t.max,h);return s.push({value:f,major:kI(f),significand:d}),s}var Yy=class extends Ri{static id="logarithmic";static defaults={ticks:{callback:Qc.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){let s=ha.prototype.parse.apply(this,[e,n]);if(s===0){this._zero=!0;return}return Fe(s)&&s>0?s:null}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=Fe(e)?Math.max(0,e):null,this.max=Fe(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Fe(this._userMin)&&(this.min=e===Pi(this.min,0)?Pi(this.min,-1):Pi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),s=this.min,r=this.max,i=a=>s=e?s:a,o=a=>r=n?r:a;s===r&&(s<=0?(i(1),o(10)):(i(Pi(s,-1)),o(Pi(r,1)))),s<=0&&i(Pi(r,-1)),r<=0&&o(Pi(s,1)),this.min=s,this.max=r}buildTicks(){let e=this.options,n={min:this._userMin,max:this._userMax},s=P5(n,this);return e.bounds==="ticks"&&Jv(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}getLabelForValue(e){return e===void 0?"0":aa(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Ms(e),this._valueRange=Ms(this.max)-Ms(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ms(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}};function Xy(t){let e=t.ticks;if(e.display&&t.display){let n=lt(e.backdropPadding);return Y(e.font&&e.font.size,Le.font.size)+n.height}return 0}function R5(t,e,n){return n=Ae(n)?n:[n],{w:S_(t,e.string,n),h:n.length*e.lineHeight}}function RI(t,e,n,s,r){return t===s||t===r?{start:e-n/2,end:e+n/2}:t<s||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function O5(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),s=[],r=[],i=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Me/i:0;for(let c=0;c<i;c++){let l=o.setContext(t.getPointLabelContext(c));r[c]=l.padding;let u=t.getPointPosition(c,t.drawingArea+r[c],a),d=Ge(l.font),h=R5(t.ctx,d,t._pointLabels[c]);s[c]=h;let f=Ft(t.getIndexAngle(c)+a),g=Math.round(Ah(f)),y=RI(g,u.x,h.w,0,180),v=RI(g,u.y,h.h,90,270);F5(n,e,f,y,v)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=V5(t,s,r)}function F5(t,e,n,s,r){let i=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),a=0,c=0;s.start<e.l?(a=(e.l-s.start)/i,t.l=Math.min(t.l,e.l-a)):s.end>e.r&&(a=(s.end-e.r)/i,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(c=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-c)):r.end>e.b&&(c=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+c))}function L5(t,e,n){let s=t.drawingArea,{extra:r,additionalAngle:i,padding:o,size:a}=n,c=t.getPointPosition(e,s+r+o,i),l=Math.round(Ah(Ft(c.angle+He))),u=H5(c.y,a.h,l),d=$5(l),h=j5(c.x,a.w,d);return{visible:!0,x:c.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function B5(t,e){if(!e)return!0;let{left:n,top:s,right:r,bottom:i}=t;return!(Kn({x:n,y:s},e)||Kn({x:n,y:i},e)||Kn({x:r,y:s},e)||Kn({x:r,y:i},e))}function V5(t,e,n){let s=[],r=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:a}=i.pointLabels,c={extra:Xy(i)/2,additionalAngle:o?Me/r:0},l;for(let u=0;u<r;u++){c.padding=n[u],c.size=e[u];let d=L5(t,u,c);s.push(d),a==="auto"&&(d.visible=B5(d,l),d.visible&&(l=d))}return s}function $5(t){return t===0||t===180?"center":t<180?"left":"right"}function j5(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function H5(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function U5(t,e,n){let{left:s,top:r,right:i,bottom:o}=n,{backdropColor:a}=e;if(!ue(a)){let c=xr(e.borderRadius),l=lt(e.backdropPadding);t.fillStyle=a;let u=s-l.left,d=r-l.top,h=i-s+l.width,f=o-r+l.height;Object.values(c).some(g=>g!==0)?(t.beginPath(),ca(t,{x:u,y:d,w:h,h:f,radius:c}),t.fill()):t.fillRect(u,d,h,f)}}function z5(t,e){let{ctx:n,options:{pointLabels:s}}=t;for(let r=e-1;r>=0;r--){let i=t._pointLabelItems[r];if(!i.visible)continue;let o=s.setContext(t.getPointLabelContext(r));U5(n,o,i);let a=Ge(o.font),{x:c,y:l,textAlign:u}=i;Er(n,t._pointLabels[r],c,l+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function oT(t,e,n,s){let{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Ne);else{let i=t.getPointPosition(0,e);r.moveTo(i.x,i.y);for(let o=1;o<s;o++)i=t.getPointPosition(o,e),r.lineTo(i.x,i.y)}}function W5(t,e,n,s,r){let i=t.ctx,o=e.circular,{color:a,lineWidth:c}=e;!o&&!s||!a||!c||n<0||(i.save(),i.strokeStyle=a,i.lineWidth=c,i.setLineDash(r.dash),i.lineDashOffset=r.dashOffset,i.beginPath(),oT(t,n,o,s),i.closePath(),i.stroke(),i.restore())}function q5(t,e,n){return ks(t,{label:n,index:e,type:"pointLabel"})}var Qy=class extends ha{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Qc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=lt(Xy(this.options)/2),n=this.width=this.maxWidth-e.width,s=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+s/2+e.top),this.drawingArea=Math.floor(Math.min(n,s)/2)}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!1);this.min=Fe(e)&&!isNaN(e)?e:0,this.max=Fe(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Xy(this.options))}generateTickLabels(e){ha.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,s)=>{let r=_e(this.options.pointLabels.callback,[n,s],this);return r||r===0?r:""}).filter((n,s)=>this.chart.getDataVisibility(s))}fit(){let e=this.options;e.display&&e.pointLabels.display?O5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,s,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((s-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,s,r))}getIndexAngle(e){let n=Ne/(this._pointLabels.length||1),s=this.options.startAngle||0;return Ft(e*n+dn(s))}getDistanceFromCenterForValue(e){if(ue(e))return NaN;let n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ue(e))return NaN;let n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){let n=this._pointLabels||[];if(e>=0&&e<n.length){let s=n[e];return q5(this.getContext(),e,s)}}getPointPosition(e,n,s=0){let r=this.getIndexAngle(e)-He+s;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:n,top:s,right:r,bottom:i}=this._pointLabelItems[e];return{left:n,top:s,right:r,bottom:i}}drawBackground(){let{backgroundColor:e,grid:{circular:n}}=this.options;if(e){let s=this.ctx;s.save(),s.beginPath(),oT(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),s.closePath(),s.fillStyle=e,s.fill(),s.restore()}}drawGrid(){let e=this.ctx,n=this.options,{angleLines:s,grid:r,border:i}=n,o=this._pointLabels.length,a,c,l;if(n.pointLabels.display&&z5(this,o),r.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){c=this.getDistanceFromCenterForValue(u.value);let h=this.getContext(d),f=r.setContext(h),g=i.setContext(h);W5(this,f,c,o,g)}}),s.display){for(e.save(),a=o-1;a>=0;a--){let u=s.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,c=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),l=this.getPointPosition(a,c),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,n=this.options,s=n.ticks;if(!s.display)return;let r=this.getIndexAngle(0),i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,c)=>{if(c===0&&this.min>=0&&!n.reverse)return;let l=s.setContext(this.getContext(c)),u=Ge(l.font);if(i=this.getDistanceFromCenterForValue(this.ticks[c].value),l.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=l.backdropColor;let d=lt(l.backdropPadding);e.fillRect(-o/2-d.left,-i-u.size/2-d.top,o+d.width,u.size+d.height)}Er(e,a.label,0,-i,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}),e.restore()}drawTitle(){}},nf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vt=Object.keys(nf);function OI(t,e){return t-e}function FI(t,e){if(ue(e))return null;let n=t._adapter,{parser:s,round:r,isoWeekday:i}=t._parseOpts,o=e;return typeof s=="function"&&(o=s(o)),Fe(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(Mi(i)||i===!0)?n.startOf(o,"isoWeek",i):n.startOf(o,r)),+o)}function LI(t,e,n,s){let r=Vt.length;for(let i=Vt.indexOf(t);i<r-1;++i){let o=nf[Vt[i]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=s)return Vt[i]}return Vt[r-1]}function G5(t,e,n,s,r){for(let i=Vt.length-1;i>=Vt.indexOf(n);i--){let o=Vt[i];if(nf[o].common&&t._adapter.diff(r,s,o)>=e-1)return o}return Vt[n?Vt.indexOf(n):0]}function Y5(t){for(let e=Vt.indexOf(t)+1,n=Vt.length;e<n;++e)if(nf[Vt[e]].common)return Vt[e]}function BI(t,e,n){if(!n)t[e]=!0;else if(n.length){let{lo:s,hi:r}=Mh(n,e),i=n[s]>=e?n[s]:n[r];t[i]=!0}}function X5(t,e,n,s){let r=t._adapter,i=+r.startOf(e[0].value,s),o=e[e.length-1].value,a,c;for(a=i;a<=o;a=+r.add(a,1,s))c=n[a],c>=0&&(e[c].major=!0);return e}function VI(t,e,n){let s=[],r={},i=e.length,o,a;for(o=0;o<i;++o)a=e[o],r[a]=o,s.push({value:a,major:!1});return i===0||!n?s:X5(t,s,r,n)}var Zy=(()=>{class t extends Ri{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,s={}){let r=n.time||(n.time={}),i=this._adapter=new aH._date(n.adapters.date);i.init(s),sa(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(n),this._normalized=s.normalized}parse(n,s){return n===void 0?null:FI(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,s=this._adapter,r=n.time.unit||"day",{min:i,max:o,minDefined:a,maxDefined:c}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!c&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!c)&&(l(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Fe(i)&&!isNaN(i)?i:+s.startOf(Date.now(),r),o=Fe(o)&&!isNaN(o)?o:+s.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){let n=this.getLabelTimestamps(),s=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return n.length&&(s=n[0],r=n[n.length-1]),{min:s,max:r}}buildTicks(){let n=this.options,s=n.time,r=n.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);let o=this.min,a=this.max,c=y_(i,o,a);return this._unit=s.unit||(r.autoSkip?LI(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):G5(this,c.length,s.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:Y5(this._unit),this.initOffsets(i),n.reverse&&c.reverse(),VI(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let s=0,r=0,i,o;this.options.offset&&n.length&&(i=this.getDecimalForValue(n[0]),n.length===1?s=1-i:s=(this.getDecimalForValue(n[1])-i)/2,o=this.getDecimalForValue(n[n.length-1]),n.length===1?r=o:r=(o-this.getDecimalForValue(n[n.length-2]))/2);let a=n.length<3?.5:.25;s=Xe(s,0,a),r=Xe(r,0,a),this._offsets={start:s,end:r,factor:1/(s+1+r)}}_generate(){let n=this._adapter,s=this.min,r=this.max,i=this.options,o=i.time,a=o.unit||LI(o.minUnit,s,r,this._getLabelCapacity(s)),c=Y(i.ticks.stepSize,1),l=a==="week"?o.isoWeekday:!1,u=Mi(l)||l===!0,d={},h=s,f,g;if(u&&(h=+n.startOf(h,"isoWeek",l)),h=+n.startOf(h,u?"day":a),n.diff(r,s,a)>1e5*c)throw new Error(s+" and "+r+" are too far apart with stepSize of "+c+" "+a);let y=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,g=0;f<r;f=+n.add(f,c,a),g++)BI(d,f,y);return(f===r||i.bounds==="ticks"||g===1)&&BI(d,f,y),Object.keys(d).sort(OI).map(v=>+v)}getLabelForValue(n){let s=this._adapter,r=this.options.time;return r.tooltipFormat?s.format(n,r.tooltipFormat):s.format(n,r.displayFormats.datetime)}format(n,s){let i=this.options.time.displayFormats,o=this._unit,a=s||i[o];return this._adapter.format(n,a)}_tickFormatFunction(n,s,r,i){let o=this.options,a=o.ticks.callback;if(a)return _e(a,[n,s,r],this);let c=o.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&c[l],h=u&&c[u],f=r[s],g=u&&h&&f&&f.major;return this._adapter.format(n,i||(g?h:d))}generateTickLabels(n){let s,r,i;for(s=0,r=n.length;s<r;++s)i=n[s],i.label=this._tickFormatFunction(i.value,s,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let s=this._offsets,r=this.getDecimalForValue(n);return this.getPixelForDecimal((s.start+r)*s.factor)}getValueForPixel(n){let s=this._offsets,r=this.getDecimalForPixel(n)/s.factor-s.end;return this.min+r*(this.max-this.min)}_getLabelSize(n){let s=this.options.ticks,r=this.ctx.measureText(n).width,i=dn(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(i),a=Math.sin(i),c=this._resolveTickFontOptions(0).size;return{w:r*o+c*a,h:r*a+c*o}}_getLabelCapacity(n){let s=this.options.time,r=s.displayFormats,i=r[s.unit]||r.millisecond,o=this._tickFormatFunction(n,0,VI(this,[n],this._majorUnit),i),a=this._getLabelSize(o),c=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return c>0?c:1}getDataTimestamps(){let n=this._cache.data||[],s,r;if(n.length)return n;let i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,r=i.length;s<r;++s)n=n.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],s,r;if(n.length)return n;let i=this.getLabels();for(s=0,r=i.length;s<r;++s)n.push(FI(this,i[s]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return sy(n.sort(OI))}}return t})();function Wh(t,e,n){let s=0,r=t.length-1,i,o,a,c;n?(e>=t[s].pos&&e<=t[r].pos&&({lo:s,hi:r}=Zn(t,"pos",e)),{pos:i,time:a}=t[s],{pos:o,time:c}=t[r]):(e>=t[s].time&&e<=t[r].time&&({lo:s,hi:r}=Zn(t,"time",e)),{time:i,pos:a}=t[s],{time:o,pos:c}=t[r]);let l=o-i;return l?a+(c-a)*(e-i)/l:a}var Ky=class extends Zy{static id="timeseries";static defaults=Zy.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Wh(n,this.min),this._tableRange=Wh(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:n,max:s}=this,r=[],i=[],o,a,c,l,u;for(o=0,a=e.length;o<a;++o)l=e[o],l>=n&&l<=s&&r.push(l);if(r.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],c=r[o-1],l=r[o],Math.round((u+c)/2)!==l&&i.push({time:l,pos:o/(a-1)});return i}_generate(){let e=this.min,n=this.max,s=super.getDataTimestamps();return(!s.includes(e)||!s.length)&&s.splice(0,0,e),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((r,i)=>r-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?e=this.normalize(n.concat(s)):e=n.length?n:s,e=this._cache.all=e,e}getDecimalForValue(e){return(Wh(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let n=this._offsets,s=this.getDecimalForPixel(e)/n.factor-n.end;return Wh(this._table,s*this._tableRange+this._minPos,!0)}},Q5=Object.freeze({__proto__:null,CategoryScale:M5,LinearScale:Gy,LogarithmicScale:Yy,RadialLinearScale:Qy,TimeScale:Zy,TimeSeriesScale:Ky}),aT=[oH,kU,_5,Q5];ef.register(...aT);var cT=ef;var lT=(()=>{let e=class e{constructor(){}ngOnInit(){this.createChart()}createChart(){this.chart=new cT("RewardChart",{type:"line",data:{labels:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Temperature(C) in Lahore",data:[13,16,21,28,32,34,32,31,30,26,20,14],borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.2)",borderWidth:2,pointBackgroundColor:"rgb(255, 99, 132)"},{label:"Cloud Coverage(%) in Lahore",data:[26,29,31,24,10,3,14,16,4,5,14,23],borderColor:"rgb(54, 162, 235)",backgroundColor:"rgba(54, 162, 235, 0.2)",borderWidth:2,pointBackgroundColor:"rgb(54, 162, 235)"}]},options:{scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{color:"rgba(0, 0, 0, 0.1)"}}},plugins:{tooltip:{backgroundColor:"rgba(0, 0, 0, 0.7)",bodyFont:{size:14},titleFont:{size:16,weight:"bold"}},legend:{labels:{font:{size:14}}}}}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ou({type:e,selectors:[["app-reward-chart"]],decls:2,vars:0,consts:[[1,"chart-container"],["id","RewardChart"]],template:function(r,i){r&1&&(qs(0,"div",0),Ra(1,"canvas",1),Hr())},encapsulation:2});let t=e;return t})();var uT=(()=>{let e=class e{constructor(s,r,i){this.downloadService=s,this.storageService=r,this.dataService=i,this.rewardsCardanoAddress="2Eit2LFRqu2Mo33z3pYTJRHNCPYS33MrU9QgeNcRsF9359pYMahqnLvKsHwwH72C6WDSZRj7G7WC5heVyUEawcSLSx821iJXT4xWf2F5fjVWDUskGdVdyYY5RBJnp3dfYC7iPoRNeopAFQWFwEbTieow347UhRyqvo2LntFpXzomvGwVTfq9YXS8Z1GGW5mUEioD5xC17Sz72NLbQrskSx7QZAxQTbMGh6vwM9J4q7NzRmQeHmWaHLpUHMU4Jdd5ccKumMvAY8d5C8RxB4iATySLY2N1wY84qNsWNaqkNofbUebf6LgmU9HTKAmU3nDoBfX7mhCjH8kXDhZeYdRsuLVFEYu83TkpwgHAYGmUoemxWAeA2BKMx8CBAy9jxbCyUjdnk9i7sLxuejrwLLh8W4tP81YkESjZ8BV65BhzPdvCaiX8vBSorgFfnvGKVzwfhhsSDwLY1GUwLTMLwTUTjSzEjsMX9hzsEEEmhxLsekabLmK3HZ1jssLrFryNuE59uS51hazJsi3gsT8SBk1J9YV6Dq6xto28nLqrMqK6raqLcAm2iU8hBtqdoSXqWzsrZHpqc2uLGhY52ee4k9TpFBvN1RovYUtY6KS4FncT4UgnbEFkzsnWYKX3CDn16tJs5CyZ97gKcvUonZ5EqTwabzni14CcQsTtKtEAqj1odvSyfJ94NnEjuiVPC3VmZbQvveN3bQ",this.rewardsErgoAddress="2Eit2LFRqu2Mo33z3pYTJRHNCPYS33MrU9QgeNcRsF9359pYMahqnLvKsHwwH72C6WDSZRj7G7WC5heVyUEawcSLSx821iJXT4xWf2F5fjVWDUmvtxr3QSv1aLwThLXxeqYCCc34xjxZDPqPyNGYvWLNeBZxATvBeDuQ6pSiiRFknqmvYVsm9eH4Et3eRHCyxDJEoqZsAahwfVSya34dZNHmjaPQkwWo3Coc17pxiEnWuWmG38wSJz1awE6cymzhojnjxDTbbXgjR1yfYU3AU2v9zttnT8Gz3gUzZNSwjiXSPu3G9zkDaFZVKqb5QwTWY3Pp6SFJgBQfx3C3sp4a9d3n9c98pfWFWAGQN5EfkoHosF8BQTDuzXG3NU8gVCNeNPXYA8iWCbvY3XpxQMvQUxqkjDv9VQfUNvAKVHLW43chi2rdBrQ7Teu6NnesLRWUKXpzSxpByWftkCCdBppjZtYmhhCHqpQGkQyTcMRoP2krFKe7xKbfnFkdkhaYH9TTdKuTuKtGb265RXxiqrc34KvkZpaBBQB5UvoCU4iLSDngNTjqkNPnWekDahzNHLd6CtcdC1B19jdGEXWeNADemDtdK4zrMNg7U8iVpyGYhLDnkeLVrcbhoxkHxrFwfrN19XvitDosQqmt9dseR6SWHBCDZJdmJecCiEwd2wBiwN5N5umEy3Dd4Hznv7kDr6eX7KtYxp",this.title="rosen-watcher-pwa",this.data="",this.adresses_remove_this=["9h9H4FJ7jWLZ4ZvJQ9BccWKewoXdAn4mfkqwmoh9HwqjP6oB63C","9ff1hjyscYM53GjWEJ3QfR65PDC8qp8RwhD8TFiZZhCGhHFhRU6","9g64CUoAUnXWu6KmSsXv6fdawmkyrhZhrEHG9KAjDyy6DCPwKDg","9hENULphzbxZaSjfMow8doKrru3Scgd1L7tm6dXxHTVDyTEUCzY","9gwDcdAsZ2gAJdmSuFnFgbAG7dbxExDVSdSTnbYvSXvyS4YnqU6"],this.adresses=[]}retrieveData(){this.dataService.getTotalRewards().then(s=>this.data=s)}ngOnInit(){var s=this.storageService;this.retrieveData(),this.adresses_remove_this.forEach(r=>{this.downloadService.downloadTransactions(r).subscribe(i=>{console.log("Storing data to db from address: "+r),i.items.forEach(o=>{o.inputs.forEach(a=>{s.addData(r,a)})}),this.retrieveData()})})}};e.\u0275fac=function(r){return new(r||e)(ro(zD),ro(vh),ro(qD))},e.\u0275cmp=ou({type:e,selectors:[["app-root"]],decls:7,vars:1,consts:[[1,"amountcontainer"],[1,"amountblock"],[1,"amount"],[1,"chartcontainer"]],template:function(r,i){r&1&&(qs(0,"div",0)(1,"div",1),Pp(2," Total rewards: "),qs(3,"div",2),Pp(4),Hr()()(),qs(5,"div",3),Ra(6,"app-reward-chart"),Hr()),r&2&&(HE(4),Rp("",i.data," RSN"))},dependencies:[lT],styles:["@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]});let t=e;return t})();var dl="Service workers are disabled or not supported by this browser";function K5(t){return Bl(()=>vf(new Error(t)))}var fa=class{constructor(e){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=K5(dl);else{let s=zi(e,"controllerchange").pipe(Ue(()=>e.controller)),r=Bl(()=>Fs(e.controller)),i=ya(r,s);this.worker=i.pipe(rs(u=>!!u)),this.registration=this.worker.pipe(Ls(()=>e.getRegistration()));let l=zi(e,"message").pipe(Ue(u=>u.data)).pipe(rs(u=>u&&u.type)).pipe(Ef());l.connect(),this.events=l}}postMessage(e,n){return this.worker.pipe(fn(1),Hl(s=>{s.postMessage(_({action:e},n))})).toPromise().then(()=>{})}postMessageWithOperation(e,n,s){let r=this.waitForOperationCompleted(s),i=this.postMessage(e,n);return Promise.all([i,r]).then(([,o])=>o)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=s=>s.type===e:n=s=>e.includes(s.type),this.events.pipe(rs(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(fn(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(rs(n=>n.nonce===e),fn(1),Ue(n=>{if(n.result!==void 0)return n.result;throw new Error(n.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}},pT=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(s){if(this.sw=s,this.pushManager=null,this.subscriptionChanges=new It,!s.isEnabled){this.messages=Pr,this.notificationClicks=Pr,this.subscription=Pr;return}this.messages=this.sw.eventsOfType("PUSH").pipe(Ue(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(Ue(i=>i.data)),this.pushManager=this.sw.registration.pipe(Ue(i=>i.pushManager));let r=this.pushManager.pipe(Ls(i=>i.getSubscription()));this.subscription=Vl(r,this.subscriptionChanges)}requestSubscription(s){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(dl));let r={userVisibleOnly:!0},i=this.decodeBase64(s.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let a=0;a<i.length;a++)o[a]=i.charCodeAt(a);return r.applicationServerKey=o,this.pushManager.pipe(Ls(a=>a.subscribe(r)),fn(1)).toPromise().then(a=>(this.subscriptionChanges.next(a),a))}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(dl));let s=r=>{if(r===null)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})};return this.subscription.pipe(fn(1),Ls(s)).toPromise()}decodeBase64(s){return atob(s)}};e.\u0275fac=function(r){return new(r||e)(U(fa))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})(),gT=(()=>{let e=class e{get isEnabled(){return this.sw.isEnabled}constructor(s){if(this.sw=s,!s.isEnabled){this.versionUpdates=Pr,this.unrecoverable=Pr;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dl));let s=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:s},s)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(dl));let s=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:s},s)}};e.\u0275fac=function(r){return new(r||e)(U(fa))},e.\u0275prov=le({token:e,factory:e.\u0275fac});let t=e;return t})();var dT=new K("");function J5(t,e,n,s){return()=>{if(!(Hp(s)&&"serviceWorker"in navigator&&n.enabled!==!1))return;navigator.serviceWorker.addEventListener("controllerchange",()=>{navigator.serviceWorker.controller!==null&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})});let r;if(typeof n.registrationStrategy=="function")r=n.registrationStrategy();else{let[o,...a]=(n.registrationStrategy||"registerWhenStable:30000").split(":");switch(o){case"registerImmediately":r=Fs(null);break;case"registerWithDelay":r=hT(+a[0]||0);break;case"registerWhenStable":r=a[0]?Vl(fT(t),hT(+a[0])):fT(t);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${n.registrationStrategy}`)}}t.get($e).runOutsideAngular(()=>r.pipe(fn(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:n.scope}).catch(o=>console.error("Service worker registration failed with:",o))))}}function hT(t){return Fs(null).pipe(bf(t))}function fT(t){return t.get(Ur).isStable.pipe(rs(n=>n))}function e4(t,e){return new fa(Hp(e)&&t.enabled!==!1?navigator.serviceWorker:void 0)}var ul=class{};function t4(t,e={}){return Ma([pT,gT,{provide:dT,useValue:t},{provide:ul,useValue:e},{provide:fa,useFactory:e4,deps:[ul,wn]},{provide:Bp,useFactory:J5,deps:[$r,dT,ul,wn],multi:!0}])}var mT=(()=>{let e=class e{static register(s,r={}){return{ngModule:e,providers:[t4(s,r)]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=yn({type:e}),e.\u0275inj=vn({providers:[pT,gT]});let t=e;return t})();var vT=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=yn({type:e,bootstrap:[uT]}),e.\u0275inj=vn({imports:[Hx,Px,bu,mT.register("ngsw-worker.js",{enabled:!yx(),registrationStrategy:"registerWhenStable:30000"})]});let t=e;return t})();jx().bootstrapModule(vT).catch(t=>console.error(t));
