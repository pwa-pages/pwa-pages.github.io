import { Component, Input, Output, ContentChild, booleanAttribute, numberAttribute, EventEmitter, ChangeDetectionStrategy } from '@angular/core';
import { CommonModule } from '@angular/common';
import { GalleryCoreComponent } from './gallery-core.component';
import { GalleryImageDef } from '../directives/gallery-image-def.directive';
import { GalleryThumbDef } from '../directives/gallery-thumb-def.directive';
import { GalleryItemDef } from '../directives/gallery-item-def.directive';
import { GalleryBoxDef } from '../directives/gallery-box-def.directive';
import { ImgManager } from '../utils/img-manager';
import { AutoplayDirective } from '../autoplay/autoplay.directive';
import * as i0 from "@angular/core";
import * as i1 from "../services/gallery.service";
import * as i2 from "@angular/common";
/**
 * Gallery component
 */
export class GalleryComponent {
    constructor(_gallery) {
        this._gallery = _gallery;
        /**
         * The gallery instance unique id, required if more multiple gallery instances
         */
        this.id = 'root';
        /**
         * Displays the navigation buttons
         */
        this.nav = this._gallery.config.nav;
        /**
         * Displays the navigation bullets
         */
        this.bullets = this._gallery.config.bullets;
        /**
         * Enables loop cycling
         */
        this.loop = this._gallery.config.loop;
        /**
         * Show visuals that helps debugging the component
         */
        this.debug = this._gallery.config.debug;
        /**
         * Displays the thumbnails
         */
        this.thumbs = this._gallery.config.thumbs;
        /**
         * Displays the counter or pagination
         */
        this.counter = this._gallery.config.counter;
        /**
         * De-attaching the thumbnails from the main slider
         * If enabled - thumbnails won't automatically scroll to the active thumbnails
         */
        this.detachThumbs = this._gallery.config.detachThumbs;
        /**
         * Fits each thumbnail size to its content
         */
        this.thumbAutosize = this._gallery.config.thumbAutosize;
        /**
         * Fits each item size to its content, This option should be used with:
         * - Does not work if `autoHeight` is turned on
         * - Does not work properly unless `loadingAttr="eager"`
         * - Does not work properly unless `loadingStrategy="preload"`
         */
        this.itemAutosize = this._gallery.config.itemAutosize;
        /**
         * Automatically adjusts the gallery's height to fit the content
         */
        this.autoHeight = this._gallery.config.autoHeight;
        /**
         * Automatically cycle through items at time interval
         */
        this.autoplay = this._gallery.config.autoplay;
        /**
         * Disables thumbnails' clicks
         */
        this.disableThumbs = this._gallery.config.disableThumbs;
        /**
         * Disables bullets' clicks
         */
        this.disableBullets = this._gallery.config.disableBullets;
        /**
         * Disables sliding using mousewheel, touchpad, scroll and gestures on touch devices
         */
        this.disableScroll = this._gallery.config.disableScroll;
        /**
         * Disables sliding of thumbnails using touchpad, scroll and gestures on touch devices
         */
        this.disableThumbScroll = this._gallery.config.disableThumbScroll;
        /**
         * Force centralizing the active thumbnail
         */
        this.thumbCentralized = this._gallery.config.thumbCentralized;
        /**
         * Disables sliding using the mouse
         */
        this.disableMouseScroll = this._gallery.config.disableMouseScroll;
        /**
         * Disables sliding of thumbnails using the mouse
         */
        this.disableThumbMouseScroll = this._gallery.config.disableThumbMouseScroll;
        /**
         * Sets the size of the bullets navigation
         */
        this.bulletSize = this._gallery.config.bulletSize;
        /**
         * Sets the thumbnail's width
         */
        this.thumbWidth = this._gallery.config.thumbWidth;
        /**
         * Sets the thumbnail's height
         */
        this.thumbHeight = this._gallery.config.thumbHeight;
        /**
         * Sets the interval used for the autoplay feature
         */
        this.autoplayInterval = this._gallery.config.autoplayInterval;
        /**
         * Sets the duration used for smooth navigation between the items
         */
        this.scrollDuration = this._gallery.config.scrollDuration;
        /**
         * Sets the debounce time used to throttle the gallery update after it is resized
         */
        this.resizeDebounceTime = this._gallery.config.resizeDebounceTime;
        /**
         * Sets the scroll behavior when the active item is changed
         */
        this.scrollBehavior = this._gallery.config.scrollBehavior;
        /**
         * Sets the ease function used for smooth navigation between the items
         */
        this.scrollEase = this._gallery.config.scrollEase;
        /**
         * Sets the object-fit style applied on items' images
         */
        this.imageSize = this._gallery.config.imageSize;
        /**
         * Sets the object-fit style applied on thumbnails' images
         */
        this.thumbImageSize = this._gallery.config.thumbImageSize;
        /**
         * Sets the bullets navigation position
         */
        this.bulletPosition = this._gallery.config.bulletPosition;
        /**
         * Sets the counter navigation position
         */
        this.counterPosition = this._gallery.config.counterPosition;
        /**
         * Sets the sliding direction
         */
        this.orientation = this._gallery.config.orientation;
        /**
         * Sets the loading attribute applied on the items' images
         */
        this.loadingAttr = this._gallery.config.loadingAttr;
        /**
         * Sets the loading strategy used for displaying the items
         * - `lazy` renders only the active item
         * - `default` renders only the active item, the previous item and the next item
         * - `preload` renders all the items, this option is required for `thumbAutoSize` is enabled
         */
        this.loadingStrategy = this._gallery.config.loadingStrategy;
        /**
         * Sets the thumbnails position, it also sets the sliding direction of the thumbnails accordingly
         */
        this.thumbPosition = this._gallery.config.thumbPosition;
        /**
         * Destroy gallery ref on component destroy event
         * This intended to be used and disabled from the lightbox component
         * @ignore
         * */
        this.destroyRef = true;
        /**
         * Skip initializing the config with components inputs (Lightbox mode)
         * This intended to be used and enabled from the lightbox component
         * @ignore
         */
        this.skipInitConfig = false;
        /**
         * Stream that emits when an item is clicked
         */
        this.itemClick = new EventEmitter();
        /**
         * Stream that emits when a thumbnail is clicked
         */
        this.thumbClick = new EventEmitter();
        /**
         * Stream that emits when player state is changed
         */
        this.playingChange = new EventEmitter();
        /**
         * Stream that emits when index is changed
         */
        this.indexChange = new EventEmitter();
        /**
         * Stream that emits when items array is changed
         */
        this.itemsChange = new EventEmitter();
        /**
         * Stream that emits when an error occurs, this would emit for loading errors of image and video items only
         */
        this.error = new EventEmitter();
    }
    /** @ignore */
    getConfig() {
        return {
            nav: this.nav,
            bullets: this.bullets,
            loop: this.loop,
            debug: this.debug,
            thumbs: this.thumbs,
            counter: this.counter,
            autoplay: this.autoplay,
            bulletSize: this.bulletSize,
            imageSize: this.imageSize,
            thumbImageSize: this.thumbImageSize,
            scrollBehavior: this.scrollBehavior,
            thumbCentralized: this.thumbCentralized,
            thumbWidth: this.thumbWidth,
            thumbHeight: this.thumbHeight,
            scrollEase: this.scrollEase,
            bulletPosition: this.bulletPosition,
            loadingAttr: this.loadingAttr,
            detachThumbs: this.detachThumbs,
            thumbPosition: this.thumbPosition,
            autoplayInterval: this.autoplayInterval,
            counterPosition: this.counterPosition,
            loadingStrategy: this.loadingStrategy,
            scrollDuration: this.scrollDuration,
            orientation: this.orientation,
            resizeDebounceTime: this.resizeDebounceTime,
            disableBullets: this.disableBullets,
            disableThumbs: this.disableThumbs,
            disableScroll: this.disableScroll,
            disableThumbScroll: this.disableThumbScroll,
            disableMouseScroll: this.disableMouseScroll,
            disableThumbMouseScroll: this.disableThumbMouseScroll,
            thumbAutosize: this.thumbAutosize,
            itemAutosize: this.itemAutosize,
            autoHeight: this.autoHeight
        };
    }
    /** @ignore */
    ngOnChanges(changes) {
        if (this.galleryRef) {
            this.galleryRef.setConfig(this.getConfig());
            if (changes.items && changes.items.currentValue !== changes.items.previousValue) {
                this.load(this.items);
            }
        }
    }
    /** @ignore */
    ngOnInit() {
        // Get gallery instance by id
        if (this.skipInitConfig) {
            this.galleryRef = this._gallery.ref(this.id);
        }
        else {
            this.galleryRef = this._gallery.ref(this.id, this.getConfig());
        }
        // Load gallery items
        this.load(this.items);
        // Subscribes to events on demand
        if (this.indexChange.observed) {
            this._indexChange$ = this.galleryRef.indexChanged.subscribe((state) => this.indexChange.emit(state));
        }
        if (this.itemsChange.observed) {
            this._itemChange$ = this.galleryRef.itemsChanged.subscribe((state) => this.itemsChange.emit(state));
        }
        if (this.playingChange.observed) {
            this._playingChange$ = this.galleryRef.playingChanged.subscribe((state) => this.playingChange.emit(state));
        }
    }
    /** @ignore */
    ngAfterContentInit() {
        const templateConfig = {};
        if (this._galleryItemDef) {
            templateConfig.itemTemplate = this._galleryItemDef.templateRef;
        }
        if (this._galleryImageDef) {
            templateConfig.imageTemplate = this._galleryImageDef.templateRef;
        }
        if (this._galleryThumbDef) {
            templateConfig.thumbTemplate = this._galleryThumbDef.templateRef;
        }
        if (this._galleryBoxDef) {
            templateConfig.boxTemplate = this._galleryBoxDef.templateRef;
        }
        if (Object.keys(templateConfig).length) {
            this.galleryRef.setConfig(templateConfig);
        }
    }
    /** @ignore */
    ngOnDestroy() {
        this._itemClick$?.unsubscribe();
        this._thumbClick$?.unsubscribe();
        this._itemChange$?.unsubscribe();
        this._indexChange$?.unsubscribe();
        this._playingChange$?.unsubscribe();
        if (this.destroyRef) {
            this.galleryRef?.destroy();
        }
    }
    /** @ignore */
    onItemClick(i) {
        this.itemClick.emit(i);
        this.galleryRef.itemClick.next(i);
    }
    /** @ignore */
    onThumbClick(i) {
        this.galleryRef.set(i);
        this.thumbClick.emit(i);
        this.galleryRef.thumbClick.next(i);
    }
    /** @ignore */
    onError(err) {
        this.error.emit(err);
        this.galleryRef.error.next(err);
    }
    /**
     * Load items and reset the state
     */
    load(items) {
        this.galleryRef.load(items);
    }
    /**
     * Add gallery item, it can be any item, suitable to add item with a custom template
     */
    add(item, active) {
        this.galleryRef.add(item, active);
    }
    /**
     * Add image item
     */
    addImage(data, active) {
        this.galleryRef.addImage(data, active);
    }
    /**
     * Add video item
     */
    addVideo(data, active) {
        this.galleryRef.addVideo(data, active);
    }
    /**
     * Add iframe item
     */
    addIframe(data, active) {
        this.galleryRef.addIframe(data, active);
    }
    /**
     * Add Youtube item
     */
    addYoutube(data, active) {
        this.galleryRef.addYoutube(data, active);
    }
    /**
     * Add Vimeo item
     */
    addVimeo(data, active) {
        this.galleryRef.addVimeo(data, active);
    }
    /**
     * Remove gallery item by index
     */
    remove(i) {
        this.galleryRef.remove(i);
    }
    /**
     * Go to next item
     */
    next(behavior, loop) {
        this.galleryRef.next(behavior, loop);
    }
    /**
     * Go to prev item
     */
    prev(behavior, loop) {
        this.galleryRef.prev(behavior, loop);
    }
    /**
     * Set active item
     */
    set(i, behavior) {
        this.galleryRef.set(i, behavior);
    }
    /**
     * Reset to initial state
     */
    reset() {
        this.galleryRef.reset();
    }
    /**
     * Start the player
     */
    play(interval) {
        this.galleryRef.play(interval);
    }
    /**
     * Stop the player
     */
    stop() {
        this.galleryRef.stop();
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.1", ngImport: i0, type: GalleryComponent, deps: [{ token: i1.Gallery }], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "16.1.0", version: "18.2.1", type: GalleryComponent, isStandalone: true, selector: "gallery", inputs: { id: "id", items: "items", nav: ["nav", "nav", booleanAttribute], bullets: ["bullets", "bullets", booleanAttribute], loop: ["loop", "loop", booleanAttribute], debug: ["debug", "debug", booleanAttribute], thumbs: ["thumbs", "thumbs", booleanAttribute], counter: ["counter", "counter", booleanAttribute], detachThumbs: ["detachThumbs", "detachThumbs", booleanAttribute], thumbAutosize: ["thumbAutosize", "thumbAutosize", booleanAttribute], itemAutosize: ["itemAutosize", "itemAutosize", booleanAttribute], autoHeight: ["autoHeight", "autoHeight", booleanAttribute], autoplay: ["autoplay", "autoplay", booleanAttribute], disableThumbs: ["disableThumbs", "disableThumbs", booleanAttribute], disableBullets: ["disableBullets", "disableBullets", booleanAttribute], disableScroll: ["disableScroll", "disableScroll", booleanAttribute], disableThumbScroll: ["disableThumbScroll", "disableThumbScroll", booleanAttribute], thumbCentralized: ["thumbCentralized", "thumbCentralized", booleanAttribute], disableMouseScroll: ["disableMouseScroll", "disableMouseScroll", booleanAttribute], disableThumbMouseScroll: ["disableThumbMouseScroll", "disableThumbMouseScroll", booleanAttribute], bulletSize: ["bulletSize", "bulletSize", numberAttribute], thumbWidth: ["thumbWidth", "thumbWidth", numberAttribute], thumbHeight: ["thumbHeight", "thumbHeight", numberAttribute], autoplayInterval: ["autoplayInterval", "autoplayInterval", numberAttribute], scrollDuration: ["scrollDuration", "scrollDuration", numberAttribute], resizeDebounceTime: ["resizeDebounceTime", "resizeDebounceTime", numberAttribute], scrollBehavior: "scrollBehavior", scrollEase: "scrollEase", imageSize: "imageSize", thumbImageSize: "thumbImageSize", bulletPosition: "bulletPosition", counterPosition: "counterPosition", orientation: "orientation", loadingAttr: "loadingAttr", loadingStrategy: "loadingStrategy", thumbPosition: "thumbPosition", destroyRef: "destroyRef", skipInitConfig: "skipInitConfig" }, outputs: { itemClick: "itemClick", thumbClick: "thumbClick", playingChange: "playingChange", indexChange: "indexChange", itemsChange: "itemsChange", error: "error" }, providers: [ImgManager], queries: [{ propertyName: "_galleryItemDef", first: true, predicate: GalleryItemDef, descendants: true }, { propertyName: "_galleryImageDef", first: true, predicate: GalleryImageDef, descendants: true }, { propertyName: "_galleryThumbDef", first: true, predicate: GalleryThumbDef, descendants: true }, { propertyName: "_galleryBoxDef", first: true, predicate: GalleryBoxDef, descendants: true }], usesOnChanges: true, ngImport: i0, template: `
    <gallery-core autoplay
                  [galleryId]="id"
                  [state]="galleryRef.state | async"
                  [config]="galleryRef.config | async"
                  (itemClick)="onItemClick($event)"
                  (thumbClick)="onThumbClick($event)"
                  (error)="onError($event)"/>
  `, isInline: true, styles: [":host{position:relative;overflow:hidden;z-index:1;display:flex;justify-content:center;align-items:center;background-color:#000;--g-height-transition: height 468ms cubic-bezier(.42, 0, .58, 1);--g-nav-drop-shadow: drop-shadow(0 0 2px rgba(0, 0, 0, .6));--g-box-shadow: 0 0 3px rgba(0, 0, 0, .6);--g-font-color: #000;--g-overlay-color: #fff;--g-gutter-size: 1px}:host[gallerize]{--g-item-cursor: pointer}\n"], dependencies: [{ kind: "ngmodule", type: CommonModule }, { kind: "pipe", type: i2.AsyncPipe, name: "async" }, { kind: "component", type: GalleryCoreComponent, selector: "gallery-core", inputs: ["galleryId", "state", "config"], outputs: ["itemClick", "thumbClick", "error"] }, { kind: "directive", type: AutoplayDirective, selector: "gallery-core[autoplay]", inputs: ["config", "galleryId"] }], changeDetection: i0.ChangeDetectionStrategy.OnPush }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.1", ngImport: i0, type: GalleryComponent, decorators: [{
            type: Component,
            args: [{ selector: 'gallery', changeDetection: ChangeDetectionStrategy.OnPush, template: `
    <gallery-core autoplay
                  [galleryId]="id"
                  [state]="galleryRef.state | async"
                  [config]="galleryRef.config | async"
                  (itemClick)="onItemClick($event)"
                  (thumbClick)="onThumbClick($event)"
                  (error)="onError($event)"/>
  `, standalone: true, imports: [CommonModule, GalleryCoreComponent, AutoplayDirective], providers: [ImgManager], styles: [":host{position:relative;overflow:hidden;z-index:1;display:flex;justify-content:center;align-items:center;background-color:#000;--g-height-transition: height 468ms cubic-bezier(.42, 0, .58, 1);--g-nav-drop-shadow: drop-shadow(0 0 2px rgba(0, 0, 0, .6));--g-box-shadow: 0 0 3px rgba(0, 0, 0, .6);--g-font-color: #000;--g-overlay-color: #fff;--g-gutter-size: 1px}:host[gallerize]{--g-item-cursor: pointer}\n"] }]
        }], ctorParameters: () => [{ type: i1.Gallery }], propDecorators: { id: [{
                type: Input
            }], items: [{
                type: Input
            }], nav: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], bullets: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], loop: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], debug: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], thumbs: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], counter: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], detachThumbs: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], thumbAutosize: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], itemAutosize: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], autoHeight: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], autoplay: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], disableThumbs: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], disableBullets: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], disableScroll: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], disableThumbScroll: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], thumbCentralized: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], disableMouseScroll: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], disableThumbMouseScroll: [{
                type: Input,
                args: [{ transform: booleanAttribute }]
            }], bulletSize: [{
                type: Input,
                args: [{ transform: numberAttribute }]
            }], thumbWidth: [{
                type: Input,
                args: [{ transform: numberAttribute }]
            }], thumbHeight: [{
                type: Input,
                args: [{ transform: numberAttribute }]
            }], autoplayInterval: [{
                type: Input,
                args: [{ transform: numberAttribute }]
            }], scrollDuration: [{
                type: Input,
                args: [{ transform: numberAttribute }]
            }], resizeDebounceTime: [{
                type: Input,
                args: [{ transform: numberAttribute }]
            }], scrollBehavior: [{
                type: Input
            }], scrollEase: [{
                type: Input
            }], imageSize: [{
                type: Input
            }], thumbImageSize: [{
                type: Input
            }], bulletPosition: [{
                type: Input
            }], counterPosition: [{
                type: Input
            }], orientation: [{
                type: Input
            }], loadingAttr: [{
                type: Input
            }], loadingStrategy: [{
                type: Input
            }], thumbPosition: [{
                type: Input
            }], destroyRef: [{
                type: Input
            }], skipInitConfig: [{
                type: Input
            }], itemClick: [{
                type: Output
            }], thumbClick: [{
                type: Output
            }], playingChange: [{
                type: Output
            }], indexChange: [{
                type: Output
            }], itemsChange: [{
                type: Output
            }], error: [{
                type: Output
            }], _galleryItemDef: [{
                type: ContentChild,
                args: [GalleryItemDef]
            }], _galleryImageDef: [{
                type: ContentChild,
                args: [GalleryImageDef]
            }], _galleryThumbDef: [{
                type: ContentChild,
                args: [GalleryThumbDef]
            }], _galleryBoxDef: [{
                type: ContentChild,
                args: [GalleryBoxDef]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2FsbGVyeS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZy1nYWxsZXJ5L3NyYy9saWIvY29tcG9uZW50cy9nYWxsZXJ5LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQ0wsU0FBUyxFQUNULEtBQUssRUFDTCxNQUFNLEVBQ04sWUFBWSxFQUNaLGdCQUFnQixFQUNoQixlQUFlLEVBQ2YsWUFBWSxFQU1aLHVCQUF1QixFQUN4QixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFL0MsT0FBTyxFQUFFLG9CQUFvQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFPaEUsT0FBTyxFQUFFLGVBQWUsRUFBRSxNQUFNLDJDQUEyQyxDQUFDO0FBQzVFLE9BQU8sRUFBRSxlQUFlLEVBQUUsTUFBTSwyQ0FBMkMsQ0FBQztBQUM1RSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sMENBQTBDLENBQUM7QUFDMUUsT0FBTyxFQUFFLGFBQWEsRUFBRSxNQUFNLHlDQUF5QyxDQUFDO0FBQ3hFLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNsRCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxnQ0FBZ0MsQ0FBQzs7OztBQUVuRTs7R0FFRztBQWtCSCxNQUFNLE9BQU8sZ0JBQWdCO0lBa1EzQixZQUFvQixRQUFpQjtRQUFqQixhQUFRLEdBQVIsUUFBUSxDQUFTO1FBM1ByQzs7V0FFRztRQUNNLE9BQUUsR0FBVyxNQUFNLENBQUM7UUFPN0I7O1dBRUc7UUFDcUMsUUFBRyxHQUFZLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQztRQUVoRjs7V0FFRztRQUNxQyxZQUFPLEdBQVksSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDO1FBRXhGOztX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RUFBRSxlQUFlLEVBQUU7Z0JBSzVCLGNBQWM7c0JBQXRCLEtBQUs7Z0JBS0csVUFBVTtzQkFBbEIsS0FBSztnQkFLRyxTQUFTO3NCQUFqQixLQUFLO2dCQUtHLGNBQWM7c0JBQXRCLEtBQUs7Z0JBS0csY0FBYztzQkFBdEIsS0FBSztnQkFLRyxlQUFlO3NCQUF2QixLQUFLO2dCQUtHLFdBQVc7c0JBQW5CLEtBQUs7Z0JBS0csV0FBVztzQkFBbkIsS0FBSztnQkFRRyxlQUFlO3NCQUF2QixLQUFLO2dCQUtHLGFBQWE7c0JBQXJCLEtBQUs7Z0JBT0csVUFBVTtzQkFBbEIsS0FBSztnQkFPRyxjQUFjO3NCQUF0QixLQUFLO2dCQUtJLFNBQVM7c0JBQWxCLE1BQU07Z0JBS0csVUFBVTtzQkFBbkIsTUFBTTtnQkFLRyxhQUFhO3NCQUF0QixNQUFNO2dCQUtHLFdBQVc7c0JBQXBCLE1BQU07Z0JBS0csV0FBVztzQkFBcEIsTUFBTTtnQkFLRyxLQUFLO3NCQUFkLE1BQU07Z0JBRytCLGVBQWU7c0JBQXBELFlBQVk7dUJBQUMsY0FBYztnQkFFVyxnQkFBZ0I7c0JBQXRELFlBQVk7dUJBQUMsZUFBZTtnQkFFVSxnQkFBZ0I7c0JBQXRELFlBQVk7dUJBQUMsZUFBZTtnQkFFUSxjQUFjO3NCQUFsRCxZQUFZO3VCQUFDLGFBQWEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gIENvbXBvbmVudCxcclxuICBJbnB1dCxcclxuICBPdXRwdXQsXHJcbiAgQ29udGVudENoaWxkLFxyXG4gIGJvb2xlYW5BdHRyaWJ1dGUsXHJcbiAgbnVtYmVyQXR0cmlidXRlLFxyXG4gIEV2ZW50RW1pdHRlcixcclxuICBPbkluaXQsXHJcbiAgQWZ0ZXJDb250ZW50SW5pdCxcclxuICBPbkNoYW5nZXMsXHJcbiAgT25EZXN0cm95LFxyXG4gIFNpbXBsZUNoYW5nZXMsXHJcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3lcclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcclxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XHJcbmltcG9ydCB7IEdhbGxlcnlDb3JlQ29tcG9uZW50IH0gZnJvbSAnLi9nYWxsZXJ5LWNvcmUuY29tcG9uZW50JztcclxuaW1wb3J0IHsgR2FsbGVyeSB9IGZyb20gJy4uL3NlcnZpY2VzL2dhbGxlcnkuc2VydmljZSc7XHJcbmltcG9ydCB7IEdhbGxlcnlSZWYgfSBmcm9tICcuLi9zZXJ2aWNlcy9nYWxsZXJ5LXJlZic7XHJcbmltcG9ydCB7IEdhbGxlcnlFcnJvciwgR2FsbGVyeUl0ZW0sIEdhbGxlcnlTdGF0ZSB9IGZyb20gJy4uL21vZGVscy9nYWxsZXJ5Lm1vZGVsJztcclxuaW1wb3J0IHsgSWZyYW1lSXRlbURhdGEsIEltYWdlSXRlbURhdGEsIFZpZGVvSXRlbURhdGEsIFZpbWVvSXRlbURhdGEsIFlvdXR1YmVJdGVtRGF0YSB9IGZyb20gJy4vdGVtcGxhdGVzL2l0ZW1zLm1vZGVsJztcclxuaW1wb3J0IHsgR2FsbGVyeUNvbmZpZyB9IGZyb20gJy4uL21vZGVscy9jb25maWcubW9kZWwnO1xyXG5pbXBvcnQgeyBCZXppZXJFYXNpbmdPcHRpb25zIH0gZnJvbSAnLi4vc21vb3RoLXNjcm9sbCc7XHJcbmltcG9ydCB7IEdhbGxlcnlJbWFnZURlZiB9IGZyb20gJy4uL2RpcmVjdGl2ZXMvZ2FsbGVyeS1pbWFnZS1kZWYuZGlyZWN0aXZlJztcclxuaW1wb3J0IHsgR2FsbGVyeVRodW1iRGVmIH0gZnJvbSAnLi4vZGlyZWN0aXZlcy9nYWxsZXJ5LXRodW1iLWRlZi5kaXJlY3RpdmUnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5SXRlbURlZiB9IGZyb20gJy4uL2RpcmVjdGl2ZXMvZ2FsbGVyeS1pdGVtLWRlZi5kaXJlY3RpdmUnO1xyXG5pbXBvcnQgeyBHYWxsZXJ5Qm94RGVmIH0gZnJvbSAnLi4vZGlyZWN0aXZlcy9nYWxsZXJ5LWJveC1kZWYuZGlyZWN0aXZlJztcclxuaW1wb3J0IHsgSW1nTWFuYWdlciB9IGZyb20gJy4uL3V0aWxzL2ltZy1tYW5hZ2VyJztcclxuaW1wb3J0IHsgQXV0b3BsYXlEaXJlY3RpdmUgfSBmcm9tICcuLi9hdXRvcGxheS9hdXRvcGxheS5kaXJlY3RpdmUnO1xyXG5cclxuLyoqXHJcbiAqIEdhbGxlcnkgY29tcG9uZW50XHJcbiAqL1xyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ2dhbGxlcnknLFxyXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxyXG4gIHN0eWxlVXJsczogWycuL2dhbGxlcnkuc2NzcyddLFxyXG4gIHRlbXBsYXRlOiBgXHJcbiAgICA8Z2FsbGVyeS1jb3JlIGF1dG9wbGF5XHJcbiAgICAgICAgICAgICAgICAgIFtnYWxsZXJ5SWRdPVwiaWRcIlxyXG4gICAgICAgICAgICAgICAgICBbc3RhdGVdPVwiZ2FsbGVyeVJlZi5zdGF0ZSB8IGFzeW5jXCJcclxuICAgICAgICAgICAgICAgICAgW2NvbmZpZ109XCJnYWxsZXJ5UmVmLmNvbmZpZyB8IGFzeW5jXCJcclxuICAgICAgICAgICAgICAgICAgKGl0ZW1DbGljayk9XCJvbkl0ZW1DbGljaygkZXZlbnQpXCJcclxuICAgICAgICAgICAgICAgICAgKHRodW1iQ2xpY2spPVwib25UaHVtYkNsaWNrKCRldmVudClcIlxyXG4gICAgICAgICAgICAgICAgICAoZXJyb3IpPVwib25FcnJvcigkZXZlbnQpXCIvPlxyXG4gIGAsXHJcbiAgc3RhbmRhbG9uZTogdHJ1ZSxcclxuICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBHYWxsZXJ5Q29yZUNvbXBvbmVudCwgQXV0b3BsYXlEaXJlY3RpdmVdLFxyXG4gIHByb3ZpZGVyczogW0ltZ01hbmFnZXJdXHJcbn0pXHJcbmV4cG9ydCBjbGFzcyBHYWxsZXJ5Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlckNvbnRlbnRJbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBnYWxsZXJ5IHJlZmVyZW5jZSBpbnN0YW5jZVxyXG4gICAqL1xyXG4gIGdhbGxlcnlSZWY6IEdhbGxlcnlSZWY7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoZSBnYWxsZXJ5IGluc3RhbmNlIHVuaXF1ZSBpZCwgcmVxdWlyZWQgaWYgbW9yZSBtdWx0aXBsZSBnYWxsZXJ5IGluc3RhbmNlc1xyXG4gICAqL1xyXG4gIEBJbnB1dCgpIGlkOiBzdHJpbmcgPSAncm9vdCc7XHJcblxyXG4gIC8qKlxyXG4gICAqIExvYWRzIHRoZSBpdGVtcyBhcnJheSBpbnRvIHRoZSBnYWxsZXJ5XHJcbiAgICovXHJcbiAgQElucHV0KCkgaXRlbXM6IEdhbGxlcnlJdGVtIFtdO1xyXG5cclxuICAvKipcclxuICAgKiBEaXNwbGF5cyB0aGUgbmF2aWdhdGlvbiBidXR0b25zXHJcbiAgICovXHJcbiAgQElucHV0KHsgdHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlIH0pIG5hdjogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLm5hdjtcclxuXHJcbiAgLyoqXHJcbiAgICogRGlzcGxheXMgdGhlIG5hdmlnYXRpb24gYnVsbGV0c1xyXG4gICAqL1xyXG4gIEBJbnB1dCh7IHRyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZSB9KSBidWxsZXRzOiBib29sZWFuID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuYnVsbGV0cztcclxuXHJcbiAgLyoqXHJcbiAgICogRW5hYmxlcyBsb29wIGN5Y2xpbmdcclxuICAgKi9cclxuICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSkgbG9vcDogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmxvb3A7XHJcblxyXG4gIC8qKlxyXG4gICAqIFNob3cgdmlzdWFscyB0aGF0IGhlbHBzIGRlYnVnZ2luZyB0aGUgY29tcG9uZW50XHJcbiAgICovXHJcbiAgQElucHV0KHsgdHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlIH0pIGRlYnVnOiBib29sZWFuID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuZGVidWc7XHJcblxyXG4gIC8qKlxyXG4gICAqIERpc3BsYXlzIHRoZSB0aHVtYm5haWxzXHJcbiAgICovXHJcbiAgQElucHV0KHsgdHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlIH0pIHRodW1iczogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLnRodW1icztcclxuXHJcbiAgLyoqXHJcbiAgICogRGlzcGxheXMgdGhlIGNvdW50ZXIgb3IgcGFnaW5hdGlvblxyXG4gICAqL1xyXG4gIEBJbnB1dCh7IHRyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZSB9KSBjb3VudGVyOiBib29sZWFuID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuY291bnRlcjtcclxuXHJcbiAgLyoqXHJcbiAgICogRGUtYXR0YWNoaW5nIHRoZSB0aHVtYm5haWxzIGZyb20gdGhlIG1haW4gc2xpZGVyXHJcbiAgICogSWYgZW5hYmxlZCAtIHRodW1ibmFpbHMgd29uJ3QgYXV0b21hdGljYWxseSBzY3JvbGwgdG8gdGhlIGFjdGl2ZSB0aHVtYm5haWxzXHJcbiAgICovXHJcbiAgQElucHV0KHsgdHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlIH0pIGRldGFjaFRodW1iczogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmRldGFjaFRodW1icztcclxuXHJcbiAgLyoqXHJcbiAgICogRml0cyBlYWNoIHRodW1ibmFpbCBzaXplIHRvIGl0cyBjb250ZW50XHJcbiAgICovXHJcbiAgQElucHV0KHsgdHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlIH0pIHRodW1iQXV0b3NpemU6IGJvb2xlYW4gPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy50aHVtYkF1dG9zaXplO1xyXG5cclxuICAvKipcclxuICAgKiBGaXRzIGVhY2ggaXRlbSBzaXplIHRvIGl0cyBjb250ZW50LCBUaGlzIG9wdGlvbiBzaG91bGQgYmUgdXNlZCB3aXRoOlxyXG4gICAqIC0gRG9lcyBub3Qgd29yayBpZiBgYXV0b0hlaWdodGAgaXMgdHVybmVkIG9uXHJcbiAgICogLSBEb2VzIG5vdCB3b3JrIHByb3Blcmx5IHVubGVzcyBgbG9hZGluZ0F0dHI9XCJlYWdlclwiYFxyXG4gICAqIC0gRG9lcyBub3Qgd29yayBwcm9wZXJseSB1bmxlc3MgYGxvYWRpbmdTdHJhdGVneT1cInByZWxvYWRcImBcclxuICAgKi9cclxuICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSkgaXRlbUF1dG9zaXplOiBib29sZWFuID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuaXRlbUF1dG9zaXplO1xyXG5cclxuICAvKipcclxuICAgKiBBdXRvbWF0aWNhbGx5IGFkanVzdHMgdGhlIGdhbGxlcnkncyBoZWlnaHQgdG8gZml0IHRoZSBjb250ZW50XHJcbiAgICovXHJcbiAgQElucHV0KHsgdHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlIH0pIGF1dG9IZWlnaHQ6IGJvb2xlYW4gPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy5hdXRvSGVpZ2h0O1xyXG5cclxuICAvKipcclxuICAgKiBBdXRvbWF0aWNhbGx5IGN5Y2xlIHRocm91Z2ggaXRlbXMgYXQgdGltZSBpbnRlcnZhbFxyXG4gICAqL1xyXG4gIEBJbnB1dCh7IHRyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZSB9KSBhdXRvcGxheTogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmF1dG9wbGF5O1xyXG5cclxuICAvKipcclxuICAgKiBEaXNhYmxlcyB0aHVtYm5haWxzJyBjbGlja3NcclxuICAgKi9cclxuICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSkgZGlzYWJsZVRodW1iczogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmRpc2FibGVUaHVtYnM7XHJcblxyXG4gIC8qKlxyXG4gICAqIERpc2FibGVzIGJ1bGxldHMnIGNsaWNrc1xyXG4gICAqL1xyXG4gIEBJbnB1dCh7IHRyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZSB9KSBkaXNhYmxlQnVsbGV0czogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmRpc2FibGVCdWxsZXRzO1xyXG5cclxuICAvKipcclxuICAgKiBEaXNhYmxlcyBzbGlkaW5nIHVzaW5nIG1vdXNld2hlZWwsIHRvdWNocGFkLCBzY3JvbGwgYW5kIGdlc3R1cmVzIG9uIHRvdWNoIGRldmljZXNcclxuICAgKi9cclxuICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSkgZGlzYWJsZVNjcm9sbDogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmRpc2FibGVTY3JvbGw7XHJcblxyXG4gIC8qKlxyXG4gICAqIERpc2FibGVzIHNsaWRpbmcgb2YgdGh1bWJuYWlscyB1c2luZyB0b3VjaHBhZCwgc2Nyb2xsIGFuZCBnZXN0dXJlcyBvbiB0b3VjaCBkZXZpY2VzXHJcbiAgICovXHJcbiAgQElucHV0KHsgdHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlIH0pIGRpc2FibGVUaHVtYlNjcm9sbDogYm9vbGVhbiA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmRpc2FibGVUaHVtYlNjcm9sbDtcclxuXHJcbiAgLyoqXHJcbiAgICogRm9yY2UgY2VudHJhbGl6aW5nIHRoZSBhY3RpdmUgdGh1bWJuYWlsXHJcbiAgICovXHJcbiAgQElucHV0KHsgdHJhbnNmb3JtOiBib29sZWFuQXR0cmlidXRlIH0pIHRodW1iQ2VudHJhbGl6ZWQ6IGJvb2xlYW4gPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy50aHVtYkNlbnRyYWxpemVkO1xyXG5cclxuICAvKipcclxuICAgKiBEaXNhYmxlcyBzbGlkaW5nIHVzaW5nIHRoZSBtb3VzZVxyXG4gICAqL1xyXG4gIEBJbnB1dCh7IHRyYW5zZm9ybTogYm9vbGVhbkF0dHJpYnV0ZSB9KSBkaXNhYmxlTW91c2VTY3JvbGw6IGJvb2xlYW4gPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy5kaXNhYmxlTW91c2VTY3JvbGw7XHJcblxyXG4gIC8qKlxyXG4gICAqIERpc2FibGVzIHNsaWRpbmcgb2YgdGh1bWJuYWlscyB1c2luZyB0aGUgbW91c2VcclxuICAgKi9cclxuICBASW5wdXQoeyB0cmFuc2Zvcm06IGJvb2xlYW5BdHRyaWJ1dGUgfSkgZGlzYWJsZVRodW1iTW91c2VTY3JvbGw6IGJvb2xlYW4gPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy5kaXNhYmxlVGh1bWJNb3VzZVNjcm9sbDtcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgc2l6ZSBvZiB0aGUgYnVsbGV0cyBuYXZpZ2F0aW9uXHJcbiAgICovXHJcbiAgQElucHV0KHsgdHJhbnNmb3JtOiBudW1iZXJBdHRyaWJ1dGUgfSkgYnVsbGV0U2l6ZTogbnVtYmVyID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuYnVsbGV0U2l6ZTtcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgdGh1bWJuYWlsJ3Mgd2lkdGhcclxuICAgKi9cclxuICBASW5wdXQoeyB0cmFuc2Zvcm06IG51bWJlckF0dHJpYnV0ZSB9KSB0aHVtYldpZHRoOiBudW1iZXIgPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy50aHVtYldpZHRoO1xyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSB0aHVtYm5haWwncyBoZWlnaHRcclxuICAgKi9cclxuICBASW5wdXQoeyB0cmFuc2Zvcm06IG51bWJlckF0dHJpYnV0ZSB9KSB0aHVtYkhlaWdodDogbnVtYmVyID0gdGhpcy5fZ2FsbGVyeS5jb25maWcudGh1bWJIZWlnaHQ7XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIGludGVydmFsIHVzZWQgZm9yIHRoZSBhdXRvcGxheSBmZWF0dXJlXHJcbiAgICovXHJcbiAgQElucHV0KHsgdHJhbnNmb3JtOiBudW1iZXJBdHRyaWJ1dGUgfSkgYXV0b3BsYXlJbnRlcnZhbDogbnVtYmVyID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuYXV0b3BsYXlJbnRlcnZhbDtcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgZHVyYXRpb24gdXNlZCBmb3Igc21vb3RoIG5hdmlnYXRpb24gYmV0d2VlbiB0aGUgaXRlbXNcclxuICAgKi9cclxuICBASW5wdXQoeyB0cmFuc2Zvcm06IG51bWJlckF0dHJpYnV0ZSB9KSBzY3JvbGxEdXJhdGlvbjogbnVtYmVyID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuc2Nyb2xsRHVyYXRpb247XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIGRlYm91bmNlIHRpbWUgdXNlZCB0byB0aHJvdHRsZSB0aGUgZ2FsbGVyeSB1cGRhdGUgYWZ0ZXIgaXQgaXMgcmVzaXplZFxyXG4gICAqL1xyXG4gIEBJbnB1dCh7IHRyYW5zZm9ybTogbnVtYmVyQXR0cmlidXRlIH0pIHJlc2l6ZURlYm91bmNlVGltZTogbnVtYmVyID0gdGhpcy5fZ2FsbGVyeS5jb25maWcucmVzaXplRGVib3VuY2VUaW1lO1xyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSBzY3JvbGwgYmVoYXZpb3Igd2hlbiB0aGUgYWN0aXZlIGl0ZW0gaXMgY2hhbmdlZFxyXG4gICAqL1xyXG4gIEBJbnB1dCgpIHNjcm9sbEJlaGF2aW9yOiBTY3JvbGxCZWhhdmlvciA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLnNjcm9sbEJlaGF2aW9yO1xyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSBlYXNlIGZ1bmN0aW9uIHVzZWQgZm9yIHNtb290aCBuYXZpZ2F0aW9uIGJldHdlZW4gdGhlIGl0ZW1zXHJcbiAgICovXHJcbiAgQElucHV0KCkgc2Nyb2xsRWFzZTogQmV6aWVyRWFzaW5nT3B0aW9ucyA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLnNjcm9sbEVhc2U7XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIG9iamVjdC1maXQgc3R5bGUgYXBwbGllZCBvbiBpdGVtcycgaW1hZ2VzXHJcbiAgICovXHJcbiAgQElucHV0KCkgaW1hZ2VTaXplOiAnY292ZXInIHwgJ2NvbnRhaW4nID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuaW1hZ2VTaXplO1xyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSBvYmplY3QtZml0IHN0eWxlIGFwcGxpZWQgb24gdGh1bWJuYWlscycgaW1hZ2VzXHJcbiAgICovXHJcbiAgQElucHV0KCkgdGh1bWJJbWFnZVNpemU6ICdjb3ZlcicgfCAnY29udGFpbicgPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy50aHVtYkltYWdlU2l6ZTtcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgYnVsbGV0cyBuYXZpZ2F0aW9uIHBvc2l0aW9uXHJcbiAgICovXHJcbiAgQElucHV0KCkgYnVsbGV0UG9zaXRpb246ICd0b3AnIHwgJ2JvdHRvbScgPSB0aGlzLl9nYWxsZXJ5LmNvbmZpZy5idWxsZXRQb3NpdGlvbjtcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgY291bnRlciBuYXZpZ2F0aW9uIHBvc2l0aW9uXHJcbiAgICovXHJcbiAgQElucHV0KCkgY291bnRlclBvc2l0aW9uOiAndG9wJyB8ICdib3R0b20nID0gdGhpcy5fZ2FsbGVyeS5jb25maWcuY291bnRlclBvc2l0aW9uO1xyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSBzbGlkaW5nIGRpcmVjdGlvblxyXG4gICAqL1xyXG4gIEBJbnB1dCgpIG9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCcgfCAndmVydGljYWwnID0gdGhpcy5fZ2FsbGVyeS5jb25maWcub3JpZW50YXRpb247XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldHMgdGhlIGxvYWRpbmcgYXR0cmlidXRlIGFwcGxpZWQgb24gdGhlIGl0ZW1zJyBpbWFnZXNcclxuICAgKi9cclxuICBASW5wdXQoKSBsb2FkaW5nQXR0cjogJ2VhZ2VyJyB8ICdsYXp5JyA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmxvYWRpbmdBdHRyO1xyXG5cclxuICAvKipcclxuICAgKiBTZXRzIHRoZSBsb2FkaW5nIHN0cmF0ZWd5IHVzZWQgZm9yIGRpc3BsYXlpbmcgdGhlIGl0ZW1zXHJcbiAgICogLSBgbGF6eWAgcmVuZGVycyBvbmx5IHRoZSBhY3RpdmUgaXRlbVxyXG4gICAqIC0gYGRlZmF1bHRgIHJlbmRlcnMgb25seSB0aGUgYWN0aXZlIGl0ZW0sIHRoZSBwcmV2aW91cyBpdGVtIGFuZCB0aGUgbmV4dCBpdGVtXHJcbiAgICogLSBgcHJlbG9hZGAgcmVuZGVycyBhbGwgdGhlIGl0ZW1zLCB0aGlzIG9wdGlvbiBpcyByZXF1aXJlZCBmb3IgYHRodW1iQXV0b1NpemVgIGlzIGVuYWJsZWRcclxuICAgKi9cclxuICBASW5wdXQoKSBsb2FkaW5nU3RyYXRlZ3k6ICdwcmVsb2FkJyB8ICdsYXp5JyB8ICdkZWZhdWx0JyA9IHRoaXMuX2dhbGxlcnkuY29uZmlnLmxvYWRpbmdTdHJhdGVneTtcclxuXHJcbiAgLyoqXHJcbiAgICogU2V0cyB0aGUgdGh1bWJuYWlscyBwb3NpdGlvbiwgaXQgYWxzbyBzZXRzIHRoZSBzbGlkaW5nIGRpcmVjdGlvbiBvZiB0aGUgdGh1bWJuYWlscyBhY2NvcmRpbmdseVxyXG4gICAqL1xyXG4gIEBJbnB1dCgpIHRodW1iUG9zaXRpb246ICd0b3AnIHwgJ2xlZnQnIHwgJ3JpZ2h0JyB8ICdib3R0b20nID0gdGhpcy5fZ2FsbGVyeS5jb25maWcudGh1bWJQb3NpdGlvbjtcclxuXHJcbiAgLyoqXHJcbiAgICogRGVzdHJveSBnYWxsZXJ5IHJlZiBvbiBjb21wb25lbnQgZGVzdHJveSBldmVudFxyXG4gICAqIFRoaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBhbmQgZGlzYWJsZWQgZnJvbSB0aGUgbGlnaHRib3ggY29tcG9uZW50XHJcbiAgICogQGlnbm9yZVxyXG4gICAqICovXHJcbiAgQElucHV0KCkgZGVzdHJveVJlZjogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gIC8qKlxyXG4gICAqIFNraXAgaW5pdGlhbGl6aW5nIHRoZSBjb25maWcgd2l0aCBjb21wb25lbnRzIGlucHV0cyAoTGlnaHRib3ggbW9kZSlcclxuICAgKiBUaGlzIGludGVuZGVkIHRvIGJlIHVzZWQgYW5kIGVuYWJsZWQgZnJvbSB0aGUgbGlnaHRib3ggY29tcG9uZW50XHJcbiAgICogQGlnbm9yZVxyXG4gICAqL1xyXG4gIEBJbnB1dCgpIHNraXBJbml0Q29uZmlnOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0cmVhbSB0aGF0IGVtaXRzIHdoZW4gYW4gaXRlbSBpcyBjbGlja2VkXHJcbiAgICovXHJcbiAgQE91dHB1dCgpIGl0ZW1DbGljazogRXZlbnRFbWl0dGVyPG51bWJlcj4gPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlcj4oKTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3RyZWFtIHRoYXQgZW1pdHMgd2hlbiBhIHRodW1ibmFpbCBpcyBjbGlja2VkXHJcbiAgICovXHJcbiAgQE91dHB1dCgpIHRodW1iQ2xpY2s6IEV2ZW50RW1pdHRlcjxudW1iZXI+ID0gbmV3IEV2ZW50RW1pdHRlcjxudW1iZXI+KCk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0cmVhbSB0aGF0IGVtaXRzIHdoZW4gcGxheWVyIHN0YXRlIGlzIGNoYW5nZWRcclxuICAgKi9cclxuICBAT3V0cHV0KCkgcGxheWluZ0NoYW5nZTogRXZlbnRFbWl0dGVyPEdhbGxlcnlTdGF0ZT4gPSBuZXcgRXZlbnRFbWl0dGVyPEdhbGxlcnlTdGF0ZT4oKTtcclxuXHJcbiAgLyoqXHJcbiAgICogU3RyZWFtIHRoYXQgZW1pdHMgd2hlbiBpbmRleCBpcyBjaGFuZ2VkXHJcbiAgICovXHJcbiAgQE91dHB1dCgpIGluZGV4Q2hhbmdlOiBFdmVudEVtaXR0ZXI8R2FsbGVyeVN0YXRlPiA9IG5ldyBFdmVudEVtaXR0ZXI8R2FsbGVyeVN0YXRlPigpO1xyXG5cclxuICAvKipcclxuICAgKiBTdHJlYW0gdGhhdCBlbWl0cyB3aGVuIGl0ZW1zIGFycmF5IGlzIGNoYW5nZWRcclxuICAgKi9cclxuICBAT3V0cHV0KCkgaXRlbXNDaGFuZ2U6IEV2ZW50RW1pdHRlcjxHYWxsZXJ5U3RhdGU+ID0gbmV3IEV2ZW50RW1pdHRlcjxHYWxsZXJ5U3RhdGU+KCk7XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0cmVhbSB0aGF0IGVtaXRzIHdoZW4gYW4gZXJyb3Igb2NjdXJzLCB0aGlzIHdvdWxkIGVtaXQgZm9yIGxvYWRpbmcgZXJyb3JzIG9mIGltYWdlIGFuZCB2aWRlbyBpdGVtcyBvbmx5XHJcbiAgICovXHJcbiAgQE91dHB1dCgpIGVycm9yOiBFdmVudEVtaXR0ZXI8R2FsbGVyeUVycm9yPiA9IG5ldyBFdmVudEVtaXR0ZXI8R2FsbGVyeUVycm9yPigpO1xyXG5cclxuICAvKiogQGlnbm9yZSAqL1xyXG4gIEBDb250ZW50Q2hpbGQoR2FsbGVyeUl0ZW1EZWYpIHByaXZhdGUgX2dhbGxlcnlJdGVtRGVmOiBHYWxsZXJ5SXRlbURlZjtcclxuICAvKiogQGlnbm9yZSAqL1xyXG4gIEBDb250ZW50Q2hpbGQoR2FsbGVyeUltYWdlRGVmKSBwcml2YXRlIF9nYWxsZXJ5SW1hZ2VEZWY6IEdhbGxlcnlJbWFnZURlZjtcclxuICAvKiogQGlnbm9yZSAqL1xyXG4gIEBDb250ZW50Q2hpbGQoR2FsbGVyeVRodW1iRGVmKSBwcml2YXRlIF9nYWxsZXJ5VGh1bWJEZWY6IEdhbGxlcnlUaHVtYkRlZjtcclxuICAvKiogQGlnbm9yZSAqL1xyXG4gIEBDb250ZW50Q2hpbGQoR2FsbGVyeUJveERlZikgcHJpdmF0ZSBfZ2FsbGVyeUJveERlZjogR2FsbGVyeUJveERlZjtcclxuXHJcbiAgLyoqIEBpZ25vcmUgKi9cclxuICBwcml2YXRlIF9pdGVtQ2xpY2skOiBTdWJzY3JpcHRpb247XHJcbiAgLyoqIEBpZ25vcmUgKi9cclxuICBwcml2YXRlIF90aHVtYkNsaWNrJDogU3Vic2NyaXB0aW9uO1xyXG4gIC8qKiBAaWdub3JlICovXHJcbiAgcHJpdmF0ZSBfaXRlbUNoYW5nZSQ6IFN1YnNjcmlwdGlvbjtcclxuICAvKiogQGlnbm9yZSAqL1xyXG4gIHByaXZhdGUgX2luZGV4Q2hhbmdlJDogU3Vic2NyaXB0aW9uO1xyXG4gIC8qKiBAaWdub3JlICovXHJcbiAgcHJpdmF0ZSBfcGxheWluZ0NoYW5nZSQ6IFN1YnNjcmlwdGlvbjtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfZ2FsbGVyeTogR2FsbGVyeSkge1xyXG4gIH1cclxuXHJcbiAgLyoqIEBpZ25vcmUgKi9cclxuICBwcml2YXRlIGdldENvbmZpZygpOiBHYWxsZXJ5Q29uZmlnIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hdjogdGhpcy5uYXYsXHJcbiAgICAgIGJ1bGxldHM6IHRoaXMuYnVsbGV0cyxcclxuICAgICAgbG9vcDogdGhpcy5sb29wLFxyXG4gICAgICBkZWJ1ZzogdGhpcy5kZWJ1ZyxcclxuICAgICAgdGh1bWJzOiB0aGlzLnRodW1icyxcclxuICAgICAgY291bnRlcjogdGhpcy5jb3VudGVyLFxyXG4gICAgICBhdXRvcGxheTogdGhpcy5hdXRvcGxheSxcclxuICAgICAgYnVsbGV0U2l6ZTogdGhpcy5idWxsZXRTaXplLFxyXG4gICAgICBpbWFnZVNpemU6IHRoaXMuaW1hZ2VTaXplLFxyXG4gICAgICB0aHVtYkltYWdlU2l6ZTogdGhpcy50aHVtYkltYWdlU2l6ZSxcclxuICAgICAgc2Nyb2xsQmVoYXZpb3I6IHRoaXMuc2Nyb2xsQmVoYXZpb3IsXHJcbiAgICAgIHRodW1iQ2VudHJhbGl6ZWQ6IHRoaXMudGh1bWJDZW50cmFsaXplZCxcclxuICAgICAgdGh1bWJXaWR0aDogdGhpcy50aHVtYldpZHRoLFxyXG4gICAgICB0aHVtYkhlaWdodDogdGhpcy50aHVtYkhlaWdodCxcclxuICAgICAgc2Nyb2xsRWFzZTogdGhpcy5zY3JvbGxFYXNlLFxyXG4gICAgICBidWxsZXRQb3NpdGlvbjogdGhpcy5idWxsZXRQb3NpdGlvbixcclxuICAgICAgbG9hZGluZ0F0dHI6IHRoaXMubG9hZGluZ0F0dHIsXHJcbiAgICAgIGRldGFjaFRodW1iczogdGhpcy5kZXRhY2hUaHVtYnMsXHJcbiAgICAgIHRodW1iUG9zaXRpb246IHRoaXMudGh1bWJQb3NpdGlvbixcclxuICAgICAgYXV0b3BsYXlJbnRlcnZhbDogdGhpcy5hdXRvcGxheUludGVydmFsLFxyXG4gICAgICBjb3VudGVyUG9zaXRpb246IHRoaXMuY291bnRlclBvc2l0aW9uLFxyXG4gICAgICBsb2FkaW5nU3RyYXRlZ3k6IHRoaXMubG9hZGluZ1N0cmF0ZWd5LFxyXG4gICAgICBzY3JvbGxEdXJhdGlvbjogdGhpcy5zY3JvbGxEdXJhdGlvbixcclxuICAgICAgb3JpZW50YXRpb246IHRoaXMub3JpZW50YXRpb24sXHJcbiAgICAgIHJlc2l6ZURlYm91bmNlVGltZTogdGhpcy5yZXNpemVEZWJvdW5jZVRpbWUsXHJcbiAgICAgIGRpc2FibGVCdWxsZXRzOiB0aGlzLmRpc2FibGVCdWxsZXRzLFxyXG4gICAgICBkaXNhYmxlVGh1bWJzOiB0aGlzLmRpc2FibGVUaHVtYnMsXHJcbiAgICAgIGRpc2FibGVTY3JvbGw6IHRoaXMuZGlzYWJsZVNjcm9sbCxcclxuICAgICAgZGlzYWJsZVRodW1iU2Nyb2xsOiB0aGlzLmRpc2FibGVUaHVtYlNjcm9sbCxcclxuICAgICAgZGlzYWJsZU1vdXNlU2Nyb2xsOiB0aGlzLmRpc2FibGVNb3VzZVNjcm9sbCxcclxuICAgICAgZGlzYWJsZVRodW1iTW91c2VTY3JvbGw6IHRoaXMuZGlzYWJsZVRodW1iTW91c2VTY3JvbGwsXHJcbiAgICAgIHRodW1iQXV0b3NpemU6IHRoaXMudGh1bWJBdXRvc2l6ZSxcclxuICAgICAgaXRlbUF1dG9zaXplOiB0aGlzLml0ZW1BdXRvc2l6ZSxcclxuICAgICAgYXV0b0hlaWdodDogdGhpcy5hdXRvSGVpZ2h0XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcblxyXG4gIC8qKiBAaWdub3JlICovXHJcbiAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcyk6IHZvaWQge1xyXG4gICAgaWYgKHRoaXMuZ2FsbGVyeVJlZikge1xyXG4gICAgICB0aGlzLmdhbGxlcnlSZWYuc2V0Q29uZmlnKHRoaXMuZ2V0Q29uZmlnKCkpO1xyXG5cclxuICAgICAgaWYgKGNoYW5nZXMuaXRlbXMgJiYgY2hhbmdlcy5pdGVtcy5jdXJyZW50VmFsdWUgIT09IGNoYW5nZXMuaXRlbXMucHJldmlvdXNWYWx1ZSkge1xyXG4gICAgICAgIHRoaXMubG9hZCh0aGlzLml0ZW1zKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG4gIC8qKiBAaWdub3JlICovXHJcbiAgbmdPbkluaXQoKTogdm9pZCB7XHJcbiAgICAvLyBHZXQgZ2FsbGVyeSBpbnN0YW5jZSBieSBpZFxyXG4gICAgaWYgKHRoaXMuc2tpcEluaXRDb25maWcpIHtcclxuICAgICAgdGhpcy5nYWxsZXJ5UmVmID0gdGhpcy5fZ2FsbGVyeS5yZWYodGhpcy5pZCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLmdhbGxlcnlSZWYgPSB0aGlzLl9nYWxsZXJ5LnJlZih0aGlzLmlkLCB0aGlzLmdldENvbmZpZygpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMb2FkIGdhbGxlcnkgaXRlbXNcclxuICAgIHRoaXMubG9hZCh0aGlzLml0ZW1zKTtcclxuXHJcbiAgICAvLyBTdWJzY3JpYmVzIHRvIGV2ZW50cyBvbiBkZW1hbmRcclxuICAgIGlmICh0aGlzLmluZGV4Q2hhbmdlLm9ic2VydmVkKSB7XHJcbiAgICAgIHRoaXMuX2luZGV4Q2hhbmdlJCA9IHRoaXMuZ2FsbGVyeVJlZi5pbmRleENoYW5nZWQuc3Vic2NyaWJlKChzdGF0ZTogR2FsbGVyeVN0YXRlKSA9PiB0aGlzLmluZGV4Q2hhbmdlLmVtaXQoc3RhdGUpKTtcclxuICAgIH1cclxuICAgIGlmICh0aGlzLml0ZW1zQ2hhbmdlLm9ic2VydmVkKSB7XHJcbiAgICAgIHRoaXMuX2l0ZW1DaGFuZ2UkID0gdGhpcy5nYWxsZXJ5UmVmLml0ZW1zQ2hhbmdlZC5zdWJzY3JpYmUoKHN0YXRlOiBHYWxsZXJ5U3RhdGUpID0+IHRoaXMuaXRlbXNDaGFuZ2UuZW1pdChzdGF0ZSkpO1xyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMucGxheWluZ0NoYW5nZS5vYnNlcnZlZCkge1xyXG4gICAgICB0aGlzLl9wbGF5aW5nQ2hhbmdlJCA9IHRoaXMuZ2FsbGVyeVJlZi5wbGF5aW5nQ2hhbmdlZC5zdWJzY3JpYmUoKHN0YXRlOiBHYWxsZXJ5U3RhdGUpID0+IHRoaXMucGxheWluZ0NoYW5nZS5lbWl0KHN0YXRlKSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKiogQGlnbm9yZSAqL1xyXG4gIG5nQWZ0ZXJDb250ZW50SW5pdCgpOiB2b2lkIHtcclxuICAgIGNvbnN0IHRlbXBsYXRlQ29uZmlnOiBHYWxsZXJ5Q29uZmlnID0ge307XHJcbiAgICBpZiAodGhpcy5fZ2FsbGVyeUl0ZW1EZWYpIHtcclxuICAgICAgdGVtcGxhdGVDb25maWcuaXRlbVRlbXBsYXRlID0gdGhpcy5fZ2FsbGVyeUl0ZW1EZWYudGVtcGxhdGVSZWY7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fZ2FsbGVyeUltYWdlRGVmKSB7XHJcbiAgICAgIHRlbXBsYXRlQ29uZmlnLmltYWdlVGVtcGxhdGUgPSB0aGlzLl9nYWxsZXJ5SW1hZ2VEZWYudGVtcGxhdGVSZWY7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fZ2FsbGVyeVRodW1iRGVmKSB7XHJcbiAgICAgIHRlbXBsYXRlQ29uZmlnLnRodW1iVGVtcGxhdGUgPSB0aGlzLl9nYWxsZXJ5VGh1bWJEZWYudGVtcGxhdGVSZWY7XHJcbiAgICB9XHJcbiAgICBpZiAodGhpcy5fZ2FsbGVyeUJveERlZikge1xyXG4gICAgICB0ZW1wbGF0ZUNvbmZpZy5ib3hUZW1wbGF0ZSA9IHRoaXMuX2dhbGxlcnlCb3hEZWYudGVtcGxhdGVSZWY7XHJcbiAgICB9XHJcbiAgICBpZiAoT2JqZWN0LmtleXModGVtcGxhdGVDb25maWcpLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLmdhbGxlcnlSZWYuc2V0Q29uZmlnKHRlbXBsYXRlQ29uZmlnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKiBAaWdub3JlICovXHJcbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XHJcbiAgICB0aGlzLl9pdGVtQ2xpY2skPy51bnN1YnNjcmliZSgpO1xyXG4gICAgdGhpcy5fdGh1bWJDbGljayQ/LnVuc3Vic2NyaWJlKCk7XHJcbiAgICB0aGlzLl9pdGVtQ2hhbmdlJD8udW5zdWJzY3JpYmUoKTtcclxuICAgIHRoaXMuX2luZGV4Q2hhbmdlJD8udW5zdWJzY3JpYmUoKTtcclxuICAgIHRoaXMuX3BsYXlpbmdDaGFuZ2UkPy51bnN1YnNjcmliZSgpO1xyXG4gICAgaWYgKHRoaXMuZGVzdHJveVJlZikge1xyXG4gICAgICB0aGlzLmdhbGxlcnlSZWY/LmRlc3Ryb3koKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKiBAaWdub3JlICovXHJcbiAgb25JdGVtQ2xpY2soaTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLml0ZW1DbGljay5lbWl0KGkpO1xyXG4gICAgdGhpcy5nYWxsZXJ5UmVmLml0ZW1DbGljay5uZXh0KGkpO1xyXG4gIH1cclxuXHJcbiAgLyoqIEBpZ25vcmUgKi9cclxuICBvblRodW1iQ2xpY2soaTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYuc2V0KGkpO1xyXG4gICAgdGhpcy50aHVtYkNsaWNrLmVtaXQoaSk7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYudGh1bWJDbGljay5uZXh0KGkpO1xyXG4gIH1cclxuXHJcbiAgLyoqIEBpZ25vcmUgKi9cclxuICBvbkVycm9yKGVycjogR2FsbGVyeUVycm9yKTogdm9pZCB7XHJcbiAgICB0aGlzLmVycm9yLmVtaXQoZXJyKTtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5lcnJvci5uZXh0KGVycik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBMb2FkIGl0ZW1zIGFuZCByZXNldCB0aGUgc3RhdGVcclxuICAgKi9cclxuICBsb2FkKGl0ZW1zOiBHYWxsZXJ5SXRlbVtdKTogdm9pZCB7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYubG9hZChpdGVtcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgZ2FsbGVyeSBpdGVtLCBpdCBjYW4gYmUgYW55IGl0ZW0sIHN1aXRhYmxlIHRvIGFkZCBpdGVtIHdpdGggYSBjdXN0b20gdGVtcGxhdGVcclxuICAgKi9cclxuICBhZGQoaXRlbTogR2FsbGVyeUl0ZW0sIGFjdGl2ZT86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5hZGQoaXRlbSwgYWN0aXZlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFkZCBpbWFnZSBpdGVtXHJcbiAgICovXHJcbiAgYWRkSW1hZ2UoZGF0YTogSW1hZ2VJdGVtRGF0YSwgYWN0aXZlPzogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgdGhpcy5nYWxsZXJ5UmVmLmFkZEltYWdlKGRhdGEsIGFjdGl2ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgdmlkZW8gaXRlbVxyXG4gICAqL1xyXG4gIGFkZFZpZGVvKGRhdGE6IFZpZGVvSXRlbURhdGEsIGFjdGl2ZT86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5hZGRWaWRlbyhkYXRhLCBhY3RpdmUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkIGlmcmFtZSBpdGVtXHJcbiAgICovXHJcbiAgYWRkSWZyYW1lKGRhdGE6IElmcmFtZUl0ZW1EYXRhLCBhY3RpdmU/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYuYWRkSWZyYW1lKGRhdGEsIGFjdGl2ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgWW91dHViZSBpdGVtXHJcbiAgICovXHJcbiAgYWRkWW91dHViZShkYXRhOiBZb3V0dWJlSXRlbURhdGEsIGFjdGl2ZT86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5hZGRZb3V0dWJlKGRhdGEsIGFjdGl2ZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGQgVmltZW8gaXRlbVxyXG4gICAqL1xyXG4gIGFkZFZpbWVvKGRhdGE6IFZpbWVvSXRlbURhdGEsIGFjdGl2ZT86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5hZGRWaW1lbyhkYXRhLCBhY3RpdmUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmVtb3ZlIGdhbGxlcnkgaXRlbSBieSBpbmRleFxyXG4gICAqL1xyXG4gIHJlbW92ZShpOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5yZW1vdmUoaSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHbyB0byBuZXh0IGl0ZW1cclxuICAgKi9cclxuICBuZXh0KGJlaGF2aW9yPzogU2Nyb2xsQmVoYXZpb3IsIGxvb3A/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYubmV4dChiZWhhdmlvciwgbG9vcCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHbyB0byBwcmV2IGl0ZW1cclxuICAgKi9cclxuICBwcmV2KGJlaGF2aW9yPzogU2Nyb2xsQmVoYXZpb3IsIGxvb3A/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYucHJldihiZWhhdmlvciwgbG9vcCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTZXQgYWN0aXZlIGl0ZW1cclxuICAgKi9cclxuICBzZXQoaTogbnVtYmVyLCBiZWhhdmlvcj86IFNjcm9sbEJlaGF2aW9yKTogdm9pZCB7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYuc2V0KGksIGJlaGF2aW9yKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlc2V0IHRvIGluaXRpYWwgc3RhdGVcclxuICAgKi9cclxuICByZXNldCgpOiB2b2lkIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5yZXNldCgpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogU3RhcnQgdGhlIHBsYXllclxyXG4gICAqL1xyXG4gIHBsYXkoaW50ZXJ2YWw/OiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuZ2FsbGVyeVJlZi5wbGF5KGludGVydmFsKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFN0b3AgdGhlIHBsYXllclxyXG4gICAqL1xyXG4gIHN0b3AoKTogdm9pZCB7XHJcbiAgICB0aGlzLmdhbGxlcnlSZWYuc3RvcCgpO1xyXG4gIH1cclxufVxyXG4iXX0=