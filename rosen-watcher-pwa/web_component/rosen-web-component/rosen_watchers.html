<!doctype html>
<html lang="en">
  <head>
    <base href="./" />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Web Component Example</title>

    <link rel="stylesheet" href="{{styles.css}}" media="all" onload="this.media='all'" />

    <script src="{{runtime.js}}" type="module"></script>
    <script src="{{main.js}}" type="module"></script>
  </head>
  <body>
    <style>
      section {
        padding-left: 24px;
        padding-top: 16px;
        padding-bottom: 16px;
        background: #f9f9f9;
        border-radius: 8px;
        margin-bottom: 24px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
      }
      section p {
        font-size: 1.05em;
        color: #333;
      }
      section ul {
        margin-top: 12px;
        padding-left: 20px;
      }
      section li {
        margin-bottom: 6px;
      }
      section a {
        color: #1976d2;
        text-decoration: none;
      }
      section a:hover {
        text-decoration: underline;
      }
      section code {
        background: #eee;
        border-radius: 4px;
        padding: 2px 6px;
        font-size: 0.97em;
      }
    </style>
    <section>
      <p>
        This page shows example usage of the
        <code>&lt;app-watchers&gt;</code>
        tag. This is a javascript component that can be used in any html page (it is angular under
        the hood, but works with any html + js).
        <br />
        The latest JavaScript versions and styles are used on this page. Download these files and
        use them similarly (see source of this html page).
        <br />
        For detailed usage, see the
        <a
          href="https://github.com/pwa-pages/pwa-pages.github.io/blob/main/rosen-watcher-pwa/web_component/README.md"
          target="_blank"
        >
          documentation
        </a>
        .
      </p>
      <ul>
        <li>
          <a href="{{styles.css}}">{{styles.css}}</a>
          (This file can be downloaded and used if the default styling is something one wants to
          build on, the file is not necessary and if all styling is to be done custom this file can
          be ignored.)
        </li>
        <li><a href="{{runtime.js}}">{{runtime.js}} (Required)</a></li>
        <li><a href="{{main.js}}">{{main.js}} (Required)</a></li>
      </ul>
    </section>

    <app-watchers render-html="true"></app-watchers>

    <script>
      const watchersEl = document.querySelector('app-watchers');

      watchersEl.addEventListener('notifyWatchersStatsChanged', (event) => {
        console.log('Watchers stats changed:', JSON.stringify(event.detail));
      });
    </script>
  </body>
</html>
